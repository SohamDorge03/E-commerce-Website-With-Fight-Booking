(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405,4792,4661,409,2973],{20204:function(e,i,t){"use strict";var s,n,l=t(2784),r=l&&"object"==typeof l&&"default"in l?l.default:l,o=function(){return(o=Object.assign||function(e){for(var i,t=1,s=arguments.length;t<s;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)},a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e,i){return e(i={exports:{}},i.exports),i.exports}var u=c(function(e,i){var t;Object.defineProperty(i,"__esModule",{value:!0}),i.BLOCKS=void 0,(t=i.BLOCKS||(i.BLOCKS={})).DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"});d(u),u.BLOCKS;var h=c(function(e,i){var t;Object.defineProperty(i,"__esModule",{value:!0}),i.INLINES=void 0,(t=i.INLINES||(i.INLINES={})).HYPERLINK="hyperlink",t.ENTRY_HYPERLINK="entry-hyperlink",t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline"});d(h),h.INLINES;var x=c(function(e,i){var t,s;Object.defineProperty(i,"__esModule",{value:!0}),(s=t||(t={})).BOLD="bold",s.ITALIC="italic",s.UNDERLINE="underline",s.CODE="code",i.default=t});d(x);var p=c(function(e,i){var t,s=a&&a.__spreadArray||function(e,i,t){if(t||2==arguments.length)for(var s,n=0,l=i.length;n<l;n++)!s&&n in i||(s||(s=Array.prototype.slice.call(i,0,n)),s[n]=i[n]);return e.concat(s||Array.prototype.slice.call(i))};Object.defineProperty(i,"__esModule",{value:!0}),i.V1_NODE_TYPES=i.TEXT_CONTAINERS=i.HEADINGS=i.CONTAINERS=i.VOID_BLOCKS=i.TABLE_BLOCKS=i.LIST_ITEM_BLOCKS=i.TOP_LEVEL_BLOCKS=void 0,i.TOP_LEVEL_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,u.BLOCKS.TABLE],i.LIST_ITEM_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],i.TABLE_BLOCKS=[u.BLOCKS.TABLE,u.BLOCKS.TABLE_ROW,u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],i.VOID_BLOCKS=[u.BLOCKS.HR,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],i.CONTAINERS=((t={})[u.BLOCKS.OL_LIST]=[u.BLOCKS.LIST_ITEM],t[u.BLOCKS.UL_LIST]=[u.BLOCKS.LIST_ITEM],t[u.BLOCKS.LIST_ITEM]=i.LIST_ITEM_BLOCKS,t[u.BLOCKS.QUOTE]=[u.BLOCKS.PARAGRAPH],t[u.BLOCKS.TABLE]=[u.BLOCKS.TABLE_ROW],t[u.BLOCKS.TABLE_ROW]=[u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],t[u.BLOCKS.TABLE_CELL]=[u.BLOCKS.PARAGRAPH],t[u.BLOCKS.TABLE_HEADER_CELL]=[u.BLOCKS.PARAGRAPH],t),i.HEADINGS=[u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6],i.TEXT_CONTAINERS=s([u.BLOCKS.PARAGRAPH],i.HEADINGS,!0),i.V1_NODE_TYPES=[u.BLOCKS.DOCUMENT,u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.LIST_ITEM,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,h.INLINES.HYPERLINK,h.INLINES.ENTRY_HYPERLINK,h.INLINES.ASSET_HYPERLINK,h.INLINES.EMBEDDED_ENTRY,"text"]});d(p),p.V1_NODE_TYPES,p.TEXT_CONTAINERS,p.HEADINGS,p.CONTAINERS,p.VOID_BLOCKS,p.TABLE_BLOCKS,p.LIST_ITEM_BLOCKS,p.TOP_LEVEL_BLOCKS;var m=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0})});d(m);var g=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0})});d(g);var j=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var t={nodeType:u.BLOCKS.DOCUMENT,data:{},content:[{nodeType:u.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};i.default=t});d(j);var C=c(function(e,i){function t(e,i){for(var t=0,s=Object.keys(e);t<s.length;t++)if(i===e[s[t]])return!0;return!1}Object.defineProperty(i,"__esModule",{value:!0}),i.isText=i.isBlock=i.isInline=void 0,i.isInline=function(e){return t(h.INLINES,e.nodeType)},i.isBlock=function(e){return t(u.BLOCKS,e.nodeType)},i.isText=function(e){return"text"===e.nodeType}});d(C),C.isText,C.isBlock,C.isInline;var b=c(function(e,i){var t=a&&a.__createBinding||(Object.create?function(e,i,t,s){void 0===s&&(s=t);var n=Object.getOwnPropertyDescriptor(i,t);(!n||("get"in n?!i.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,s,n)}:function(e,i,t,s){void 0===s&&(s=t),e[s]=i[t]}),s=a&&a.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),n=a&&a.__exportStar||function(e,i){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(i,s)||t(i,e,s)},l=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&t(i,e,n);return s(i,e),i},r=a&&a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.helpers=i.EMPTY_DOCUMENT=i.MARKS=i.INLINES=i.BLOCKS=void 0,Object.defineProperty(i,"BLOCKS",{enumerable:!0,get:function(){return u.BLOCKS}}),Object.defineProperty(i,"INLINES",{enumerable:!0,get:function(){return h.INLINES}}),Object.defineProperty(i,"MARKS",{enumerable:!0,get:function(){return r(x).default}}),n(p,i),n(m,i),n(g,i),Object.defineProperty(i,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return r(j).default}});var o=l(C);i.helpers=o});d(b);var f=b.helpers;b.EMPTY_DOCUMENT;var v=b.MARKS,y=b.INLINES,_=b.BLOCKS,S=((s={})[_.DOCUMENT]=function(e,i){return i},s[_.PARAGRAPH]=function(e,i){return r.createElement("p",null,i)},s[_.HEADING_1]=function(e,i){return r.createElement("h1",null,i)},s[_.HEADING_2]=function(e,i){return r.createElement("h2",null,i)},s[_.HEADING_3]=function(e,i){return r.createElement("h3",null,i)},s[_.HEADING_4]=function(e,i){return r.createElement("h4",null,i)},s[_.HEADING_5]=function(e,i){return r.createElement("h5",null,i)},s[_.HEADING_6]=function(e,i){return r.createElement("h6",null,i)},s[_.EMBEDDED_ENTRY]=function(e,i){return r.createElement("div",null,i)},s[_.UL_LIST]=function(e,i){return r.createElement("ul",null,i)},s[_.OL_LIST]=function(e,i){return r.createElement("ol",null,i)},s[_.LIST_ITEM]=function(e,i){return r.createElement("li",null,i)},s[_.QUOTE]=function(e,i){return r.createElement("blockquote",null,i)},s[_.HR]=function(){return r.createElement("hr",null)},s[_.TABLE]=function(e,i){return r.createElement("table",null,r.createElement("tbody",null,i))},s[_.TABLE_ROW]=function(e,i){return r.createElement("tr",null,i)},s[_.TABLE_HEADER_CELL]=function(e,i){return r.createElement("th",null,i)},s[_.TABLE_CELL]=function(e,i){return r.createElement("td",null,i)},s[y.ASSET_HYPERLINK]=function(e){return E(y.ASSET_HYPERLINK,e)},s[y.ENTRY_HYPERLINK]=function(e){return E(y.ENTRY_HYPERLINK,e)},s[y.EMBEDDED_ENTRY]=function(e){return E(y.EMBEDDED_ENTRY,e)},s[y.HYPERLINK]=function(e,i){return r.createElement("a",{href:e.data.uri},i)},s),A=((n={})[v.BOLD]=function(e){return r.createElement("b",null,e)},n[v.ITALIC]=function(e){return r.createElement("i",null,e)},n[v.UNDERLINE]=function(e){return r.createElement("u",null,e)},n[v.CODE]=function(e){return r.createElement("code",null,e)},n);function E(e,i){return r.createElement("span",{key:i.data.target.sys.id},"type: ",i.nodeType," id: ",i.data.target.sys.id)}i.h=function(e,i){return(void 0===i&&(i={}),e)?function e(i,t){var s=t.renderNode,n=t.renderMark,o=t.renderText;if(f.isText(i))return i.marks.reduce(function(e,i){return n[i.type]?n[i.type](e):e},o?o(i.value):i.value);var a=i.content.map(function(i,s){var n;return n=e(i,t),l.isValidElement(n)&&null===n.key?l.cloneElement(n,{key:s}):n});return i.nodeType&&s[i.nodeType]?s[i.nodeType](i,a):r.createElement(r.Fragment,null,a)}(e,{renderNode:o(o({},S),i.renderNode),renderMark:o(o({},A),i.renderMark),renderText:i.renderText}):null}},80121:function(e,i){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.BLOCKS=void 0,(t=i.BLOCKS||(i.BLOCKS={})).DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"},22233:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t(80121),n={nodeType:s.BLOCKS.DOCUMENT,data:{},content:[{nodeType:s.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};i.default=n},49186:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isText=i.isBlock=i.isInline=void 0;var s=t(80121),n=t(23802);function l(e,i){for(var t=0,s=Object.keys(e);t<s.length;t++)if(i===e[s[t]])return!0;return!1}i.isInline=function(e){return l(n.INLINES,e.nodeType)},i.isBlock=function(e){return l(s.BLOCKS,e.nodeType)},i.isText=function(e){return"text"===e.nodeType}},82562:function(e,i,t){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,i,t,s){void 0===s&&(s=t);var n=Object.getOwnPropertyDescriptor(i,t);(!n||("get"in n?!i.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,s,n)}:function(e,i,t,s){void 0===s&&(s=t),e[s]=i[t]}),n=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),l=this&&this.__exportStar||function(e,i){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(i,t)||s(i,e,t)},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&s(i,e,t);return n(i,e),i},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.helpers=i.EMPTY_DOCUMENT=i.MARKS=i.INLINES=i.BLOCKS=void 0;var a=t(80121);Object.defineProperty(i,"BLOCKS",{enumerable:!0,get:function(){return a.BLOCKS}});var d=t(23802);Object.defineProperty(i,"INLINES",{enumerable:!0,get:function(){return d.INLINES}});var c=t(15931);Object.defineProperty(i,"MARKS",{enumerable:!0,get:function(){return o(c).default}}),l(t(17904),i),l(t(4335),i),l(t(85972),i);var u=t(22233);Object.defineProperty(i,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return o(u).default}});var h=r(t(49186));i.helpers=h},23802:function(e,i){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.INLINES=void 0,(t=i.INLINES||(i.INLINES={})).HYPERLINK="hyperlink",t.ENTRY_HYPERLINK="entry-hyperlink",t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline"},15931:function(e,i){"use strict";var t,s;Object.defineProperty(i,"__esModule",{value:!0}),(s=t||(t={})).BOLD="bold",s.ITALIC="italic",s.UNDERLINE="underline",s.CODE="code",s.SUPERSCRIPT="superscript",s.SUBSCRIPT="subscript",i.default=t},85972:function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},17904:function(e,i,t){"use strict";var s,n=this&&this.__spreadArray||function(e,i,t){if(t||2==arguments.length)for(var s,n=0,l=i.length;n<l;n++)!s&&n in i||(s||(s=Array.prototype.slice.call(i,0,n)),s[n]=i[n]);return e.concat(s||Array.prototype.slice.call(i))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.V1_MARKS=i.V1_NODE_TYPES=i.TEXT_CONTAINERS=i.HEADINGS=i.CONTAINERS=i.VOID_BLOCKS=i.TABLE_BLOCKS=i.LIST_ITEM_BLOCKS=i.TOP_LEVEL_BLOCKS=void 0;var r=t(80121),o=t(23802),a=l(t(15931));i.TOP_LEVEL_BLOCKS=[r.BLOCKS.PARAGRAPH,r.BLOCKS.HEADING_1,r.BLOCKS.HEADING_2,r.BLOCKS.HEADING_3,r.BLOCKS.HEADING_4,r.BLOCKS.HEADING_5,r.BLOCKS.HEADING_6,r.BLOCKS.OL_LIST,r.BLOCKS.UL_LIST,r.BLOCKS.HR,r.BLOCKS.QUOTE,r.BLOCKS.EMBEDDED_ENTRY,r.BLOCKS.EMBEDDED_ASSET,r.BLOCKS.TABLE],i.LIST_ITEM_BLOCKS=[r.BLOCKS.PARAGRAPH,r.BLOCKS.HEADING_1,r.BLOCKS.HEADING_2,r.BLOCKS.HEADING_3,r.BLOCKS.HEADING_4,r.BLOCKS.HEADING_5,r.BLOCKS.HEADING_6,r.BLOCKS.OL_LIST,r.BLOCKS.UL_LIST,r.BLOCKS.HR,r.BLOCKS.QUOTE,r.BLOCKS.EMBEDDED_ENTRY,r.BLOCKS.EMBEDDED_ASSET],i.TABLE_BLOCKS=[r.BLOCKS.TABLE,r.BLOCKS.TABLE_ROW,r.BLOCKS.TABLE_CELL,r.BLOCKS.TABLE_HEADER_CELL],i.VOID_BLOCKS=[r.BLOCKS.HR,r.BLOCKS.EMBEDDED_ENTRY,r.BLOCKS.EMBEDDED_ASSET],i.CONTAINERS=((s={})[r.BLOCKS.OL_LIST]=[r.BLOCKS.LIST_ITEM],s[r.BLOCKS.UL_LIST]=[r.BLOCKS.LIST_ITEM],s[r.BLOCKS.LIST_ITEM]=i.LIST_ITEM_BLOCKS,s[r.BLOCKS.QUOTE]=[r.BLOCKS.PARAGRAPH],s[r.BLOCKS.TABLE]=[r.BLOCKS.TABLE_ROW],s[r.BLOCKS.TABLE_ROW]=[r.BLOCKS.TABLE_CELL,r.BLOCKS.TABLE_HEADER_CELL],s[r.BLOCKS.TABLE_CELL]=[r.BLOCKS.PARAGRAPH],s[r.BLOCKS.TABLE_HEADER_CELL]=[r.BLOCKS.PARAGRAPH],s),i.HEADINGS=[r.BLOCKS.HEADING_1,r.BLOCKS.HEADING_2,r.BLOCKS.HEADING_3,r.BLOCKS.HEADING_4,r.BLOCKS.HEADING_5,r.BLOCKS.HEADING_6],i.TEXT_CONTAINERS=n([r.BLOCKS.PARAGRAPH],i.HEADINGS,!0),i.V1_NODE_TYPES=[r.BLOCKS.DOCUMENT,r.BLOCKS.PARAGRAPH,r.BLOCKS.HEADING_1,r.BLOCKS.HEADING_2,r.BLOCKS.HEADING_3,r.BLOCKS.HEADING_4,r.BLOCKS.HEADING_5,r.BLOCKS.HEADING_6,r.BLOCKS.OL_LIST,r.BLOCKS.UL_LIST,r.BLOCKS.LIST_ITEM,r.BLOCKS.HR,r.BLOCKS.QUOTE,r.BLOCKS.EMBEDDED_ENTRY,r.BLOCKS.EMBEDDED_ASSET,o.INLINES.HYPERLINK,o.INLINES.ENTRY_HYPERLINK,o.INLINES.ASSET_HYPERLINK,o.INLINES.EMBEDDED_ENTRY,"text"],i.V1_MARKS=[a.default.BOLD,a.default.CODE,a.default.ITALIC,a.default.UNDERLINE]},4335:function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},77603:function(e){e.exports=function(e,i){for(var t=-1,s=null==e?0:e.length;++t<s;)if(!i(e[t],t,e))return!1;return!0}},50080:function(e,i,t){var s=t(24303);e.exports=function(e,i){var t=!0;return s(e,function(e,s,n){return t=!!i(e,s,n)}),t}},39794:function(e,i,t){var s=t(77603),n=t(50080),l=t(68286),r=t(86152),o=t(82406);e.exports=function(e,i,t){var a=r(e)?s:n;return t&&o(e,i,t)&&(i=void 0),a(e,l(i,3))}},87314:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(10464)}])},29094:function(e,i){"use strict";i.Z={src:"/_next/static/media/Sal-Painting-2x.c8081548.png",height:5035,width:5077,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXEAAAAYGBjh4eEAAAAAAAAAAAABAQECAgIAAADf3983NzcBAQEDAwMAAAB/f38zMzPMzMwAAAA/Pz+ampoCAgK1tbWGhoYAAAAAAACVlZXr6+utrPL5AAAAGXRSTlMAOh6Fz9nD/YVc0yTjSbYErTL2iWWutGjs83dYZgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAEFJREFUeJwVxkcSgCAQAMEh7xLEbKH//6dFnxojV/V+McQw0kgjYMux7jOcr4vJK2xfjlWAnp1VBbgfWpspIlbND1vVAkv9ao33AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},38095:function(e,i){"use strict";i.Z={src:"/_next/static/media/Sal-Spray.5abcbf19.svg",height:1657,width:2161,blurWidth:0,blurHeight:0}},57474:function(e,i){"use strict";i.Z={src:"/_next/static/media/Sal-Tether.5de34fdf.svg",height:1352,width:3061,blurWidth:0,blurHeight:0}},71508:function(e,i){"use strict";i.Z={src:"/_next/static/media/gamma-logo-profile-image.c51e9197.png",height:265,width:265,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEX16+XLN8P46dv3yMDq2ebQsOnXkrP27+b28+j8+uP1w9vlo5713+Xxt9TdU5zYdLqnmfHgbYyTKuagQremCurcuOzIi+KQVuzwqpHqrO3vdcz3U6Pc/F4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nCWLSRKAIBDEGgVmGnFXVPj/P6kpc8klAQAqDJEt0OyfMxYvYHDxuG6Cn3vXJSkk17ZPg0U6j/8GNXdHWAH663uVwQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},71537:function(e,i,t){"use strict";t.d(i,{z:function(){return eh}});var s=t(52322);t(98248),t(61219);var n=t(55671),l=t(62202),r=t(18200),o=t(81674),a=t(94523),d=t(97729),c=t.n(d),u=t(5632),h=t(2784),x=t(43997),p=t(14274),m=t(93202),g=t(2013);let j=e=>{let i=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>i.includes(e))};class C extends h.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,i){if("dev"===p.v.APPLICATION_ENVIRONMENT)throw e}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===p.v.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){let i=this.props.unhandledRejectionFilter(e);if(i){var t;let i=(null===(t=e.reason)||void 0===t?void 0:t.message)||"";this.setState({hasError:!0,errMessage:i})}}render(){let e=!0===j(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,s.jsxs)(s.Fragment,{children:[this.state.hasError&&(0,s.jsx)(g.q,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}C.defaultProps={unhandledRejectionFilter:e=>{var i;return!!j((null===(i=e.reason)||void 0===i?void 0:i.message)||"")||e.reason instanceof m.YBv&&!1===document.hidden||e.reason instanceof m.R5s}},t(61036),t(62376),t(6991),t(76298),t(4466),t(43839),t(40917);var b=t(11050),f=t(42005);let v=()=>{let e=(0,h.useRef)(!1),i=(0,h.useRef)(new Map);(0,h.useEffect)(()=>{if("production"!==p.v.APPLICATION_ENVIRONMENT)return;let t=()=>{if(e.current)return;let t=i.current.get("total"),s=i.current.get("notTrusted"),n=s/t>.5;n&&t>5&&(e.current=!0,f.c.track(b.xW.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:t,notTrustedEvents:s}))},s=e=>{e.isTrusted||i.current.set("notTrusted",(i.current.get("notTrusted")||0)+1),i.current.set("total",(i.current.get("total")||0)+1),t()};return document.addEventListener("paste",s,{capture:!0}),document.addEventListener("mousedown",s,{capture:!0}),document.addEventListener("keydown",s,{capture:!0}),()=>{document.removeEventListener("paste",s,{capture:!0}),document.removeEventListener("mousedown",s,{capture:!0}),document.removeEventListener("keydown",s,{capture:!0})}},[])};var y=t(79254),_=t(27354),S=t(42111),A=t(32019),E=t(99092),I=t(36651);let k=(e,i)=>{E.H.init(p.v.HIGHLIGHT_PROJECT_ID,{environment:p.v.APPLICATION_ENVIRONMENT,sessionShortcut:!!i&&"shift+command+0",enableStrictPrivacy:e,enableSegmentIntegration:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0}}),b.co.loadSdkPromise.then(e=>{e&&e.addSourceMiddleware(E.LZ)})},D=e=>{let{children:i}=e,{user:t,anonymousUser:n,isGammaOrgUser:l,isUserLoading:r}=(0,I.SE)(),{enabled:o,enableStrictPrivacy:a}=(0,S.ye)("highlight");return(0,h.useEffect)(()=>{o&&!r&&t&&k(a,l)},[a,o,l,r,t]),(0,h.useEffect)(()=>{if(!r){if(t){let{id:e,displayName:i,email:s,profileImageUrl:n}=t;E.H.identify(e,{highlightDisplayName:i,email:s,avatar:n})}else if(null==n?void 0:n.id){let{id:e,displayName:i}=n;E.H.identify("",{anonDisplayName:i||"",anonId:e})}}},[t,n,r]),(0,s.jsx)(s.Fragment,{children:i})};var w=t(34881),T=t(87254),P=t(5879),O=t(44754);let N=e=>{let{children:i}=e;return(0,O.b)(),(0,s.jsx)(P.bd,{i18n:T.ag,children:i})};var L=t(18875),R=t(17292),M=t(55478),F=t(76332),z=t(6912),U=t(27902),B=t(21733),G=t(78462),H=t(72354),K=t(1163),V=t(2953);let W="get-gamma-pro",Y=e=>{var i,t;let{children:n}=e,{currentWorkspace:l,isUserLoading:r}=(0,B.SE)(),[o,a]=(0,h.useState)(!1),d=(0,U.z$)(),c=(0,S.ye)("upsellUXEnabled_Pro"),{data:u,refetch:x}=(0,F.FaU)({variables:{workspaceId:null==l?void 0:l.id,includeExpired:!0},skip:!(null==l?void 0:l.id)}),p=null==u?void 0:u.subscription;(0,z.ET)({subscription:p,workspace:l,autoLaunch:!0});let{data:m}=(0,F.kNl)({variables:{workspaceId:null==l?void 0:l.id},skip:!l}),g=null==m?void 0:null===(i=m.products)||void 0===i?void 0:i.find(e=>"pro"===e.key),j=null==g?void 0:null===(t=g.prices)||void 0===t?void 0:t.find(e=>e.frequencyUnit===F.C_B.Year),C=(0,K.K9)(l),{isOpen:b,onOpen:f,onClose:v}=(0,M.q)({id:"upsell-modal"}),y=(0,h.useRef)(null),_=(0,h.useCallback)(e=>{let{onOpenCallback:i,onCloseCallback:t,insufficientCreditsWarning:s,segmentEvent:n}=e;c&&(a(!!s),null==i||i(),f(),null==d||d.track(n),y.current=t||null)},[d,f,c]),A=(0,h.useCallback)(()=>{var e;null==y||null===(e=y.current)||void 0===e||e.call(y),v(),y.current=null,a(!1)},[v]),[E,I]=(0,h.useState)({openUpsellModal:_,product:C,subscription:p,proYearlyProductPrice:j});return(0,h.useEffect)(()=>{let e="true"===(0,G.SJ)()[W];e&&!r&&l&&(f(),(0,w.lO)({query:{...(0,G.SJ)(),[W]:void 0},emitChange:!1}))},[f,l,r]),(0,h.useEffect)(()=>{I({openUpsellModal:_,refetchSubscription:x,product:C,subscription:p,proYearlyProductPrice:j})},[_,C,p,j,x]),(0,s.jsxs)(V.P.Provider,{value:E,children:[n,(0,s.jsx)(H.b,{insufficientCreditsWarning:o,isUpsellModalOpen:b,closeUpsellModal:A}),(0,s.jsx)(z.S1,{})]})};var q=t(99268),X=t(25944),Z=t(19902);let Q="no_org_id",J=e=>{let{children:i}=e;(0,X.iZ)();let{user:t,anonymousUser:n,currentWorkspace:l,isUserLoading:r}=(0,I.SE)();return(0,h.useEffect)(()=>{let e=(0,Z.K)();(0,q.$n)(e.get()),e.fetch().then(q.$n).catch(()=>{})},[]),(0,h.useEffect)(()=>{let e;if(!r){if(t){let{id:i,email:s}=t,n=!!s&&s.endsWith("@gamma.app"),r=(null==l?void 0:l.id)||Q;e={userId:i,isGammaUser:n,userOrgId:r,anonymousUser:!1,gammaUserFirstName:n?t.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:Q,anonymousUser:!0,gammaUserFirstName:""};(0,q.$n)(e)}},[r,t,n,l]),(0,s.jsx)(s.Fragment,{children:i})};var $=t(54839),ee=t(91994),ei=t(89311),et=t(95426),es=t(1198),en=t(90221),el=t(60742),er=t(13265),eo=t(90383);o.vc.autoAddCss=!1;let ea=(0,ee.bh)(),ed=(0,m.RqP)(),ec=(0,m.PGq)(),eu=(0,l.B1)(a.qZ,{styles:{global:{".ProseMirror":{outline:"0 none"}}}});((e,i)=>{let t=(0,$.I)({theme:i});e.globalToast=t})(window,eu),(0,el.Lq)(),R.F7.initialize(),(0,w.lt)(),b.co.init(),(0,L.S1)(),(0,_.u7)(),(0,et.a)("appMainBundleLoaded"),console.log("\uD83D\uDE80 GammaApp main wrapper imported"),S.VH.get("debugLogging")||(window.console.debug=()=>{});let eh=e=>function(i){return(0,s.jsx)(ex,{children:(0,s.jsx)(e,{...i})})},ex=e=>{let{children:i}=e;console.log("\uD83D\uDE80 GammaApp main wrapper rendered");let t=(0,u.useRouter)();(0,ei.l)(),(0,er.k)(),v(),(0,h.useEffect)(()=>{let e=(e,i)=>{let{shallow:t}=i;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(t?"with":"without"," shallow routing"))};return t.events.on("routeChangeStart",e),()=>{t.events.off("routeChangeStart",e)}},[t]);let l=(0,es.aY)();return(0,s.jsx)(x.zt,{store:ea,children:(0,s.jsx)(N,{children:(0,s.jsx)(r.x,{theme:eu,resetCSS:!0,children:(0,s.jsx)(C,{children:(0,s.jsx)(n.e,{client:ed,children:(0,s.jsxs)(m.mdV,{client:ec,children:[(0,s.jsx)(em,{}),(0,s.jsx)(y.H6,{}),(0,s.jsx)(L.GQ,{}),(0,s.jsxs)(I.fS,{children:[(0,s.jsx)(U.qA,{children:(0,s.jsx)(S.dF,{children:(0,s.jsx)(Y,{children:(0,s.jsx)(m.Imj,{children:(0,s.jsx)(J,{children:(0,s.jsx)(D,{children:(0,s.jsx)(es.dv,{value:l,children:(0,s.jsx)(A.u,{children:i})})})})})})})}),(0,s.jsx)(S.MG,{})]})]})})})})})})},ep="A new medium for presenting ideas, powered by AI. Beautiful, engaging content with none of the formatting and design work.",em=()=>{let e=p.v.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(c(),{children:[(0,s.jsx)("title",{children:"Gamma"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"production"===e?"/favicons/favicon-transparent-96x96.png":"staging"===e?"/favicons/favicon_staging.jpg":"/favicons/favicon_local.jpg"}),(0,s.jsx)("meta",{content:ep,name:"description"},"description"),(0,s.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,s.jsx)("meta",{content:ep,property:"og:description"},"og:description"),(0,s.jsx)("meta",{content:p.v.OG_IMAGE_URL,property:"og:image"},"og:image"),(0,s.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,s.jsx)("meta",{content:ep,property:"twitter:description"},"twitter:description"),(0,s.jsx)("meta",{content:p.v.OG_IMAGE_URL,property:"twitter:image"},"twitter:image"),(0,s.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,s.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,en.l6)()&&!(0,eo.wg)()&&(0,s.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,s.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},16983:function(e,i,t){"use strict";t.d(i,{X:function(){return v}});var s=t(52322),n=t(11881),l=t(28535),r=t(62614),o=t(43297),a=t(38035),d=t(75009),c=t(29117),u=t(82554),h=t(74409),x=t(77533),p=t(82655),m=t(49929),g=t(5879),j=t(39097),C=t.n(j),b=t(90221);let f=e=>{let{children:i,href:t,onClick:o,as:a=C()}=e;return t?(0,s.jsx)(n.f,{as:l.xu,role:"group",onClick:o,children:(0,s.jsx)(n.A,{href:t,as:a,_focusVisible:{boxShadow:"none",outline:"0 none !important"},_hover:{textDecoration:"none !important"},children:i})}):(0,s.jsx)(l.xu,{as:r.z,w:"100%",variant:"unstyled",display:"inline-flex",h:"fit-content",role:"group",onClick:o,maxW:{base:"none",md:"18em"},tabIndex:0,_focusVisible:{boxShadow:"none",outline:"0 none !important"},children:i})},v=e=>{let{label:i,description:t,isPopular:n,colorScheme:r,imageUrl:j,href:v,transform:y,onClick:_,ctaIcon:S,ctaLabel:A,as:E}=e;return(0,s.jsx)(f,{href:v,onClick:e=>{null==_||_(e)},as:E||C(),children:(0,s.jsxs)(o.K,{cursor:"pointer",direction:{base:"row",md:"column"},px:"0",flex:"1",whiteSpace:"normal",textAlign:"left",spacing:"0",border:"none",bg:"white",borderRadius:"lg",boxShadow:{base:"sm",md:"md"},transition:"all 300ms ease",bottom:"0",outline:"none",_groupHover:(0,b.s2)()?{}:{bottom:3,boxShadow:"xl",transform:"scale(1.03)"},position:"relative",transform:{base:"auto",md:y&&!(0,b.s2)()?y:"auto"},_groupFocusWithin:{shadow:"outline"},overflow:"hidden",children:[(0,s.jsxs)(a.k,{flex:"1",justifyContent:"center",textAlign:"center",color:"".concat(r,".500"),bg:"".concat(r,".100"),position:"relative",minH:{base:"none",md:"190px"},children:[(0,s.jsx)(d.E,{src:j,objectFit:"cover",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.02)"}}),n&&(0,s.jsx)(c.U,{position:"absolute",bottom:"2",left:"2",children:(0,s.jsxs)(u.C,{colorScheme:"teal",fontSize:"md",p:"0.5",px:"2",textTransform:"none",fontWeight:"600",borderRadius:["sm","md"],children:[(0,s.jsx)(m.G,{icon:p.BDt})," ",(0,s.jsx)(g.cC,{id:"gL/sdV"})]})})]}),(0,s.jsxs)(o.K,{spacing:"1.5",p:4,maxW:"100%",minH:{base:"100px",md:"none"},justifyContent:"space-between",alignItems:"stretch",flex:"1.5",direction:{base:"row",md:"column"},position:"relative",h:"100%",children:[(0,s.jsxs)(o.K,{children:[(0,s.jsx)(h.X,{fontSize:{base:"xl",md:"2xl"},fontWeight:"600",children:i}),(0,s.jsx)(c.U,{children:(0,s.jsx)(l.xu,{fontSize:{base:"sm",md:"md"},fontWeight:"500",lineHeight:"1.4",color:"gray.600",children:t})})]}),(0,s.jsxs)(c.U,{maxW:"100%",justifyContent:"flex-end",alignItems:"flex-start",fontSize:{base:"sm",sm:"md"},p:{base:.5,md:0},children:[(0,s.jsx)(x.x,{display:{base:"none",md:"block"},transition:"all 300ms ease",opacity:0,color:"".concat(r,".700"),_groupFocusWithin:{opacity:1},_groupHover:{opacity:1},children:A}),(0,s.jsx)(l.xu,{fontSize:{base:"md",sm:"lg"},_groupFocusWithin:{color:"".concat(r,".700")},_groupHover:{color:"".concat(r,".700")},children:S})]})]})]})})}},60510:function(e,i,t){"use strict";t.d(i,{r:function(){return L},h:function(){return R}});var s=t(52322),n=t(38035),l=t(17993),r=t(77533),o=t(62614),a=t(81672),d=t(42946),c=t(49929),u=t(2784),h=t(90221),x=t(90439),p=t(93441),m=t(89458),g=t(90383),j=t(18733),C=t(5879),b=t(42111),f=t(78462),v=t(94199),y=t(11082),_=t(64173),S=t(31807),A=t(6912),E=t(48832),I=t(11050),k=t(36651),D=t(81640),w=t(12265),T=t(11942),P=t(88640);let O=[{Component:()=>{let e=(0,b.ye)("outageButterbar");if(!e.enabled)return null;let{header:i,text:t,buttonLink:n,buttonText:l,key:r,pathnameRegexp:o}=e;return(0,s.jsx)(R,{definition:{key:r,header:i,text:t,buttonText:l,buttonLink:n,conditions:()=>!o||null!==window.location.pathname.match(new RegExp(o))}})},key:"outage-butterbar"},{Component:()=>{let e=(0,b.ye)("openAiStatus");return"NORMAL"===e?null:(0,s.jsx)(R,{definition:{key:"ai-service-status",header:(0,s.jsx)(C.cC,{id:"1Agl06"}),text:(0,s.jsx)(C.cC,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,f._r)(window.location.pathname)}})},key:"ai-service-status-butterbar"},{Component:()=>{var e,i,t;let{user:n,currentWorkspace:l}=(0,k.SE)(),{subscription:r,product:o}=(0,D.z)(),{launchFailedPaymentFlow:a,failedPaymentFlowEnabled:d}=(0,A.ET)({subscription:r,workspace:l,autoLaunch:!1});if(!r||!o)return null;let c=(0,w.K)(),{name:u,dontChurnMessage:h}=c[o],{status:x,expirationTime:p,id:m}=r,g=(0,E.p6)(p,"MMMM do, yyyy"),j=(null==r?void 0:null===(e=r.createdByUser)||void 0===e?void 0:e.id)===(null==n?void 0:n.id),b=(0,T._8)(),f=p>Date.now();if(!("unpaid"===x||"past_due"===x)&&!f)return null;let _=b&&(j||!(null==r?void 0:r.createdByUser))?(0,s.jsx)(C.cC,{id:"velw1T",values:{expirationFormatted:g,GAMMA_PROPER_NOUN:v.N6,productName:u},components:{0:(0,s.jsx)(y.r,{href:b,isExternal:!0,textDecoration:"underline"})}}):(0,s.jsx)(C.cC,{id:"9aBOfk",values:{expirationFormatted:g,GAMMA_PROPER_NOUN:v.N6,productName:u,0:null===(i=r.createdByUser)||void 0===i?void 0:i.displayName,1:null===(t=r.createdByUser)||void 0===t?void 0:t.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}});return(0,s.jsx)(R,{definition:{key:"payment-overdue-".concat(m),header:(0,s.jsx)(C.cC,{id:"gosJne",values:{productName:u}}),text:(0,s.jsxs)(s.Fragment,{children:[h," ",_]}),buttonText:(0,s.jsx)(C.cC,{id:"WLvqZR"}),buttonLink:d?void 0:b,buttonOnClick:d?a:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:i}=(0,D.z)();if(!e)return null;let{status:t,expirationTime:n,id:l}=e,r=new Date>(0,S.Z)(n)&&new Date<(0,_.Z)((0,S.Z)(n),{days:10});if(!r)return null;let o=()=>i({segmentEvent:I.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),a=(0,s.jsx)(y.r,{onClick:o,isExternal:!0,textDecoration:"underline",children:(0,s.jsx)(C.cC,{id:"mj68q/"})});return(0,s.jsx)(R,{definition:{key:"subscription-expired-".concat(l),header:(0,s.jsx)(C.cC,{id:"5nhH6A"}),text:(0,s.jsxs)(s.Fragment,{children:["unpaid"===t||"past_due"===t?(0,s.jsx)(C.cC,{id:"QdgXJv"}):""," ",a]}),buttonText:(0,s.jsx)(C.cC,{id:"kwkhPe"}),buttonOnClick:o}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,i,t;let{user:n}=(0,k.SE)(),{subscription:l,product:r}=(0,D.z)();if(!l||!r)return null;let{status:o,expirationTime:a,id:d,cancellationRequestedTime:c}=l,u="canceled"!=o&&c&&new Date<(0,S.Z)(a)&&new Date>(0,_.Z)((0,S.Z)(a),{days:-7});if(!u)return null;let h=(null==l?void 0:null===(e=l.createdByUser)||void 0===e?void 0:e.id)===(null==n?void 0:n.id),x=(0,T._8)(),p=(0,E.p6)(a,"MMMM do, yyyy"),m=(0,w.K)(),{name:g,dontChurnMessage:j}=m[r],b=!h&&(null==l?void 0:l.createdByUser)?(0,s.jsx)(C.cC,{id:"z4DeyC",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:v.N6,productName:g,0:null===(i=l.createdByUser)||void 0===i?void 0:i.displayName,1:null===(t=l.createdByUser)||void 0===t?void 0:t.email},components:{0:(0,s.jsx)("b",{}),1:(0,s.jsx)("b",{})}}):(0,s.jsx)(C.cC,{id:"qP91+f",values:{expirationFormatted:p,GAMMA_PROPER_NOUN:v.N6,productName:g},components:{0:(0,s.jsx)(y.r,{href:x,isExternal:!0,textDecoration:"underline"})}});return(0,s.jsx)(R,{definition:{key:"subscription-ending-soon-".concat(d),header:(0,s.jsx)(C.cC,{id:"THJAvC",values:{productName:g}}),text:(0,s.jsxs)(s.Fragment,{children:[j," ",b]}),buttonText:(0,s.jsx)(C.cC,{id:"3jHA5d"}),buttonLink:x}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,s.jsx)(C.cC,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:v.N6}}),text:(0,s.jsx)(C.cC,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:v.N6}}),conditions:()=>(0,h.dA)(),dismissKey:P.H.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,s.jsx)(C.cC,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:v.N6}}),text:(0,s.jsx)(C.cC,{id:"Tf7VpJ"}),conditions:()=>N()&&(0,h.ds)(),dismissKey:P.H.lastDismissedPreferredBrowserMessage}],N=()=>(0,h.jP)()||!(0,h.i7)()&&!(0,h.G6)()&&!(0,h.NA)(),L=e=>{let{isViewOnly:i}=e,t=(0,p.gF)();if(i||!t||(0,h.l6)()||x.cx||(0,g.wg)())return null;let l=O.map(e=>"Component"in e?(0,s.jsx)(e.Component,{},e.key):(0,s.jsx)(R,{definition:e},e.key));return(0,s.jsx)(n.k,{"data-testid":"butterbar",direction:"column",top:0,pos:"relative",zIndex:"banner",sx:{"> *:not(:first-child)":{display:"none"}},children:l})},R=e=>{let{definition:i}=e,{key:t,dismissKey:h="butterbar-dismiss-".concat(t),header:x,text:p,buttonText:g,buttonLink:C,buttonOnClick:b=C?()=>window.open(C,"_blank"):void 0,conditions:f,ttl:v}=i,[y,_]=(0,m.I)(h,!1);return((0,u.useEffect)(()=>{if(!(v&&y))return;let e=new Date().getTime(),i=new Date(y).getTime(),t=e-i>1e3*v;t&&j.W.removeItem(h)},[h,y,v]),f&&!f()||y)?null:(0,s.jsxs)(n.k,{direction:"row",bg:"indigo.500",color:"white",py:3,px:4,align:"center",fontSize:"sm",children:[(0,s.jsxs)(l.g,{flex:"1",align:"start",spacing:0,children:[(0,s.jsx)(r.x,{fontWeight:"bold",children:x}),(0,s.jsx)(r.x,{opacity:"0.7",fontSize:"xs",children:p})]}),g&&b&&(0,s.jsx)(o.z,{variant:"plain",size:"sm",mr:4,rightIcon:C?(0,s.jsx)(c.G,{icon:d.wlW}):void 0,onClick:b,children:g}),(0,s.jsx)(a.P,{onClick:()=>{_(String(new Date))}})]})}},2013:function(e,i,t){"use strict";t.d(i,{q:function(){return y}});var s=t(52322),n=t(38035),l=t(77533),r=t(49259),o=t(87436),a=t(95897),d=t(28535),c=t(89511),u=t(11121),h=t(44438),x=t(42822),p=t(62614),m=t(75009),g=t(94523),j=t(5879),C=t(3543),b=t(92981);let f=(0,s.jsx)(j.cC,{id:"HiX9QN"}),v={bgImage:"radial-gradient(1px 1px at 20px 30px, #eee, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 40px 70px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 50px 160px, #ddd, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 130px 80px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 160px 120px, #ddd, rgba(0,0,0,0))",bgRepeat:"repeat",bgSize:"200px 200px",transform:"translate(-50%,-50%)",borderRadius:{base:0,lg:"100px"},pos:"relative",maxW:"8xl",maxH:"5xl",minH:{base:0,lg:"5xl"}},y=e=>{let{errMessage:i=f,showDisclosure:t=!1,opacity:y=1,starOverlay:_=!0,backgroundColor:S=g.qZ.colors.trueblue[900],...A}=e,E=_?v:{};return(0,s.jsx)(n.k,{"data-error-component":!0,w:"100vw",h:"100vh",overflow:"hidden",zIndex:99999,backgroundColor:(0,C.tT)(S,y),...A,children:(0,s.jsx)(n.k,{...E,justifyContent:"center",alignItems:"center",flex:1,p:[4,16],left:"50%",top:"50%",children:(0,s.jsxs)(b.qX,{lede:"",title:(0,s.jsx)(j.cC,{id:"HbR60U"}),stackProps:{shadow:"lg-dark",position:"relative"},children:[(0,s.jsx)(l.x,{children:(0,s.jsx)(j.cC,{id:"1gm+lP"})}),t&&(0,s.jsx)(r.U,{allowToggle:!0,pt:4,children:(0,s.jsxs)(o.Q,{children:[(0,s.jsxs)(a.K,{px:0,_hover:{bgColor:"none"},borderStyle:"none",children:[(0,s.jsx)(d.xu,{flex:"1",textAlign:"left",children:(0,s.jsx)(j.cC,{id:"qug3k/"})}),(0,s.jsx)(c.X,{})]}),(0,s.jsx)(u.H,{pb:4,children:(0,s.jsx)(h.E,{colorScheme:"red",children:i})})]})}),(0,s.jsx)(x.M,{children:(0,s.jsx)(p.z,{variant:"solid",size:"lg",m:6,onClick:()=>{window.location.reload()},children:(0,s.jsx)(j.cC,{id:"C6f2hU"})})}),(0,s.jsx)(m.E,{pos:"absolute",w:36,bottom:"calc(-100% + 120px)",right:-12,src:"/_next/static/media/Sal-Asteroid-Parachute.ad317576.png",pointerEvents:"none",opacity:{base:0,md:1}})]})})})}},4661:function(e,i,t){"use strict";t.d(i,{o:function(){return o}});var s=t(52322),n=t(38035),l=t(60510);let r=e=>{let{children:i,withFooter:t,isViewOnly:r}=e;return(0,s.jsxs)(n.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",children:[(0,s.jsx)(l.r,{isViewOnly:r}),(0,s.jsx)(n.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"center",alignItems:"center",direction:"column",position:"relative",children:i}),t&&(0,s.jsxs)(n.k,{fontSize:"12px",color:"gray.400",pb:8,id:"footer",justifyContent:"center",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})};function o(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withFooter:!1,isViewOnly:!1},{withFooter:t,isViewOnly:n}=i,l=i=>(0,s.jsx)(r,{withFooter:t,isViewOnly:n,children:(0,s.jsx)(e,{...i})});return"getInitialProps"in e&&(l.getInitialProps=e.getInitialProps),l}},409:function(e,i,t){"use strict";t.d(i,{oO:function(){return s.o},wI:function(){return d},GE:function(){return A}});var s=t(4661),n=t(52322),l=t(38035),r=t(28165),o=t(60510);let a=e=>{let{children:i}=e;return(0,n.jsxs)(l.k,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.100",color:"gray.800",p:0,children:[(0,n.jsx)(r.xB,{styles:{body:{overflowY:"scroll"}}}),(0,n.jsx)(o.r,{}),i]})};function d(e){let i=i=>(0,n.jsx)(a,{children:(0,n.jsx)(e,{...i})});return"getInitialProps"in e&&(i.getInitialProps=e.getInitialProps),i}var c=t(15706),u=t(5632),h=t(45847),x=t.n(h),p=t(2784),m=t(14274),g=t(55001),j=t(18606),C=t(7454),b=t(17283),f=t(17821),v=t(90221);let y=m.v.IS_CLIENT_SIDE&&document.cookie.includes("gammaGADebug=true"),_=()=>"production"===m.v.APPLICATION_ENVIRONMENT&&!(0,v.l6)()||y,S=e=>{let{children:i,headerMode:t}=e,s=(0,u.useRouter)();return(0,p.useEffect)(()=>{if(!_())return;let e=e=>{(0,b.o8)(e)};return s.events.on("routeChangeComplete",e),s.events.on("hashChangeComplete",e),()=>{s.events.off("routeChangeComplete",e),s.events.off("hashChangeComplete",e)}},[s.events]),(0,n.jsxs)(l.k,{direction:"column",width:"100%",height:"100%",minHeight:"var(--100vh)",bg:"#EDE9E8",color:"gray.800",overflowX:"hidden",children:[_()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=".concat(b.vt)}),(0,n.jsx)(x(),{id:"gtag-init",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n              gtag('config', '".concat(b.vt,"', {\n                page_path: window.location.pathname,\n              });\n            ")}})]}),(0,n.jsx)(j.P,{headerMode:t}),(0,n.jsx)(l.k,{zIndex:"1",id:"main",flex:"1",justifyContent:"flex-start",alignItems:"center",direction:"column",position:"relative",children:i}),(0,n.jsx)(g.Y,{})]})};function A(e,i){let t=t=>{let{headerMode:s}=i||{};return(0,n.jsxs)(c.f6,{theme:C.i,children:[(0,n.jsx)(f.ZP,{}),(0,n.jsx)(S,{headerMode:s,children:(0,n.jsx)(e,{...t})})]})};return"getInitialProps"in e&&(t.getInitialProps=e.getInitialProps),t}},79254:function(e,i,t){"use strict";t.d(i,{$C:function(){return h},H6:function(){return u},Uj:function(){return x}});var s=t(52322),n=t(5632),l=t(45847),r=t.n(l),o=t(14274),a=t(93441),d=t(34385);let c=["/signin","/signup","/invitations/workspaces/[workspaceId]"],u=()=>{let e=(0,n.useRouter)().pathname;return!(0,a.gF)()||c.includes(e)?null:(0,s.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,s.jsx)(r(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(o.v.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),x=async e=>(await (0,d.X)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((i,t)=>{grecaptcha.enterprise.ready(async()=>{try{let t=await grecaptcha.enterprise.execute(o.v.RECAPTCHA_SCORING_KEY,{action:e});i(t)}catch(e){console.log(e),t(e)}})}))},24551:function(e,i,t){"use strict";t.d(i,{C:function(){return S},O:function(){return A}});var s=t(52322),n=t(38035),l=t(17993),r=t(62614),o=t(67109),a=t(42946),d=t(49929),c=t(5879),u=t(55388),h=t(2689),x=t.n(h),p=t(2784),m=t(91994),g=t(62040),j=t(90507),C=t(28858),b=t(46741),f=t(76282),v=t(74720),y=t(14874);let _={...C.I,...v.R,...b.dE},S="ai-card-editor",A=(0,p.memo)(e=>{let{...i}=e,t=(0,m.CG)(f.$X),o=(0,u.jE)({...i,extensions:y.XL});o&&(o.editorId=S);let h=(0,m.CG)(f.g8),C=(0,m.CG)(f.CC);(0,p.useEffect)(()=>{o&&o.setEditable(!t)},[t,o]);let b=(0,p.useCallback)(()=>{null==o||o.chain().insertContentAt(null==o?void 0:o.state.doc.content.size,{type:"card",content:[{type:"paragraph"}]}).selectInsertedNode().run()},[o]);return(0,g.n)(o),(0,s.jsxs)(n.k,{flex:"1",direction:"column",sx:_,p:{base:2,md:3},children:[(0,s.jsx)(j.kg,{editor:o,style:{wordBreak:"break-word",display:"flex",flexDirection:"column"}}),t&&(0,s.jsx)(l.g,{children:x()(h-C).map(e=>(0,s.jsx)(E,{},e))}),!t&&(0,s.jsx)(r.z,{boxShadow:"none",leftIcon:(0,s.jsx)(d.G,{icon:a.r8p,fixedWidth:!0}),onClick:b,children:(0,s.jsx)(c.cC,{id:"sFY+gw"})})]})});A.displayName="AICardEditor";let E=()=>(0,s.jsx)(o.O,{height:14,width:"100%",borderRadius:"md"})},74720:function(e,i,t){"use strict";t.d(i,{R:function(){return n}});var s=t(40212);let n={".ProseMirror":{flex:1,...s.U},".block":{my:"0.75rem",":first-child":{mt:"0px !important"},":last-child":{mb:"0px !important"}},".block-heading":{fontWeight:"bold",lineHeight:"1.25",_first:{mt:0}},h1:{fontSize:"1.5em"},h2:{fontSize:"1.25em"},h3:{fontSize:"1.125em"},"a[href]":{color:"var(--chakra-colors-trueblue-600)",textDecoration:"underline"}}},14874:function(e,i,t){"use strict";t.d(i,{XL:function(){return eC},uJ:function(){return ej},dW:function(){return eb}});var s=t(72338),n=t(86900),l=t(42626),r=t(74902),o=t(36518),a=t(71391),d=t(86509),c=t(9432),u=t(70675),h=t(38438),x=t(39615),p=t(39475),m=t(77381),g=t(6085),j=t(3402),C=t(17487),b=t(72762),f=t(73528),v=t(99173),y=t(41889),_=t(13653),S=t(59799),A=t(90507),E=t(47577),I=t(52322),k=t(28535);let D=e=>{let{selected:i}=e;return(0,I.jsx)(A.T5,{children:(0,I.jsx)(k.xu,{pos:"relative",draggable:"true","data-drag-handle":!0,cursor:"grab",contentEditable:"false",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",height:"1.25rem",color:i?"trueblue.400":"gray.400",lineHeight:"1rem",fontWeight:"800",children:"---"})})},w=/^(---|___|—-)/,T=s.NB.create({name:"sectionBreak",group:"block",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:"hr"}],renderHTML(e){let{HTMLAttributes:i}=e;return["hr",(0,s.P1)(i)]},addNodeView:()=>(0,A.fW)(D),addInputRules(){return[(0,E.ok)({find:w,type:this.type})]}});var P=t(60491),O=t(90062),N=t(91073),L=t(27191),R=t(52780);let M=new L.Sy({props:{decorations:e=>{let{doc:i}=e,t=[],s=1;return i.descendants((e,i)=>{"card"===e.type.name&&(t.push(R.p.node(i,i+e.nodeSize,{},{number:s,isSectionCardPluginDecoration:!0})),s++)}),0==t.length?R.EH.empty:R.EH.create(i,t)}}}),F=e=>{let i=e.find(e=>e.spec.isSectionCardPluginDecoration);return i?i.spec:{number:0,isSectionCardPluginDecoration:!0}};var z=t(29117),U=t(77533),B=t(38035),G=t(32899),H=t(10625),K=t(67046),V=t(332),W=t(99058),Y=t(25481),q=t(27599),X=t(42946),Z=t(49929),Q=t(94523),J=t(5879),$=t(87254),ee=t(2784),ei=t(5026),et=t(76282),es=t(91994),en=t(90221),el=t(3543);let er={r:235,g:248,b:255},eo={r:255,g:245,b:255},ea={r:107,g:70,b:193},ed={r:43,g:108,b:176},ec=(e,i,t,s)=>s?{bg:"gray.100",text:"gray.600"}:{bg:(0,el.Py)(er,eo,e/Math.min(t,i)),text:(0,el.Py)(ed,ea,e/Math.min(t,i))},eu=e=>{let{decorations:i,editor:t,getPos:s}=e,{number:n}=F(i),l=(0,es.CG)(et.CC),{maxCards:r,canUpgrade:o}=(0,ei.hw)(),a=n>r,d=n===l,c=ec(n,l,r,a),u=(0,ee.useCallback)(()=>{let e=s(),i=t.view.state.doc.nodeAt(e);if(!i){console.error("[SectionCardView] Cannot append card. Node unknown");return}let n=e+i.nodeSize;t.chain().insertContentAt(n,{type:"card",content:[{type:"paragraph"}]}).focus().selectInsertedNode().run()},[t,s]),h=(0,ee.useCallback)(()=>{t.commands.selectNodeAtPos(s())},[t,s]),x=(0,ee.useCallback)(()=>{let e=s(),i=t.view.state.doc.nodeAt(e);if(!i){console.error("[SectionCardView] Cannot delete card. Node unknown");return}t.chain().deleteRange({from:e,to:e+i.nodeSize}).selectInsideNodeAtPos(e).focus().run()},[t,s]),p=(0,ee.useCallback)(()=>{let e=s(),i=t.view.state.doc.nodeAt(e);if(!i){console.error("[SectionCardView] Cannot focus card. Node unknown");return}t.chain().selectInsideNodeAtPos(e).focus().run()},[t,s]),m=(0,_.Od)(i);return(0,I.jsxs)(A.T5,{role:"group",children:[(0,I.jsxs)(z.U,{className:"card",border:"1px solid",borderColor:m?"var(--chakra-ring-color)":"blackAlpha.100",shadow:"sm",_hover:{shadow:"md"},transitionProperty:"box-shadow",transitionDuration:"normal",bg:"white",borderRadius:"md",spacing:0,align:"stretch","data-selection-ring":!0,pos:"relative",my:3,mt:1===n?0:void 0,role:"group",children:[!(0,en.s2)()&&(0,I.jsx)(k.xu,{position:"absolute",color:c.text,zIndex:"1",top:"3.5",left:"0",pointerEvents:"none",opacity:"0",_groupHover:{opacity:.75},children:(0,I.jsx)(Z.G,{icon:X.Okg,fixedWidth:!0})}),a&&(0,I.jsx)(k.Cd,{size:"6px",position:"absolute",zIndex:"2",top:"1.5",left:"1.5",bg:"sunglow.400"}),(0,I.jsx)(Q.kH,{label:a&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(U.x,{children:[(0,I.jsx)(J.cC,{id:"rayOuP"})," "]}),(0,I.jsx)(U.x,{color:"gray.400",children:o?(0,I.jsx)(J.cC,{id:"W8sobv",values:{MAX_CARDS_PRO:ei.Fv}}):(0,I.jsx)(J.cC,{id:"yLG7qf"})})]}),placement:"top",children:(0,I.jsx)(B.k,{dir:"column",align:"start",justify:"center",pr:1,pl:2,py:{base:3.5,md:4},w:12,cursor:a?"help":"grab","data-drag-handle":!0,contentEditable:!1,onClick:h,fontSize:n>=100?"xs":"sm",fontFamily:"mono",fontWeight:"600",borderLeftRadius:"inherit",userSelect:"none",transitionProperty:"filter",transitionDuration:"normal",_hover:{filter:"brightness(0.95)"},bg:c.bg,color:c.text,children:n})}),(0,I.jsx)(k.xu,{p:{base:3,md:4},flex:1,color:a?"gray.600":void 0,position:"relative",children:(0,I.jsx)(A.ms,{})}),(0,I.jsx)(ex,{addCard:u,focusCard:p,deleteCard:x})]}),!(0,en.s2)()&&!d&&(0,I.jsx)(eh,{addCard:u})]})},eh=(0,ee.memo)(e=>{let{addCard:i}=e;return(0,I.jsxs)(B.k,{w:"100%",h:1,borderRadius:"md",bg:"trueblue.200",transitionProperty:"opacity",transitionDuration:"slow",opacity:0,_hover:{opacity:1},_focusWithin:{opacity:1},contentEditable:!1,my:1,dir:"column",align:"center",justify:"center",pos:"absolute",transform:"translateY(-0.75rem)",zIndex:1,children:[(0,I.jsx)(k.xu,{pos:"absolute",top:-2,bottom:-2,left:0,right:0}),(0,I.jsx)(Q.kH,{placement:"top",label:$.ag._({id:"sFY+gw"}),shortcut:"---",children:(0,I.jsx)(G.h,{pos:"absolute",variant:"solid",icon:(0,I.jsx)(Z.G,{icon:X.r8p}),"aria-label":"Add card",isRound:!0,size:"xs",onClick:i,tabIndex:-1})})]})});eh.displayName="CardDivider";let ex=(0,ee.memo)(e=>{let{addCard:i,deleteCard:t,focusCard:s}=e;return(0,I.jsx)(z.U,{pr:{base:2,md:2.5},pt:{base:2,md:3},alignSelf:"start",children:(0,en.s2)()?(0,I.jsx)(H.v,{children:e=>{let{onClose:n}=e;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(K.j,{onClick:s,as:G.h,colorScheme:"gray",variant:"ghost",size:"sm",icon:(0,I.jsx)(Z.G,{icon:X.S6C,fixedWidth:!0})}),(0,I.jsx)(V.h,{children:(0,I.jsxs)(W.q,{zIndex:"tooltip",children:[(0,I.jsx)(Y.s,{onClick:()=>{n(),i()},icon:(0,I.jsx)(Z.G,{icon:X.L26,fixedWidth:!0}),children:(0,I.jsx)(J.cC,{id:"90n2YU"})}),(0,I.jsx)(q.R,{}),(0,I.jsx)(Y.s,{onClick:()=>{t(),n()},color:"red",icon:(0,I.jsx)(Z.G,{icon:X.Vui,fixedWidth:!0}),children:(0,I.jsx)(J.cC,{id:"nabda1"})})]})})]})}}):(0,I.jsx)(Q.kH,{label:(0,I.jsx)(J.cC,{id:"nabda1"}),placement:"top",children:(0,I.jsx)(G.h,{colorScheme:"gray",variant:"ghost",opacity:"0",_groupHover:{opacity:1},_focus:{opacity:1},transitionProperty:"opacity",transitionDuration:"slow",size:"sm",onClick:t,"aria-label":$.ag._({id:"nabda1"}),icon:(0,I.jsx)(Z.G,{icon:X.Vui,fixedWidth:!0})})})})});ex.displayName="CardActions";let ep=/^(---|___|—-)$/,em=s.NB.create({name:"card",content:"block+",selectable:!0,draggable:!0,isolating:!0,parseHTML:()=>[{tag:"section"}],renderHTML(e){let{HTMLAttributes:i}=e;return["section",(0,s.P1)(i),0]},addNodeView:()=>(0,A.fW)(eu),addProseMirrorPlugins:()=>[M],addInputRules:()=>[new s.VK({find:ep,handler:e=>{let{state:i,range:t}=e,{tr:s}=i;(0,P.X)({tr:s.deleteRange(t.from,t.to),dispatch:!0})}})],addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.mergeCardsOnDelete(!1),Delete:()=>this.editor.commands.mergeCardsOnDelete(!0),Tab:()=>this.editor.commands.selectNextCard(!0),"Shift-Tab":()=>this.editor.commands.selectNextCard(!1)}},addCommands:()=>({selectNextCard:e=>i=>{let{state:t,dispatch:n,commands:l}=i;if(!n)return!0;let{selection:r}=t,o=(0,s.Kk)(N.KH)(r);if(!o||!r.empty)return!1;let a=t.doc.resolve(o.pos),d=a.index();if(e){if(d===a.parent.childCount-1)return!1;l.selectInsideNodeAtPos(o.pos+o.node.nodeSize)}else{if(0===d)return!1;let e=a.posAtIndex(d-1);l.selectInsideNodeAtPos(e)}return!0},mergeCardsOnDelete:e=>i=>{let{tr:t,state:n,dispatch:l}=i;if(!l)return!0;let{selection:r}=n,o=(0,s.Kk)(N.KH)(r);if(!o||!r.empty)return!1;try{let i=(0,O.pt)(r,e);if(!i)return!1;return e?(0,O.Yh)(o.pos,t,n):(0,O.Gq)(o.pos,t)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}}})}),eg=[d.A,m.l,y.d,h.n,x.x,C.Hy,a.X,n.d8,p.v,c.Tx,u.Z.configure({openOnClick:!1}),f.aV,b.g,v.k,S.U,g.m,o.f,r.m.configure({color:"var(--chakra-colors-trueblue-200)",width:3,class:"ProseMirror-dropcursor"}),_.Jn],ej=[...eg,T,l.B.extend({content:"block+"})],eC=[...eg,em,l.B.extend({content:"card+"})],eb=(e,i)=>{let t=(0,s.J1)("freeform"===i?ej:eC);return"structured"===i&&(e=e.split("<hr>").map(e=>"<section>".concat(e,"</section>")).join("\n")),(0,j.T)(e,t)}},39092:function(e,i,t){"use strict";t.d(i,{i:function(){return f},j:function(){return b}});var s=t(52322),n=t(87436),l=t(95897),r=t(29117),o=t(28535),a=t(43297),d=t(77533),c=t(36474),u=t(89511),h=t(11121),x=t(67109),p=t(49929),m=t(2784),g=t(76282),j=t(91994);let C={_groupHover:{color:"purple.600"}},b=(0,m.memo)(e=>{let{icon:i,colorScheme:t="gray",label:m,values:b=[],children:f}=e,v=(0,j.CG)(g.RB);return(0,s.jsx)(n.Q,{border:"none",children:e=>{let{isExpanded:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.K,{_focus:{boxShadow:"none",outline:"none"},py:2,p:3,outline:"none",transitionProperty:"common",transitionDuration:"normal",bg:"transparent",_hover:{bg:"".concat(t,".50")},children:(0,s.jsxs)(r.U,{width:"100%",spacing:"3",align:"start",children:[(0,s.jsx)(o.xu,{...C,display:"inline",fontSize:"sm",color:"".concat(t,".300"),children:(0,s.jsx)(p.G,{icon:i,fixedWidth:!0})}),(0,s.jsxs)(a.K,{spacing:0,align:"start",textAlign:"left",children:[(0,s.jsx)(d.x,{...C,fontWeight:"700",children:m}),!n&&(0,s.jsx)(d.x,{fontSize:"sm",fontWeight:"500",noOfLines:2,...C,children:b.filter(Boolean).join(" \xb7 ")})]}),(0,s.jsx)(c.L,{}),(0,s.jsx)(u.X,{...C})]})}),(0,s.jsxs)(h.H,{p:4,pt:3,pb:6,children:[v&&f,!v&&(0,s.jsxs)(a.K,{spacing:4,pt:2,align:"start",children:[(0,s.jsx)(x.O,{w:"100%",height:"30px"}),(0,s.jsx)(x.O,{w:"100%",height:"30px"}),(0,s.jsx)(x.O,{w:"100%",height:"30px"})]})]})]})}})});b.displayName="SettingsGroup";let f=e=>{let{children:i}=e;return(0,s.jsx)(d.x,{fontSize:"sm",color:"gray.500",children:i})}},45760:function(e,i,t){"use strict";t.d(i,{jX:function(){return o},vZ:function(){return r}});var s=t(52322),n=t(2784);let l=n.createContext({});function r(){let e=(0,n.useContext)(l);return e}let o=e=>{let{children:i}=e,t=n.useRef();return(0,s.jsx)(l.Provider,{value:{setEditorInstance:e=>{t.current=e},getEditorInstance:()=>t.current},children:i})}},74153:function(e,i,t){"use strict";t.d(i,{Ns:function(){return g},Q_:function(){return m},ex:function(){return x},ip:function(){return p},o7:function(){return h},vS:function(){return j}});var s=t(2784),n=t(45760),l=t(93202),r=t(91994),o=t(86581),a=t(33522),d=t(24551),c=t(14874),u=t(76282);let h=()=>{let e=(0,r.qr)(),i=(0,r.TL)(),[t]=(0,l.NCT)(),n=(0,s.useCallback)(async()=>{var s;let n=(0,u.d_)(e.getState()),l=n.id,r=await t({variables:{docGenerateInputId:l,input:{}}}),o=null===(s=r.data)||void 0===s?void 0:s.updateDocGenerationDraftInput;o&&o.draftInput&&l!==o.draftInput.id&&i((0,u.Gn)(o))},[i,e,t]);return n},x=e=>{var i;let t=(0,r.qr)(),n=(0,r.TL)(),[o]=(0,l.NCT)(),d=(0,s.useCallback)(async e=>{var i;let s=(0,u.RB)(t.getState()),l=(0,u.U6)(t.getState());if(!s||!l)return;let{format:r,...a}=e,d={format:r,...a},c=(0,u.br)(t.getState());d.settings&&(d.settings={...c,...d.settings});let h=(0,u.U6)(t.getState()),x=await o({variables:{docGenerateInputId:l,input:d}}),p=null===(i=x.data)||void 0===i?void 0:i.updateDocGenerationDraftInput;p&&p.draftInput&&h!==p.draftInput.id&&n((0,u.Gn)(p))},[n,t,o]),c=(0,a.Kt)(d,null!==(i=null==e?void 0:e.debounce)&&void 0!==i?i:0),h=(0,s.useCallback)(function(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];n((0,u.Zx)(e)),i&&c(e)},[c,n]);return h},p=()=>{let e=x(),i=(0,s.useCallback)(function(i){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({format:i},t)},[e]),t=(0,r.CG)(u.Lh);return[t,i]},m=()=>{let e=x({debounce:500}),i=(0,s.useCallback)(function(i){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e({prompt:i},t)},[e]),t=(0,r.CG)(u.lb);return[t,i]},g=(e,i)=>{let t=x(i),n=(0,s.useCallback)(function(i){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];t({settings:{[e]:i}},s)},[e,t]),l=(0,r.CG)((0,u.Mn)(e));return[l,n]},j=e=>{let i=x(e),{getEditorInstance:t}=(0,n.vZ)(),l=(0,s.useCallback)(function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=t();if(n){let i=n.editorId===d.C,t=(0,o.c8)(e),s=(0,c.dW)(t,i?"structured":"freeform").content.toJSON();n.commands.setContent(s)}i({content:e},s)},[i,t]);return l}},39122:function(e,i,t){"use strict";t.d(i,{ET:function(){return s},LB:function(){return a},VN:function(){return o},VY:function(){return n},WJ:function(){return l},rj:function(){return r}});let s="/generate",n="ai-generate",l=2,r=2,o=400,a={DESIGNER__HELLO:0,USER__OUTPUT_FORMAT_INPUT:1,DESIGNER__TOPIC:2,USER__TOPIC_INPUT:3,DESIGNER__OUTLINE:4,USER__OUTLINE_INPUT:5}},49165:function(e,i,t){"use strict";t.d(i,{R:function(){return m},c:function(){return g}});var s=t(52322),n=t(70065),l=t(5879),r=t(5632),o=t(2784),a=t(93202),d=t(42111),c=t(84405),u=t(87978),h=t(41425),x=t(23147),p=t(36651);let m={example_deck_clone_toast:a.L17.DuplicateInspiration,import_google_doc:a.L17.ImportGoogleDoc,import_google_slides:a.L17.ImportGoogleSlides,import_docx:a.L17.ImportDocx,import_pptx:a.L17.ImportPptx,blank:a.L17.Blank,template_browser:a.L17.DuplicateTemplate,get_started_modal:a.L17.Blank,template_modal_griditem:a.L17.DuplicateTemplate,template_dashboard_griditem:a.L17.DuplicateTemplate,template_modal_preview:a.L17.DuplicateTemplate,template_modal_preview_create_theme:a.L17.DuplicateTemplate,"slash-new":a.L17.SlashNew,editor_toolbar_doc_menu_duplicate:a.L17.DuplicateDoc,dashboard_docs_view_duplicate:a.L17.DuplicateDoc,ai_generated:a.L17.AiGenerated,ai_generated_advanced:a.L17.AiGenerated,sites_add_page:a.L17.SitesAddPage,sites_copy_to_site:a.L17.SitesCopyToSite},g=()=>{let{user:e,currentWorkspace:i}=(0,p.SE)(),t=(0,d.ye)("cardLayoutsEnabled"),[g,{data:j,loading:C}]=(0,a.CsQ)(),{push:b,replace:f}=(0,r.useRouter)(),v=(0,n.p)(),y=(0,o.useCallback)(n=>{var r;let o=null==e?void 0:null===(r=e.settings)||void 0===r?void 0:r.needsEditorOnboarding,a=n.source,d=null==n?void 0:n.channelId,p=(null==n?void 0:n.historyFn)==="replace"?f:b,j=o?"quickstart":"empty";if(!(null==i?void 0:i.id)){console.error("[createDocAndNavigate] No currentWorkspace found");return}let C={cardLayoutsEnabled:t},y=(null==n?void 0:n.document)?n.document:"empty"===j?(0,u.bx)(e,{docFlags:C}):(0,u.VK)(e,{docFlags:C}),_=(0,x.qI)(y);return console.debug("[createDocAndNavigate] Creating doc",{document:y,encodedDocument:_}),g({variables:{workspaceId:null==i?void 0:i.id,title:(null==n?void 0:n.title)||"",source:m[n.source],initialContent:{ydoc:_,schemaVersion:h.bI,editors:[null==e?void 0:e.id]},...d?{channels:[{channelId:d}]}:{}}}).then(async e=>{let{data:i}=e;(0,c.Q)({doc_id:null==i?void 0:i.createDoc.id,source:a,channel:d||null}),console.debug("[createDocAndNavigate] Doc created. Navigating to Editor",null==i?void 0:i.createDoc.id),p("/docs/".concat(null==i?void 0:i.createDoc.id).concat(o?"?tour=true":""))}).catch(e=>{console.error("[createDocAndNavigate]",e),v({title:(0,s.jsx)(l.cC,{id:"0jT1fA"}),description:e.message,position:"top",status:"error",isClosable:!0,duration:null})})},[t,g,null==i?void 0:i.id,b,f,v,e]);return[y,{data:j,loading:C}]}},18469:function(e,i,t){"use strict";t.d(i,{p:function(){return p}});var s=t(43019),n=t(9850),l=t.n(n),r=t(54073),o=t.n(r),a=t(30764),d=t(2784),c=t(42111),u=t(91994),h=t(91073),x=t(66625);let p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,t=(0,u.TL)(),n=(0,c.ye)("cardTextComputedEnabled");(0,d.useEffect)(()=>{if(!i||!n)return;let e=o()(()=>{let e={};i.state.doc.descendants((t,n)=>{if((0,h.KH)(t)&&t.attrs.id){let l=t.toJSON(),r=(0,s.getCardTitle)(l),o=i.state.doc.resolve(n),a=0===o.parentOffset&&1===o.depth;e[t.attrs.id]={title:r,text:m(i.schema,l,r),isFirstCard:a}}return!0}),t((0,x.uD)({localCardTextMap:e}))},1e3,{leading:!0,trailing:!0,maxWait:1e3});return e(),i.on("update",e),()=>{i.off("update",e)}},[i,t,n]),(0,d.useEffect)(()=>{e&&t((0,x.eJ)({cards:e}))},[t,e]),(0,d.useEffect)(()=>()=>{t((0,x.mc)())},[])},m=(e,i,t)=>{try{var n;let r=l()(i),o=(0,s.removeNodesOfType)(r,["cardNotes"]);if(!o)return"";o.content=null===(n=o.content)||void 0===n?void 0:n.map(e=>{if("card"!==e.type)return e;let i=(0,s.getCardTitle)(e);return{type:"paragraph",content:i?[{type:"text",text:i}]:[]}});let d=a.NB.fromJSON(e,o),c=d.textBetween(0,d.content.size,"\n\n",e=>{let i=e.type.name;return s.nodeSerializers[i]&&s.nodeSerializers[i](e)||" "});if(t)return(0,s.removeTitle)(c,t);return c}catch(e){return""}}},6912:function(e,i,t){"use strict";t.d(i,{S1:function(){return f},B_:function(){return _},ET:function(){return v}});var s=t(2784),n=t(14274),l=t(88232),r=t(42111),o=t(49152),a=t(44663),d=t(1163),c=t(11050),u=t(90221),h=t(23284),x=t(90383),p=t(87254),m=t(82108),g=t.n(m),j=t(94199);let C=(e,i)=>{let t=g()(i);return{[e]:{next:p.ag._({id:"hXzOVo"}),back:p.ag._({id:"iH8pgl"}),nevermind:p.ag._({id:"CKyk7Q"}),goToAccount:p.ag._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:j.N6}}),getHelp:p.ag._({id:"pWsyuL"}),declineOffer:p.ag._({id:"aIFikE"}),confirmAndCancel:p.ag._({id:"G9nPRC"}),pauseSubscription:p.ag._({id:"2RgEmU"}),cancelSubscription:p.ag._({id:"dEgA5A"}),discountSubscription:p.ag._({id:"qG4Wa/"}),claimOffer:p.ag._({id:"/Gl/RK"}),discountOff:p.ag._({id:"Bdtwnw"}),discountFor:p.ag._({id:"sQv06Y"}),discountForever:p.ag._({id:"FsOOWf"}),discountOneTime:p.ag._({id:"HpXCa4"}),day:p.ag._({id:"5YWExy"}),month:p.ag._({id:"obrMay"}),year:p.ag._({id:"/Tw548"}),error:p.ag._({id:"wTrpxV"}),genericErrorDescription:p.ag._({id:"PUjJ3A"}),cancelNow:p.ag._({id:"EiakwV"}),applyingDiscount:p.ag._({id:"8kSYjw"}),applyingCancel:p.ag._({id:"VpuvNv"}),applyingResume:p.ag._({id:"eIoGiX"}),applyingPause:p.ag._({id:"UD7gOq"}),discountApplied:p.ag._({id:"jdYyiz"}),discountAppliedMessage:p.ag._({id:"DhHX6G"}),pauseApplied:p.ag._({id:"eeITvj"}),pauseAppliedMessage:p.ag._({id:"nm0VaE"}),pauseAppliedResumeMessage:p.ag._({id:"qOe0SS"}),pauseScheduledMessage:p.ag._({id:"mqRc6d"}),until:p.ag._({id:"C51N+0"}),cancelApplied:p.ag._({id:"Wcg6zu"}),cancelAppliedMessage:p.ag._({id:"8vN97Y"}),cancelAppliedDateMessage:p.ag._({id:"BS/SGu"}),howLongToPausePrompt:p.ag._({id:"HLyJ9n"}),whatCouldWeHaveDone:p.ag._({id:"fcbm8H"}),weReadEveryAnswer:p.ag._({id:"nkuKRd"}),applyingCustomerAction:p.ag._({id:"PXwF+s"}),loading:p.ag._({id:"Z3FXyt"}),pauseWallCardPunch:p.ag._({id:"iL2TQ6"}),pauseWallCta:p.ag._({id:"TvXj47"}),pauseWallCardHeading:p.ag._({id:"kHm8Fg"}),scheduledToReactivate:p.ag._({id:"aH7vi8"}),resumeApplied:p.ag._({id:"diOgYK"}),resumeAppliedMessage:p.ag._({id:"YqFvUY"}),resumeNextChargeMessage:p.ag._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:p.ag._({id:"RrvVAn"}),resumeAccountDataInfo:p.ag._({id:"dJCJXA"}),subscriptionPauseNotice:p.ag._({id:"fpxliT"}),failedPaymentNotice:p.ag._({id:"Vxg5vO"}),chargedMultipleTimeNotice:p.ag._({id:"lAlv46"}),failedPaymentCardPunch:p.ag._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:j.N6,productName:t}}),resumeHey:p.ag._({id:"hdOctW"}),invoicePaidTitle:p.ag._({id:"aJGfDL"}),logout:p.ag._({id:"W+3RJN"}),note:p.ag._({id:"ycCSuD"}),discount:p.ag._({id:"HmpVeZ"}),discountNoticeHeadline:p.ag._({id:"5P1dmt"}),discountNoticePrepend:p.ag._({id:"yjadEY"}),discountOverride:p.ag._({id:"JfBDWL"}),discountValidUntil:p.ag._({id:"uXxNua"}),updateBilling:p.ag._({id:"tQilrI"}),extendTrialCTA:p.ag._({id:"m3l7VI"}),extendTrialPunch:p.ag._({id:"s5pINo"}),extendTrialOfferTitle:p.ag._({id:"SyzXYh"}),trialExtended:p.ag._({id:"fezME2"}),trialExtendedMessage:p.ag._({id:"QE4mUs"}),applyingTrialExtension:p.ag._({id:"vI2q9R"}),switchPlanCTA:p.ag._({id:"P2mx2L"}),changePlanHighlights:p.ag._({id:"qbgW+C"}),changePlanOfferPunch:p.ag._({id:"MRkiFP"}),planChanged:p.ag._({id:"ByFtyh"}),planChangedMessage:p.ag._({id:"Pf5z1G"}),applyingPlanChange:p.ag._({id:"9vKKLI"}),surveyStepTag:p.ag._({id:"cSUBI1"}),freeFormStepTag:p.ag._({id:"cSUBI1"}),finalConfirmation:p.ag._({id:"1/oP/N"}),offerDiscountTag:p.ag._({id:"LTgtxG"}),offerChangePlanTag:p.ag._({id:"ENMJv2"}),offerExtendTrialTag:p.ag._({id:"MWKntz"}),offerRedirectTag:p.ag._({id:"cvpAvL"}),offerContactTag:p.ag._({id:"cvpAvL"}),offerPauseTag:p.ag._({id:"+T6DGl"}),completeTag:p.ag._({id:"K5c1e7"}),errorTag:p.ag._({id:"EuvbIW"}),offerAccepted:p.ag._({id:"ZU0opP"})}}},b="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(n.v.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),f=()=>{let e=!(0,u.l6)()&&!(0,x.wg)();return(0,h.G)(e,b),null},v=e=>{let{subscription:i,workspace:t,autoLaunch:c=!0}=e,u=(0,r.ye)("churnkeyFailedPaymentWallEnabled"),h=(0,o.l)(),x=(0,d.K9)(t),p=(0,a.G)(),m=(0,s.useCallback)(async()=>{if(i&&x&&u)return(0,l.d6)("churnkey").then(e=>{var t,s;if(!e||!i.billingSubscriptionId||!(null===(t=i.createdByUser)||void 0===t?void 0:t.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:i});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:n.v.CHURNKEY_APP_ID,subscriptionId:i.billingSubscriptionId,customerId:null===(s=i.createdByUser)||void 0===s?void 0:s.billingCustomerId}),y({authHash:e,subscription:i,localeKey:h,productKey:x,launchIntercomUI:p})})},[i,x,u,h,p]);return(0,s.useEffect)(()=>{c&&m()},[m,c]),{launchFailedPaymentFlow:m,failedPaymentFlowEnabled:u}},y=async e=>{var i,t;let{authHash:s,subscription:l,localeKey:r,productKey:o,launchIntercomUI:a}=e;null===(t=window.churnkey)||void 0===t||t.check("failed-payment",{subscriptionId:l.billingSubscriptionId,customerId:null===(i=l.createdByUser)||void 0===i?void 0:i.billingCustomerId,authHash:s,customerAttributes:{language:r},i18n:{lang:r,messages:C(r,o)},appId:n.v.CHURNKEY_APP_ID,mode:n.v.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;a(),c.co.track(c.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:l.billingSubscriptionId,customerId:null===(e=l.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var i,t;return c.co.track(c.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:l.billingSubscriptionId,customerId:null===(i=l.createdByUser)||void 0===i?void 0:i.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:l.billingSubscriptionId,customerId:null===(t=l.createdByUser)||void 0===t?void 0:t.billingCustomerId,customer:e}),S({authHash:s,subscription:l,localeKey:r,productKey:o,launchIntercomUI:a,customerAttributes:{viaFailedPayment:!0}}).catch(e=>y({authHash:s,subscription:l,localeKey:r,productKey:o,launchIntercomUI:a}))},onFailedPaymentWallActivated(){var e;c.co.track(c.AA.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:l.billingSubscriptionId,customerId:null===(e=l.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;c.co.track(c.AA.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:l.billingSubscriptionId,customerId:null===(e=l.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;c.co.track(c.AA.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:l.billingSubscriptionId,customerId:null===(e=l.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;c.co.track(c.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:l.billingSubscriptionId,customerId:null===(e=l.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,i){console.warn('Churnkey check("failed-payment", ...) error',e,i)}})},_=(e,i)=>{let t=(0,r.ye)("churnkeyCancelFlowEnabled"),n=(0,o.l)(),c=(0,d.K9)(i),u=(0,a.G)(),h=(0,s.useCallback)(()=>{if(e&&c&&t)return(0,l.d6)("churnkey").then(i=>{var t;if(!i||!e.billingSubscriptionId||!(null===(t=e.createdByUser)||void 0===t?void 0:t.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:i,subscription:e});return}return S({authHash:i,subscription:e,localeKey:n,productKey:c,launchIntercomUI:u})})},[t,n,c,e,u]);return{launchCancelFlow:h,cancelFlowEnabled:t}},S=async e=>{let{authHash:i,subscription:t,localeKey:s,productKey:l,customerAttributes:r={},launchIntercomUI:o}=e;return new Promise((e,a)=>{var u,h,x;null===(x=window.churnkey)||void 0===x||x.init("show",{subscriptionId:t.billingSubscriptionId,customerId:null===(u=t.createdByUser)||void 0===u?void 0:u.billingCustomerId,authHash:i,customerAttributes:{language:s,frequency:null===(h=(0,d.OJ)(t))||void 0===h?void 0:h.frequencyUnit,productKey:l,...r},i18n:{lang:s,messages:C(s,l)},appId:n.v.CHURNKEY_APP_ID,mode:n.v.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;o(),c.co.track(c.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:t.billingSubscriptionId,customerId:null===(e=t.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,i,s){var n;c.co.track(c.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:t.billingSubscriptionId,customerId:null===(n=t.createdByUser)||void 0===n?void 0:n.billingCustomerId,surveyResponse:i,freeformFeedback:s}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:i,freeformFeedback:s})},onGoToAccount(i){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:i}),e({sessionResults:i})},onClose(i){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:i}),!i||i.aborted){a("Churnkey cancel flow aborted");return}e({sessionResults:i})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),a({message:e})}})})}},12985:function(e,i,t){"use strict";t.d(i,{B:function(){return n}});var s=t(2784);let n=s.lazy(()=>Promise.all([t.e(8917),t.e(7120),t.e(4100),t.e(3421)]).then(t.bind(t,23421)).then(e=>({default:e.default})))},31702:function(e,i,t){"use strict";t.d(i,{Im:function(){return eO},nL:function(){return i$},UB:function(){return iQ},jn:function(){return iI},tk:function(){return iE}});var s,n,l,r,o,a,d,c,u,h,x,p,m,g,j,C,b,f,v,y,_,S,A,E,I,k,D,w,T,P,O,N,L,R,M,F,z,U,B,G,H,K,V,W,Y,q,X,Z,Q,J,$,ee,ei,et,es,en,el,er,eo,ea,ed,ec,eu,eh,ex,ep,em,eg,ej,eC,eb,ef,ev,ey,e_,eS,eA=t(52322),eE=t(77533),eI=t(38035),ek=t(43297),eD=t(74409),ew=t(20204),eT=t(82562);let eP={renderNode:{[eT.BLOCKS.PARAGRAPH]:function(e,i){return(0,eA.jsx)(eE.x,{color:"gray.600",children:i})}}},eO=e=>{let{category:i}=e,t=i.description?(0,ew.h)(i.description,eP):null;return(0,eA.jsx)(eI.k,{direction:"row",alignItems:"flex-start",justify:"space-between",children:(0,eA.jsxs)(ek.K,{mb:6,fontSize:"md",children:[(0,eA.jsx)(eD.X,{fontSize:"2xl",mb:-1,children:i.title}),t&&t]})})};var eN=t(54326),eL=t(2338),eR=t(97217),eM=t(75009),eF=t(50250),ez=t(62614),eU=t(28535),eB=t(67109),eG=t(69251),eH=t(30523),eK=t(42946),eV=t(49929),eW=t(5879),eY=t(49165),eq=t(29094),eX=t(55478),eZ=t(82729),eQ=t(2784),eJ=t(16426),e$=t(12136),e0=t(90221),e1=t(33579),e2=t(92850),e5=t(26468),e3=t(22226),e4=t(73235),e6=t(57981),e8=t(40794);function e9(){let e=(0,e4._)(["\n    fragment InspirationCategoryFieldsFragment on InspirationCategory {\n  title\n  slug\n  sys {\n    id\n  }\n  description {\n    json\n  }\n}\n    "]);return e9=function(){return e},e}function e7(){let e=(0,e4._)(["\n    fragment InspirationEntryFieldsFragment on InspirationEntry {\n  title\n  slug\n  description {\n    json\n  }\n  sys {\n    id\n    firstPublishedAt\n  }\n  deck {\n    title\n    docId\n    previewCardId\n    previewImage {\n      url\n    }\n    author {\n      name\n      image {\n        url\n      }\n    }\n  }\n}\n    "]);return e7=function(){return e},e}function ie(){let e=(0,e4._)(["\n    fragment TemplateCategoryFieldsFragment on TemplateCategory {\n  title\n  slug\n  sys {\n    id\n  }\n  description {\n    json\n  }\n}\n    "]);return ie=function(){return e},e}function ii(){let e=(0,e4._)(["\n    fragment TemplateEntryFieldsFragment on TemplateEntry {\n  title\n  slug\n  sys {\n    id\n    firstPublishedAt\n  }\n  deck {\n    title\n    docId\n    previewCardId\n    previewImage {\n      url\n    }\n    author {\n      name\n      image {\n        url\n      }\n    }\n  }\n}\n    "]);return ii=function(){return e},e}function it(){let e=(0,e4._)(["\n    fragment TemplateCategoryFieldsWithEntriesFragment on TemplateCategory {\n  ...TemplateCategoryFieldsFragment\n  templateEntriesCollection(limit: 7) {\n    items {\n      ...TemplateEntryFieldsFragment\n    }\n  }\n}\n    ","\n",""]);return it=function(){return e},e}function is(){let e=(0,e4._)(["\n    query GetInspirationCategoryCollection($where: InspirationCategoryFilter, $locale: String) {\n  inspirationCategoryCollection(\n    where: $where\n    locale: $locale\n    limit: 10\n    order: priority_DESC\n  ) {\n    items {\n      ...InspirationCategoryFieldsFragment\n      inspirationEntriesCollection(limit: 20) {\n        items {\n          ...InspirationEntryFieldsFragment\n        }\n      }\n    }\n  }\n}\n    ","\n",""]);return is=function(){return e},e}function il(){let e=(0,e4._)(["\n    query GetTemplateCategoryCollection($where: TemplateCategoryFilter, $locale: String) {\n  templateCategoryCollection(\n    where: $where\n    locale: $locale\n    limit: 20\n    order: priority_DESC\n  ) {\n    items {\n      ...TemplateCategoryFieldsFragment\n      templateEntriesCollection(limit: 100) {\n        items {\n          ...TemplateEntryFieldsFragment\n        }\n      }\n    }\n  }\n}\n    ","\n",""]);return il=function(){return e},e}function ir(){let e=(0,e4._)(["\n    query GetTemplateEntry($id: String!) {\n  templateEntry(id: $id) {\n    ...TemplateEntryFieldsFragment\n    description {\n      json\n    }\n    linkedFrom {\n      templateCategoryCollection {\n        items {\n          ...TemplateCategoryFieldsWithEntriesFragment\n        }\n      }\n    }\n  }\n}\n    ","\n",""]);return ir=function(){return e},e}function io(){let e=(0,e4._)(["\n    query GetAllTemplateEntries($where: TemplateEntryFilter) {\n  templateEntryCollection(where: $where) {\n    items {\n      ...TemplateEntryFieldsFragment\n      description {\n        json\n      }\n    }\n  }\n}\n    ",""]);return io=function(){return e},e}function ia(){let e=(0,e4._)(["\n    query GetFeaturedTemplateEntries($id: String!) {\n  featuredTemplates(id: $id) {\n    templateEntriesCollection {\n      items {\n        ...TemplateEntryFieldsFragment\n        description {\n          json\n        }\n      }\n    }\n  }\n}\n    ",""]);return ia=function(){return e},e}function id(){let e=(0,e4._)(["\n    query GetTours($where: TourFilter) {\n  tourCollection(where: $where, limit: 1) {\n    items {\n      id\n      title\n      description\n      stepsCollection {\n        items {\n          body {\n            json\n          }\n          headline\n          sys {\n            id\n          }\n          videoUrl\n          posterUrl\n          staticImageUrl\n        }\n        total\n      }\n    }\n  }\n}\n    "]);return id=function(){return e},e}let ic={};(s=B||(B={})).UrlAsc="url_ASC",s.UrlDesc="url_DESC",s.SizeAsc="size_ASC",s.SizeDesc="size_DESC",s.ContentTypeAsc="contentType_ASC",s.ContentTypeDesc="contentType_DESC",s.FileNameAsc="fileName_ASC",s.FileNameDesc="fileName_DESC",s.WidthAsc="width_ASC",s.WidthDesc="width_DESC",s.HeightAsc="height_ASC",s.HeightDesc="height_DESC",s.SysIdAsc="sys_id_ASC",s.SysIdDesc="sys_id_DESC",s.SysPublishedAtAsc="sys_publishedAt_ASC",s.SysPublishedAtDesc="sys_publishedAt_DESC",s.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",s.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",s.SysPublishedVersionAsc="sys_publishedVersion_ASC",s.SysPublishedVersionDesc="sys_publishedVersion_DESC",(n=G||(G={})).TitleAsc="title_ASC",n.TitleDesc="title_DESC",n.SlugAsc="slug_ASC",n.SlugDesc="slug_DESC",n.SysIdAsc="sys_id_ASC",n.SysIdDesc="sys_id_DESC",n.SysPublishedAtAsc="sys_publishedAt_ASC",n.SysPublishedAtDesc="sys_publishedAt_DESC",n.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",n.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",n.SysPublishedVersionAsc="sys_publishedVersion_ASC",n.SysPublishedVersionDesc="sys_publishedVersion_DESC",(l=H||(H={})).TitleAsc="title_ASC",l.TitleDesc="title_DESC",l.InternalNameAsc="internalName_ASC",l.InternalNameDesc="internalName_DESC",l.SlugAsc="slug_ASC",l.SlugDesc="slug_DESC",l.PriorityAsc="priority_ASC",l.PriorityDesc="priority_DESC",l.SysIdAsc="sys_id_ASC",l.SysIdDesc="sys_id_DESC",l.SysPublishedAtAsc="sys_publishedAt_ASC",l.SysPublishedAtDesc="sys_publishedAt_DESC",l.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",l.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",l.SysPublishedVersionAsc="sys_publishedVersion_ASC",l.SysPublishedVersionDesc="sys_publishedVersion_DESC",(r=K||(K={})).TitleAsc="title_ASC",r.TitleDesc="title_DESC",r.InternalNameAsc="internalName_ASC",r.InternalNameDesc="internalName_DESC",r.SlugAsc="slug_ASC",r.SlugDesc="slug_DESC",r.PriorityAsc="priority_ASC",r.PriorityDesc="priority_DESC",r.SysIdAsc="sys_id_ASC",r.SysIdDesc="sys_id_DESC",r.SysPublishedAtAsc="sys_publishedAt_ASC",r.SysPublishedAtDesc="sys_publishedAt_DESC",r.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",r.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",r.SysPublishedVersionAsc="sys_publishedVersion_ASC",r.SysPublishedVersionDesc="sys_publishedVersion_DESC",(o=V||(V={})).TitleAsc="title_ASC",o.TitleDesc="title_DESC",o.SlugAsc="slug_ASC",o.SlugDesc="slug_DESC",o.SysIdAsc="sys_id_ASC",o.SysIdDesc="sys_id_DESC",o.SysPublishedAtAsc="sys_publishedAt_ASC",o.SysPublishedAtDesc="sys_publishedAt_DESC",o.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",o.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",o.SysPublishedVersionAsc="sys_publishedVersion_ASC",o.SysPublishedVersionDesc="sys_publishedVersion_DESC",(a=W||(W={})).TitleAsc="title_ASC",a.TitleDesc="title_DESC",a.DocIdAsc="docId_ASC",a.DocIdDesc="docId_DESC",a.PreviewCardIdAsc="previewCardId_ASC",a.PreviewCardIdDesc="previewCardId_DESC",a.StagingDocIdAsc="stagingDocId_ASC",a.StagingDocIdDesc="stagingDocId_DESC",a.IsNewAsc="isNew_ASC",a.IsNewDesc="isNew_DESC",a.AuthorDisplayNameAsc="authorDisplayName_ASC",a.AuthorDisplayNameDesc="authorDisplayName_DESC",a.SlugAsc="slug_ASC",a.SlugDesc="slug_DESC",a.SysIdAsc="sys_id_ASC",a.SysIdDesc="sys_id_DESC",a.SysPublishedAtAsc="sys_publishedAt_ASC",a.SysPublishedAtDesc="sys_publishedAt_DESC",a.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",a.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",a.SysPublishedVersionAsc="sys_publishedVersion_ASC",a.SysPublishedVersionDesc="sys_publishedVersion_DESC",(d=Y||(Y={})).TitleAsc="title_ASC",d.TitleDesc="title_DESC",d.SlugAsc="slug_ASC",d.SlugDesc="slug_DESC",d.PriorityAsc="priority_ASC",d.PriorityDesc="priority_DESC",d.SysIdAsc="sys_id_ASC",d.SysIdDesc="sys_id_DESC",d.SysPublishedAtAsc="sys_publishedAt_ASC",d.SysPublishedAtDesc="sys_publishedAt_DESC",d.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",d.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",d.SysPublishedVersionAsc="sys_publishedVersion_ASC",d.SysPublishedVersionDesc="sys_publishedVersion_DESC",(c=q||(q={})).TitleAsc="title_ASC",c.TitleDesc="title_DESC",c.SlugAsc="slug_ASC",c.SlugDesc="slug_DESC",c.PriorityAsc="priority_ASC",c.PriorityDesc="priority_DESC",c.SysIdAsc="sys_id_ASC",c.SysIdDesc="sys_id_DESC",c.SysPublishedAtAsc="sys_publishedAt_ASC",c.SysPublishedAtDesc="sys_publishedAt_DESC",c.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",c.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",c.SysPublishedVersionAsc="sys_publishedVersion_ASC",c.SysPublishedVersionDesc="sys_publishedVersion_DESC",(u=X||(X={})).IdAsc="id_ASC",u.IdDesc="id_DESC",u.NameAsc="name_ASC",u.NameDesc="name_DESC",u.DescriptionAsc="description_ASC",u.DescriptionDesc="description_DESC",u.SysIdAsc="sys_id_ASC",u.SysIdDesc="sys_id_DESC",u.SysPublishedAtAsc="sys_publishedAt_ASC",u.SysPublishedAtDesc="sys_publishedAt_DESC",u.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",u.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",u.SysPublishedVersionAsc="sys_publishedVersion_ASC",u.SysPublishedVersionDesc="sys_publishedVersion_DESC",(h=Z||(Z={})).TitleAsc="title_ASC",h.TitleDesc="title_DESC",h.SlugAsc="slug_ASC",h.SlugDesc="slug_DESC",h.SysIdAsc="sys_id_ASC",h.SysIdDesc="sys_id_DESC",h.SysPublishedAtAsc="sys_publishedAt_ASC",h.SysPublishedAtDesc="sys_publishedAt_DESC",h.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",h.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",h.SysPublishedVersionAsc="sys_publishedVersion_ASC",h.SysPublishedVersionDesc="sys_publishedVersion_DESC",(x=Q||(Q={})).TitleAsc="title_ASC",x.TitleDesc="title_DESC",x.SlugAsc="slug_ASC",x.SlugDesc="slug_DESC",x.PriorityAsc="priority_ASC",x.PriorityDesc="priority_DESC",x.SysIdAsc="sys_id_ASC",x.SysIdDesc="sys_id_DESC",x.SysPublishedAtAsc="sys_publishedAt_ASC",x.SysPublishedAtDesc="sys_publishedAt_DESC",x.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",x.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",x.SysPublishedVersionAsc="sys_publishedVersion_ASC",x.SysPublishedVersionDesc="sys_publishedVersion_DESC",(p=J||(J={})).TitleAsc="title_ASC",p.TitleDesc="title_DESC",p.SlugAsc="slug_ASC",p.SlugDesc="slug_DESC",p.SysIdAsc="sys_id_ASC",p.SysIdDesc="sys_id_DESC",p.SysPublishedAtAsc="sys_publishedAt_ASC",p.SysPublishedAtDesc="sys_publishedAt_DESC",p.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",p.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",p.SysPublishedVersionAsc="sys_publishedVersion_ASC",p.SysPublishedVersionDesc="sys_publishedVersion_DESC",(m=$||($={})).TitleAsc="title_ASC",m.TitleDesc="title_DESC",m.SlugAsc="slug_ASC",m.SlugDesc="slug_DESC",m.SysIdAsc="sys_id_ASC",m.SysIdDesc="sys_id_DESC",m.SysPublishedAtAsc="sys_publishedAt_ASC",m.SysPublishedAtDesc="sys_publishedAt_DESC",m.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",m.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",m.SysPublishedVersionAsc="sys_publishedVersion_ASC",m.SysPublishedVersionDesc="sys_publishedVersion_DESC",(g=ee||(ee={})).SysIdAsc="sys_id_ASC",g.SysIdDesc="sys_id_DESC",g.SysPublishedAtAsc="sys_publishedAt_ASC",g.SysPublishedAtDesc="sys_publishedAt_DESC",g.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",g.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",g.SysPublishedVersionAsc="sys_publishedVersion_ASC",g.SysPublishedVersionDesc="sys_publishedVersion_DESC",(j=ei||(ei={})).SlugAsc="slug_ASC",j.SlugDesc="slug_DESC",j.SysIdAsc="sys_id_ASC",j.SysIdDesc="sys_id_DESC",j.SysPublishedAtAsc="sys_publishedAt_ASC",j.SysPublishedAtDesc="sys_publishedAt_DESC",j.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",j.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",j.SysPublishedVersionAsc="sys_publishedVersion_ASC",j.SysPublishedVersionDesc="sys_publishedVersion_DESC",(C=et||(et={})).TitleAsc="title_ASC",C.TitleDesc="title_DESC",C.SlugAsc="slug_ASC",C.SlugDesc="slug_DESC",C.SysIdAsc="sys_id_ASC",C.SysIdDesc="sys_id_DESC",C.SysPublishedAtAsc="sys_publishedAt_ASC",C.SysPublishedAtDesc="sys_publishedAt_DESC",C.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",C.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",C.SysPublishedVersionAsc="sys_publishedVersion_ASC",C.SysPublishedVersionDesc="sys_publishedVersion_DESC",(b=es||(es={})).TitleAsc="title_ASC",b.TitleDesc="title_DESC",b.ColorSchemeAsc="colorScheme_ASC",b.ColorSchemeDesc="colorScheme_DESC",b.PreviewImageAsc="previewImage_ASC",b.PreviewImageDesc="previewImage_DESC",b.IconNameAsc="iconName_ASC",b.IconNameDesc="iconName_DESC",b.ActionAsc="action_ASC",b.ActionDesc="action_DESC",b.SysIdAsc="sys_id_ASC",b.SysIdDesc="sys_id_DESC",b.SysPublishedAtAsc="sys_publishedAt_ASC",b.SysPublishedAtDesc="sys_publishedAt_DESC",b.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",b.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",b.SysPublishedVersionAsc="sys_publishedVersion_ASC",b.SysPublishedVersionDesc="sys_publishedVersion_DESC",(f=en||(en={})).IdAsc="id_ASC",f.IdDesc="id_DESC",f.TitleAsc="title_ASC",f.TitleDesc="title_DESC",f.SysIdAsc="sys_id_ASC",f.SysIdDesc="sys_id_DESC",f.SysPublishedAtAsc="sys_publishedAt_ASC",f.SysPublishedAtDesc="sys_publishedAt_DESC",f.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",f.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",f.SysPublishedVersionAsc="sys_publishedVersion_ASC",f.SysPublishedVersionDesc="sys_publishedVersion_DESC",(v=el||(el={})).IdAsc="id_ASC",v.IdDesc="id_DESC",v.TitleAsc="title_ASC",v.TitleDesc="title_DESC",v.SysIdAsc="sys_id_ASC",v.SysIdDesc="sys_id_DESC",v.SysPublishedAtAsc="sys_publishedAt_ASC",v.SysPublishedAtDesc="sys_publishedAt_DESC",v.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",v.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",v.SysPublishedVersionAsc="sys_publishedVersion_ASC",v.SysPublishedVersionDesc="sys_publishedVersion_DESC",(y=er||(er={})).TitleAsc="title_ASC",y.TitleDesc="title_DESC",y.ColorSchemeAsc="colorScheme_ASC",y.ColorSchemeDesc="colorScheme_DESC",y.PreviewImageAsc="previewImage_ASC",y.PreviewImageDesc="previewImage_DESC",y.IconNameAsc="iconName_ASC",y.IconNameDesc="iconName_DESC",y.ActionAsc="action_ASC",y.ActionDesc="action_DESC",y.SysIdAsc="sys_id_ASC",y.SysIdDesc="sys_id_DESC",y.SysPublishedAtAsc="sys_publishedAt_ASC",y.SysPublishedAtDesc="sys_publishedAt_DESC",y.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",y.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",y.SysPublishedVersionAsc="sys_publishedVersion_ASC",y.SysPublishedVersionDesc="sys_publishedVersion_DESC",(_=eo||(eo={})).Jpg="JPG",_.JpgProgressive="JPG_PROGRESSIVE",_.Png="PNG",_.Png8="PNG8",_.Webp="WEBP",_.Avif="AVIF",(S=ea||(ea={})).Center="CENTER",S.Top="TOP",S.TopRight="TOP_RIGHT",S.Right="RIGHT",S.BottomRight="BOTTOM_RIGHT",S.Bottom="BOTTOM",S.BottomLeft="BOTTOM_LEFT",S.Left="LEFT",S.TopLeft="TOP_LEFT",S.Face="FACE",S.Faces="FACES",(A=ed||(ed={})).Fit="FIT",A.Pad="PAD",A.Fill="FILL",A.Scale="SCALE",A.Crop="CROP",A.Thumb="THUMB",(E=ec||(ec={})).TitleAsc="title_ASC",E.TitleDesc="title_DESC",E.SlugAsc="slug_ASC",E.SlugDesc="slug_DESC",E.SysIdAsc="sys_id_ASC",E.SysIdDesc="sys_id_DESC",E.SysPublishedAtAsc="sys_publishedAt_ASC",E.SysPublishedAtDesc="sys_publishedAt_DESC",E.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",E.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",E.SysPublishedVersionAsc="sys_publishedVersion_ASC",E.SysPublishedVersionDesc="sys_publishedVersion_DESC",(I=eu||(eu={})).TitleAsc="title_ASC",I.TitleDesc="title_DESC",I.InternalNameAsc="internalName_ASC",I.InternalNameDesc="internalName_DESC",I.SlugAsc="slug_ASC",I.SlugDesc="slug_DESC",I.PriorityAsc="priority_ASC",I.PriorityDesc="priority_DESC",I.SysIdAsc="sys_id_ASC",I.SysIdDesc="sys_id_DESC",I.SysPublishedAtAsc="sys_publishedAt_ASC",I.SysPublishedAtDesc="sys_publishedAt_DESC",I.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",I.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",I.SysPublishedVersionAsc="sys_publishedVersion_ASC",I.SysPublishedVersionDesc="sys_publishedVersion_DESC",(k=eh||(eh={})).TitleAsc="title_ASC",k.TitleDesc="title_DESC",k.InternalNameAsc="internalName_ASC",k.InternalNameDesc="internalName_DESC",k.SlugAsc="slug_ASC",k.SlugDesc="slug_DESC",k.PriorityAsc="priority_ASC",k.PriorityDesc="priority_DESC",k.SysIdAsc="sys_id_ASC",k.SysIdDesc="sys_id_DESC",k.SysPublishedAtAsc="sys_publishedAt_ASC",k.SysPublishedAtDesc="sys_publishedAt_DESC",k.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",k.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",k.SysPublishedVersionAsc="sys_publishedVersion_ASC",k.SysPublishedVersionDesc="sys_publishedVersion_DESC",(D=ex||(ex={})).TitleAsc="title_ASC",D.TitleDesc="title_DESC",D.SlugAsc="slug_ASC",D.SlugDesc="slug_DESC",D.SysIdAsc="sys_id_ASC",D.SysIdDesc="sys_id_DESC",D.SysPublishedAtAsc="sys_publishedAt_ASC",D.SysPublishedAtDesc="sys_publishedAt_DESC",D.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",D.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",D.SysPublishedVersionAsc="sys_publishedVersion_ASC",D.SysPublishedVersionDesc="sys_publishedVersion_DESC",(w=ep||(ep={})).TitleAsc="title_ASC",w.TitleDesc="title_DESC",w.DocIdAsc="docId_ASC",w.DocIdDesc="docId_DESC",w.PreviewCardIdAsc="previewCardId_ASC",w.PreviewCardIdDesc="previewCardId_DESC",w.StagingDocIdAsc="stagingDocId_ASC",w.StagingDocIdDesc="stagingDocId_DESC",w.IsNewAsc="isNew_ASC",w.IsNewDesc="isNew_DESC",w.AuthorDisplayNameAsc="authorDisplayName_ASC",w.AuthorDisplayNameDesc="authorDisplayName_DESC",w.SlugAsc="slug_ASC",w.SlugDesc="slug_DESC",w.SysIdAsc="sys_id_ASC",w.SysIdDesc="sys_id_DESC",w.SysPublishedAtAsc="sys_publishedAt_ASC",w.SysPublishedAtDesc="sys_publishedAt_DESC",w.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",w.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",w.SysPublishedVersionAsc="sys_publishedVersion_ASC",w.SysPublishedVersionDesc="sys_publishedVersion_DESC",(T=em||(em={})).NameAsc="name_ASC",T.NameDesc="name_DESC",T.EmailAsc="email_ASC",T.EmailDesc="email_DESC",T.PhoneAsc="phone_ASC",T.PhoneDesc="phone_DESC",T.FacebookAsc="facebook_ASC",T.FacebookDesc="facebook_DESC",T.TwitterAsc="twitter_ASC",T.TwitterDesc="twitter_DESC",T.SysIdAsc="sys_id_ASC",T.SysIdDesc="sys_id_DESC",T.SysPublishedAtAsc="sys_publishedAt_ASC",T.SysPublishedAtDesc="sys_publishedAt_DESC",T.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",T.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",T.SysPublishedVersionAsc="sys_publishedVersion_ASC",T.SysPublishedVersionDesc="sys_publishedVersion_DESC",(P=eg||(eg={})).TitleAsc="title_ASC",P.TitleDesc="title_DESC",P.InternalNameAsc="internalName_ASC",P.InternalNameDesc="internalName_DESC",P.SlugAsc="slug_ASC",P.SlugDesc="slug_DESC",P.PriorityAsc="priority_ASC",P.PriorityDesc="priority_DESC",P.SysIdAsc="sys_id_ASC",P.SysIdDesc="sys_id_DESC",P.SysPublishedAtAsc="sys_publishedAt_ASC",P.SysPublishedAtDesc="sys_publishedAt_DESC",P.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",P.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",P.SysPublishedVersionAsc="sys_publishedVersion_ASC",P.SysPublishedVersionDesc="sys_publishedVersion_DESC",(O=ej||(ej={})).TitleAsc="title_ASC",O.TitleDesc="title_DESC",O.SlugAsc="slug_ASC",O.SlugDesc="slug_DESC",O.SysIdAsc="sys_id_ASC",O.SysIdDesc="sys_id_DESC",O.SysPublishedAtAsc="sys_publishedAt_ASC",O.SysPublishedAtDesc="sys_publishedAt_DESC",O.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",O.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",O.SysPublishedVersionAsc="sys_publishedVersion_ASC",O.SysPublishedVersionDesc="sys_publishedVersion_DESC",(N=eC||(eC={})).SlugAsc="slug_ASC",N.SlugDesc="slug_DESC",N.SysIdAsc="sys_id_ASC",N.SysIdDesc="sys_id_DESC",N.SysPublishedAtAsc="sys_publishedAt_ASC",N.SysPublishedAtDesc="sys_publishedAt_DESC",N.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",N.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",N.SysPublishedVersionAsc="sys_publishedVersion_ASC",N.SysPublishedVersionDesc="sys_publishedVersion_DESC",(L=eb||(eb={})).TitleAsc="title_ASC",L.TitleDesc="title_DESC",L.InternalNameAsc="internalName_ASC",L.InternalNameDesc="internalName_DESC",L.SlugAsc="slug_ASC",L.SlugDesc="slug_DESC",L.PriorityAsc="priority_ASC",L.PriorityDesc="priority_DESC",L.SysIdAsc="sys_id_ASC",L.SysIdDesc="sys_id_DESC",L.SysPublishedAtAsc="sys_publishedAt_ASC",L.SysPublishedAtDesc="sys_publishedAt_DESC",L.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",L.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",L.SysPublishedVersionAsc="sys_publishedVersion_ASC",L.SysPublishedVersionDesc="sys_publishedVersion_DESC",(R=ef||(ef={})).TitleAsc="title_ASC",R.TitleDesc="title_DESC",R.SlugAsc="slug_ASC",R.SlugDesc="slug_DESC",R.SysIdAsc="sys_id_ASC",R.SysIdDesc="sys_id_DESC",R.SysPublishedAtAsc="sys_publishedAt_ASC",R.SysPublishedAtDesc="sys_publishedAt_DESC",R.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",R.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",R.SysPublishedVersionAsc="sys_publishedVersion_ASC",R.SysPublishedVersionDesc="sys_publishedVersion_DESC",(M=ev||(ev={})).IdAsc="id_ASC",M.IdDesc="id_DESC",M.TitleAsc="title_ASC",M.TitleDesc="title_DESC",M.DescriptionAsc="description_ASC",M.DescriptionDesc="description_DESC",M.SysIdAsc="sys_id_ASC",M.SysIdDesc="sys_id_DESC",M.SysPublishedAtAsc="sys_publishedAt_ASC",M.SysPublishedAtDesc="sys_publishedAt_DESC",M.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",M.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",M.SysPublishedVersionAsc="sys_publishedVersion_ASC",M.SysPublishedVersionDesc="sys_publishedVersion_DESC",(F=ey||(ey={})).IdAsc="id_ASC",F.IdDesc="id_DESC",F.TitleAsc="title_ASC",F.TitleDesc="title_DESC",F.DescriptionAsc="description_ASC",F.DescriptionDesc="description_DESC",F.SysIdAsc="sys_id_ASC",F.SysIdDesc="sys_id_DESC",F.SysPublishedAtAsc="sys_publishedAt_ASC",F.SysPublishedAtDesc="sys_publishedAt_DESC",F.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",F.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",F.SysPublishedVersionAsc="sys_publishedVersion_ASC",F.SysPublishedVersionDesc="sys_publishedVersion_DESC",(z=e_||(e_={})).HeadlineAsc="headline_ASC",z.HeadlineDesc="headline_DESC",z.VideoUrlAsc="videoUrl_ASC",z.VideoUrlDesc="videoUrl_DESC",z.PosterUrlAsc="posterUrl_ASC",z.PosterUrlDesc="posterUrl_DESC",z.StaticImageUrlAsc="staticImageUrl_ASC",z.StaticImageUrlDesc="staticImageUrl_DESC",z.SysIdAsc="sys_id_ASC",z.SysIdDesc="sys_id_DESC",z.SysPublishedAtAsc="sys_publishedAt_ASC",z.SysPublishedAtDesc="sys_publishedAt_DESC",z.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",z.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",z.SysPublishedVersionAsc="sys_publishedVersion_ASC",z.SysPublishedVersionDesc="sys_publishedVersion_DESC",(U=eS||(eS={})).HeadlineAsc="headline_ASC",U.HeadlineDesc="headline_DESC",U.VideoUrlAsc="videoUrl_ASC",U.VideoUrlDesc="videoUrl_DESC",U.PosterUrlAsc="posterUrl_ASC",U.PosterUrlDesc="posterUrl_DESC",U.StaticImageUrlAsc="staticImageUrl_ASC",U.StaticImageUrlDesc="staticImageUrl_DESC",U.SysIdAsc="sys_id_ASC",U.SysIdDesc="sys_id_DESC",U.SysPublishedAtAsc="sys_publishedAt_ASC",U.SysPublishedAtDesc="sys_publishedAt_DESC",U.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",U.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",U.SysPublishedVersionAsc="sys_publishedVersion_ASC",U.SysPublishedVersionDesc="sys_publishedVersion_DESC";let iu=(0,e6.Ps)(e9()),ih=(0,e6.Ps)(e7()),ix=(0,e6.Ps)(ie()),ip=(0,e6.Ps)(ii()),im=(0,e6.Ps)(it(),ix,ip),ig=(0,e6.Ps)(is(),iu,ih),ij=(0,e6.Ps)(il(),ix,ip);(0,e6.Ps)(ir(),ip,im),(0,e6.Ps)(io(),ip),(0,e6.Ps)(ia(),ip),(0,e6.Ps)(id());var iC=t(39794),ib=t.n(iC),iv=t(10649);let iy=e=>{var i;return!!((null==e?void 0:e.graphQLErrors)&&(null==e?void 0:null===(i=e.graphQLErrors)||void 0===i?void 0:i.length)>0&&ib()(null==e?void 0:e.graphQLErrors,e=>{var i,t;return(null==e?void 0:null===(t=e.extensions)||void 0===t?void 0:null===(i=t.contentful)||void 0===i?void 0:i.code)==="UNRESOLVABLE_LINK"}))&&(null==e?void 0:e.clientErrors.length)===0&&!(null==e?void 0:e.networkError)},i_="en-US",iS=e=>e===iv.p5?i_:"ko"===e?"ko":i_,iA=(e,i)=>({variables:{where:{},locale:i},context:{clientName:"contentfulGraphql"},onError:i=>{iy(i)||console.error("[".concat(e,"] error"),i.message)},errorPolicy:"all",fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),iE=()=>{var e;let{i18n:i}=(0,eW.mV)(),{data:t,loading:s,error:n}=function(e){let i={...ic,...e};return e8.a(ij,i)}({...iA("useGetTemplateCategories",iS(i.locale))}),l=(0,e1.$H)(null==t?void 0:null===(e=t.templateCategoryCollection)||void 0===e?void 0:e.items),r=iy(n)?void 0:n;return{categories:l,loading:s,error:r}},iI=()=>{var e;let{i18n:i}=(0,eW.mV)(),{data:t,loading:s,error:n}=function(e){let i={...ic,...e};return e8.a(ig,i)}({...iA("useGetInspirationCategories",iS(i.locale))}),l=(0,e1.$H)(null==t?void 0:null===(e=t.inspirationCategoryCollection)||void 0===e?void 0:e.items),r=iy(n)?void 0:n;return{categories:l,loading:s,error:r}};var ik=t(89364),iD=t(42822),iw=t(81540),iT=t(32899),iP=t(93202),iO=t(18469),iN=t(11050);let iL="260px";var iR=t(87978),iM=t(46409);let iF="template-preview-modal-body",iz=e=>{let{doc:i,theme:t,snapshotContent:s,setEditor:n}=e;return(0,eA.jsxs)(eI.k,{w:"100%",flex:1,direction:"column",className:"".concat(iF),align:"center",overflowY:"auto",overflowX:"auto",justifyContent:"flex-start",h:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",css:{"--editor-width":"calc(100vw - ".concat(iL," - var(--chakra-sizes-32) - 2px)")},children:[(0,eA.jsx)(iM.Y,{}),(0,eA.jsx)(iR.yE,{animationsEnabled:!1,isStatic:!1,theme:t||void 0,initialContent:s,doc:i,docId:i.id,readOnly:!0,scrollingParentSelector:".".concat(iF),onCreate:e=>{let{editor:i}=e;return n(i)}},i.id)]})};var iU=t(56581),iB=t(11881),iG=t(94523),iH=t(94199),iK=t(53596);let iV=e=>{let{isChecked:i,setTheme:t,theme:s}=e;return(0,eA.jsxs)(eU.xu,{as:iB.f,p:2,transition:"all 0.2s ease-in-out",bgColor:i?"trueblue.100":"linen.50",textAlign:"left",tabIndex:0,borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:i?void 0:"outline"},outline:"none",onClick:()=>t(s),_hover:{bgColor:i?"trueblue.100":"gray.100"},"data-theme-id":s.id,"data-testid":i?"current-theme-preview":void 0,cursor:"pointer",children:[(0,eA.jsx)(iK.n,{theme:s}),(0,eA.jsxs)(ek.K,{direction:"row",spacing:1,pt:1,children:[i&&(0,eA.jsx)(iU.n,{w:3,h:"auto",mr:1,color:"trueblue.700"}),(0,eA.jsx)(eE.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:i?"trueblue.700":void 0,children:s.name})]})]})},iW=e=>{let{heading:i,themes:t,currentTheme:s,setTheme:n}=e;return(0,eA.jsxs)(ek.K,{spacing:2,children:[(0,eA.jsx)(iG.NZ,{children:i}),(0,eA.jsx)(ek.K,{spacing:4,p:1,pr:4,children:null==t?void 0:t.map((e,i)=>{let t=e.id===(null==s?void 0:s.id);return(0,eA.jsx)(iV,{theme:e,setTheme:n,isChecked:t},i)})})]})},iY=e=>{let{templateTheme:i,setTheme:t,currentTheme:s,themes:n,onCloneClick:l,isCloneButtonDisabled:r}=e;return(0,eA.jsxs)(eI.k,{w:iL,ml:4,direction:"column",children:[(0,eA.jsx)(eU.xu,{w:"100%",pb:8,children:(0,eA.jsxs)(ez.z,{w:"100%",variant:"solid",size:"lg",onClick:l,isDisabled:r,children:[(0,eA.jsx)(eW.cC,{id:"p6eI8J"})," →"]})}),(0,eA.jsxs)(ek.K,{spacing:6,overflowY:"auto",h:"100%",pb:8,children:[(0,eA.jsx)(iW,{heading:(0,eA.jsx)(eW.cC,{id:"mdLv9o"}),themes:i?[i]:[],currentTheme:s,setTheme:t}),(0,eA.jsx)(iW,{heading:(0,eA.jsx)(eW.cC,{id:"mvmJyu"}),themes:n||[],currentTheme:s,setTheme:t}),(0,eA.jsx)(ek.K,{spacing:4,p:1,pr:4,children:(0,eA.jsx)(eI.k,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:()=>l({openThemeEditor:!0}),children:(0,eA.jsxs)(ek.K,{textAlign:"center",children:[(0,eA.jsx)(eE.x,{fontSize:"xl",children:(0,eA.jsx)(eV.G,{icon:eK.EQ8})}),(0,eA.jsx)(eE.x,{children:(0,eA.jsx)(eW.cC,{id:"YHI6sk"})})]})})}),(0,eA.jsx)(eU.xu,{px:2,py:4,children:(0,eA.jsxs)(eE.x,{textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,eA.jsx)(eW.cC,{id:"k0ByBj",values:{GAMMA_ARTIFACT_PROPER_NOUN:iH.Yc}})," ",(0,eA.jsx)("span",{role:"img","aria-label":"thumbs-up",children:"\uD83D\uDC4D"})]})})]})]})},iq=()=>(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(eN.x,{children:(0,eA.jsx)(eB.O,{w:"80%",h:"48px"})}),(0,eA.jsx)(eL.o,{}),(0,eA.jsxs)(eR.f,{display:"flex",overflow:"hidden",children:[(0,eA.jsx)(eI.k,{flex:1,children:(0,eA.jsx)(iD.M,{w:"100%",bg:"gray.100",children:(0,eA.jsx)(iw.$,{})})}),(0,eA.jsxs)(eI.k,{w:iL,ml:4,direction:"column",children:[(0,eA.jsx)(eB.O,{w:"100%",h:"48px",mb:4}),(0,eA.jsx)(eB.O,{w:"50%",h:8,mb:4}),(0,eA.jsx)(eB.O,{w:"100%",h:36,mb:4}),(0,eA.jsx)(eB.O,{w:"100%",h:36,mb:4}),(0,eA.jsx)(eB.O,{w:"100%",h:36,mb:4})]})]}),(0,eA.jsx)(eF.m,{children:(0,eA.jsx)(eB.O,{w:48,h:"42px"})})]}),iX=e=>{let{onClose:i,heading:t,errorMessage:s,onBackClick:n}=e;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsxs)(eN.x,{children:[!!n&&(0,eA.jsx)(iT.h,{"aria-label":"Back",icon:(0,eA.jsx)(ik.R,{}),variant:"ghost",onClick:n,mr:2}),t]}),(0,eA.jsx)(eL.o,{}),(0,eA.jsx)(eR.f,{display:"flex",overflow:"hidden",className:"template-preview-modal-body",children:(0,eA.jsxs)(eI.k,{direction:"column",justify:"center",align:"center",w:"100%",children:[(0,eA.jsx)(eM.E,{src:eq.Z.src,width:"300px",alt:"Sal, the Gamma mascot, perched on a rocket enjoying some screentime",mb:6}),(0,eA.jsx)(eD.X,{size:"sm",mb:2,textAlign:"center",children:(0,eA.jsx)(eW.cC,{id:"zwZQVm"})}),(0,eA.jsxs)(eE.x,{fontSize:"md",color:"gray.400",textAlign:"center",children:[(0,eA.jsx)(eW.cC,{id:"u4Djqb"}),(0,eA.jsx)("br",{}),!!s&&s]})]})}),(0,eA.jsx)(eF.m,{children:(0,eA.jsx)(ez.z,{variant:"solid",onClick:i,children:(0,eA.jsx)(eW.cC,{id:"yz7wBu"})})})]})},iZ=e=>{var i,t;let{previewDeck:s,onBackClick:n,forceChannelId:l,onClose:r}=e,[o,a]=(0,eQ.useState)(!1),d=(0,e$.e)(),c=(0,e1.Lq)(s);(0,iN.If)(e=>{e.track(iN.AA.DOC_VIEWED,{doc_id:c}),e.track(iN.AA.EXAMPLE_VIEWED,{doc_id:c})});let{data:u,loading:h,error:x}=(0,iP.Iej)({variables:{id:c},skip:!c,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:p,loading:m}=(0,iP.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),g=(null==p?void 0:p.themes)||[],j=(0,iN.z$)(),C=null==u?void 0:u.doc,b=null==C?void 0:C.theme,[f,v]=(0,eQ.useState)(b),y=(0,eQ.useRef)(!1),[_,S]=(0,eQ.useState)(),A=!s||h,E=x||x,I=null==C?void 0:null===(i=C.currentSnapshot)||void 0===i?void 0:i.content.default;(0,iO.p)(null==u?void 0:null===(t=u.doc)||void 0===t?void 0:t.cards,_);let k=[...g.filter(e=>e.id!==(null==b?void 0:b.id))];(0,eQ.useEffect)(()=>{b&&!y.current&&(v(b),y.current=!0)},[b]),(0,eQ.useEffect)(()=>{if(_){let e=null==f?void 0:f.config.accentBackgrounds;if(!e||0===e.length){I&&_.commands.setContent(I);return}_.commands.updateThemeAccentImages(e)}},[I,_,f]);let D=(0,eQ.useCallback)(e=>{v(e),null==j||j.track(iN.AA.IN_APP_TEMPLATE_THEME_CLICKED,{theme_id:e.id})},[j]),w=(0,eQ.useCallback)(e=>{let{openThemeEditor:i}=e;C&&I&&(a(!0),i&&(null==j||j.track(iN.AA.IN_APP_TEMPLATE_CREATE_THEME_CLICKED,{source_doc_id:C.id})),d({docId:C.id,initialContent:I,channelId:l,newWindow:!(0,e0.Q5)(),onSuccess:r,openThemeEditor:i,source:i?"template_modal_preview":"template_modal_preview_create_theme"}))},[C,I,d,l,j,r]);return A?(0,eA.jsx)(iq,{}):!E&&s&&C&&I?(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsxs)(eN.x,{children:[!!n&&(0,eA.jsx)(iT.h,{"aria-label":"Back",icon:(0,eA.jsx)(ik.R,{}),variant:"ghost",onClick:n,mr:2}),s.title]}),(0,eA.jsx)(eL.o,{}),(0,eA.jsxs)(eR.f,{display:"flex",overflow:"hidden",children:[(0,eA.jsx)(iz,{doc:C,snapshotContent:I,theme:f,setEditor:S}),(0,eA.jsx)(iY,{setTheme:D,currentTheme:f,templateTheme:b,themes:k,onCloneClick:w,isCloneButtonDisabled:o})]})]}):(E&&console.error("[TemplatePreview] Error loading template: ".concat(E.message)),(0,eA.jsx)(iX,{onClose:r,onBackClick:n,heading:(null==s?void 0:s.title)?s.title:"Error loading template",errorMessage:null==E?void 0:E.message}))},iQ=e=>{let{isOpen:i,onClose:t,forceDocId:s=null,forceChannelId:n=null,forceCategoryId:l=null}=e,[r,o]=(0,eQ.useState)(s),{categories:a,loading:d,error:c}=iE(),u=(0,e1.Up)(a),[h,x]=(0,eQ.useState)(l),p=(null==a?void 0:a.find(e=>e.id===h))||a[0],m=null==u?void 0:u.find(e=>{let i=(0,e1.Lq)(e);return i===r}),g=(0,eQ.useCallback)(e=>{if(!e){console.error("[TemplatesModal] onPreviewClick: docId is not defined");return}o(e)},[]),j=s?void 0:()=>o(null),C=r?"preview":"browser";return(0,eA.jsxs)(e2.u_,{isOpen:i,onClose:t,size:"full",returnFocusOnClose:!1,children:[(0,eA.jsx)(e5.Z,{}),(0,eA.jsxs)(e3.h,{borderRadius:"xl",m:6,minH:"calc(100vh - var(--chakra-sizes-12))",h:"calc(100vh - var(--chakra-sizes-12))",w:"calc(100vw - var(--chakra-sizes-12))",children:["browser"===C&&(0,eA.jsx)(i8,{onClose:t,categories:a,isLoading:d,error:c,onPreviewClick:g,currentCategory:p,setCurrentCategoryId:x,forceChannelId:n}),"preview"===C&&(0,eA.jsx)(iZ,{onBackClick:j,previewDeck:m,forceChannelId:n,onClose:t})]})]})},iJ={transitionProperty:"common",transitionDuration:"normal",transform:"scale(.9)",opacity:0,_groupFocus:{opacity:1,transform:"scale(1)"},_groupHover:{opacity:1,transform:"scale(1)"},_focus:{opacity:1,shadow:"outline"}},i$=e=>{let{deck:i,onPreviewClick:t,forceChannelId:s=null,onCloseEnclosingModal:n}=e,{isOpen:l,onOpen:r,onClose:o}=(0,eX.q)({id:"template-browser-modal"}),a=(0,e1.Lq)(i),d=(0,e$.e)(),[c,u]=(0,eQ.useState)(!1),{title:h,previewImageUrl:x}=i,p=t?()=>t(a):r,m=(0,eQ.useCallback)(()=>{if(!a){console.error("[TemplateGridItem] docIdToUse is required to clone");return}n||u(!0);let e=n?"template_modal_griditem":"template_dashboard_griditem";d({docId:a,channelId:s,source:e,newWindow:!(0,e0.Q5)(),onSuccess:()=>{n?n():setTimeout(()=>{u(!1)},3e3)}})},[a,d,s,n]);return a?(0,eA.jsxs)(eH.P,{role:"group",position:"relative",children:[(0,eA.jsxs)(ek.K,{children:[(0,eA.jsxs)(eU.xu,{tabIndex:0,role:"group",borderRadius:"5px",shadow:"md",_focus:{shadow:"outline"},_focusWithin:{shadow:"outline"},_hover:{shadow:"lg"},position:"relative",overflow:"hidden",transition:"box-shadow .2s ease",color:"white",onClick:e=>{var i,t;(null===(i=e.target)||void 0===i?void 0:i.closest('[data-target-name="use-template-button"]'))||(null===(t=e.target)||void 0===t?void 0:t.closest('[data-target-name="preview-button"]'))||p()},cursor:"pointer",children:[(0,eA.jsx)(eZ.o,{ratio:40/21,bgColor:"gray.100",children:(0,eA.jsx)(eM.E,{src:x,fallbackSrc:eJ.Z.src,fit:"cover"})}),(0,eA.jsx)(eI.k,{alignItems:"center",justifyContent:"center",position:"absolute",inset:0,zIndex:2,children:(0,eA.jsxs)(ek.K,{direction:"column",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,eA.jsx)(ez.z,{...iJ,size:"sm","data-target-name":"use-template-button",variant:"solid",onClick:m,isDisabled:c,children:(0,eA.jsx)(eW.cC,{id:"QNtP5M"})}),(0,eA.jsx)(ez.z,{"data-target-name":"preview-button",...iJ,onClick:p,w:"fit-content",size:"xs",variant:"plain",textDecoration:"none !important",children:(0,eA.jsx)(eW.cC,{id:"rdUucN"})})]})}),(0,eA.jsx)(eU.xu,{position:"absolute",inset:0,bg:"blackAlpha.300",zIndex:1,transitionProperty:"common",transitionDuration:"normal",opacity:0,_groupFocus:{opacity:1},_groupHover:{opacity:1}})]}),(0,eA.jsx)(eE.x,{fontSize:"md",children:h})]}),(0,eA.jsx)(iQ,{forceDocId:a,isOpen:l,onClose:o})]}):(console.error(["[TemplateGridItem] docIdToUse is not defined",i]),(0,eA.jsx)(eA.Fragment,{}))},i0=e=>{var i;let{category:t,onPreviewClick:s,forceChannelId:n,onClose:l}=e;return(0,eA.jsxs)(eI.k,{flex:1,w:"100%",pl:6,direction:"column",overflowY:"auto",pr:6,mr:-6,children:[(0,eA.jsx)(eO,{category:t}),(0,eA.jsx)(eU.xu,{w:"100%",children:(0,eA.jsx)(eG.r,{templateColumns:{base:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:6,children:null===(i=t.decks)||void 0===i?void 0:i.map(e=>(0,eA.jsx)(i$,{deck:e,onPreviewClick:s,forceChannelId:n,onCloseEnclosingModal:l},e.docId))})})]})};var i1=t(36371),i2=t(73582),i5=t(2969);let i3=e=>{let{categories:i,setCurrentCategoryId:t,currentCategoryId:s}=e,n=null==i?void 0:i.findIndex(e=>e.id===s);return i&&(null==i?void 0:i.length)!==0?(0,eA.jsx)(eU.xu,{w:iL,children:(0,eA.jsx)(i1.m,{index:n,variant:"soft-rounded",orientation:"vertical",size:"md",w:"100%",children:(0,eA.jsx)(i2.t,{w:"100%",children:(null==i?void 0:i.length)>0&&i.map(e=>{let{title:i,id:s,decks:n}=e;return(0,eA.jsxs)(i5.O,{flexDirection:"column",borderRadius:"base",border:"none",onClick:()=>t(s),alignItems:"flex-start",width:"100%",textAlign:"left",display:"block",children:[i," ","".concat(n&&(null==n?void 0:n.length)>0?"(".concat(n.length,")"):"")]},s)})})})}):(console.error("[TemplateBrowserSidebar] categories is empty"),null)},i4=e=>{let{error:i,onClose:t}=e;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(eN.x,{}),(0,eA.jsx)(eL.o,{}),(0,eA.jsx)(eR.f,{display:"flex",overflow:"hidden",children:(0,eA.jsxs)(eI.k,{direction:"column",justify:"center",align:"center",w:"100%",children:[(0,eA.jsx)(eM.E,{src:eq.Z.src,width:"300px",alt:"Sal, the Gamma mascot, perched on a rocket enjoying some screentime",mb:6}),(0,eA.jsx)(eD.X,{size:"sm",mb:2,textAlign:"center",children:(0,eA.jsx)(eW.cC,{id:"zwZQVm"})}),(0,eA.jsxs)(eE.x,{fontSize:"md",color:"gray.400",textAlign:"center",children:[(0,eA.jsx)(eW.cC,{id:"JhOQAi"}),(0,eA.jsx)("br",{}),(null==i?void 0:i.message)&&i.message]})]})}),(0,eA.jsx)(eF.m,{children:(0,eA.jsx)(ez.z,{variant:"solid",onClick:t,children:(0,eA.jsx)(eW.cC,{id:"yz7wBu"})})})]})},i6=e=>{let{onClose:i}=e;return(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(eN.x,{children:(0,eA.jsx)(eW.cC,{id:"iTylMl"})}),(0,eA.jsx)(eL.o,{}),(0,eA.jsx)(eR.f,{children:(0,eA.jsxs)(eI.k,{direction:"row",children:[(0,eA.jsxs)(eU.xu,{w:48,h:"100%",children:[(0,eA.jsx)(eB.O,{w:"100%",h:"40px",mb:2}),(0,eA.jsx)(eB.O,{w:"100%",h:"40px",mb:2}),(0,eA.jsx)(eB.O,{w:"100%",h:"40px",mb:2})]}),(0,eA.jsxs)(eI.k,{flex:1,w:"100%",pl:6,direction:"column",children:[(0,eA.jsx)(eB.O,{w:"50%",h:"48px",mb:4}),(0,eA.jsx)(eU.xu,{w:"100%",children:(0,eA.jsxs)(eG.r,{templateColumns:["repeat(2, 1fr)","repeat(3, 1fr)"],gap:6,children:[(0,eA.jsx)(eH.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eB.O}),(0,eA.jsx)(eH.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eB.O}),(0,eA.jsx)(eH.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eB.O})]})})]})]})}),(0,eA.jsx)(eF.m,{children:(0,eA.jsx)(ez.z,{variant:"solid",onClick:i,children:(0,eA.jsx)(eW.cC,{id:"DPfwMq"})})})]})},i8=e=>{var i;let{categories:t,onClose:s,onPreviewClick:n,currentCategory:l,setCurrentCategoryId:r,forceChannelId:o,isLoading:a,error:d}=e,[c,{data:u,loading:h}]=(0,eY.c)();return a?(0,eA.jsx)(i6,{onClose:s}):d?(0,eA.jsx)(i4,{error:d,onClose:s}):(0,eA.jsxs)(eA.Fragment,{children:[(0,eA.jsx)(eN.x,{children:(0,eA.jsx)(eW.cC,{id:"iTylMl"})}),(0,eA.jsx)(eL.o,{}),(0,eA.jsx)(eR.f,{overflow:"hidden",children:(0,eA.jsxs)(eI.k,{direction:"row",h:"100%",children:[t&&(null==t?void 0:t.length)>0&&(0,eA.jsx)(i3,{currentCategoryId:l.id,setCurrentCategoryId:r,categories:t}),(null==l?void 0:null===(i=l.decks)||void 0===i?void 0:i.length)>0&&(0,eA.jsx)(i0,{category:l,onPreviewClick:n,forceChannelId:o,onClose:s})]})}),(0,eA.jsxs)(eF.m,{justifyContent:"space-between",children:[(0,eA.jsx)(ez.z,{size:"md",variant:"ghost",isDisabled:h,leftIcon:(0,eA.jsx)(eV.G,{icon:eK.r8p}),onClick:()=>{c({channelId:o,source:"template_browser"})},children:(0,eA.jsx)(eW.cC,{id:"exOjhh"})}),(0,eA.jsx)(ez.z,{variant:"solid",onClick:s,children:(0,eA.jsx)(eW.cC,{id:"DPfwMq"})})]})]})}},33579:function(e,i,t){"use strict";t.d(i,{$H:function(){return h},Lq:function(){return o},Up:function(){return x}});var s=t(35676),n=t.n(s),l=t(14274),r=t(16426);let o=e=>{if(!e){console.warn("[getDocIdForEnv] Deck is undefined. This is unexpected.");return}return"production"!==l.v.APPLICATION_ENVIRONMENT?e.stagingDocId||"oltspxg8obq2nzc":e.docId},a=e=>{let{docId:i,previewCardId:t}=e;return t&&i?"https://assets.api.gamma.app/".concat("zc87vhr30n8uf3n","/screenshots/").concat(i,"/").concat(t,"/slide"):null},d=e=>e.filter(e=>null!==e),c=e=>{var i,t,s,n,l,o,d,c,u,h,x,p,m;return{title:e.title||null,id:(null==e?void 0:null===(i=e.sys)||void 0===i?void 0:i.id)||null,description:(null===(t=e.description)||void 0===t?void 0:t.json)||null,slug:e.slug||null,docId:(null===(s=e.deck)||void 0===s?void 0:s.docId)||null,previewCardId:(null===(n=e.deck)||void 0===n?void 0:n.previewCardId)||null,authorDisplayName:(null===(o=e.deck)||void 0===o?void 0:null===(l=o.author)||void 0===l?void 0:l.name)||null,authorImageUrl:(null===(u=e.deck)||void 0===u?void 0:null===(c=u.author)||void 0===c?void 0:null===(d=c.image)||void 0===d?void 0:d.url)||null,previewImageUrl:(null===(x=e.deck)||void 0===x?void 0:null===(h=x.previewImage)||void 0===h?void 0:h.url)||a({docId:null===(p=e.deck)||void 0===p?void 0:p.docId,previewCardId:null===(m=e.deck)||void 0===m?void 0:m.previewCardId})||r.Z.src}},u=e=>{var i,t;if(!e)return[];let s=[];return(null==e?void 0:e.__typename)==="TemplateCategory"?s=(null===(i=e.templateEntriesCollection)||void 0===i?void 0:i.items)||[]:(null==e?void 0:e.__typename)==="InspirationCategory"&&(s=(null===(t=e.inspirationEntriesCollection)||void 0===t?void 0:t.items)||[]),d(s).map(c)||[]},h=e=>e&&0!==e.length?d(e).map(e=>{var i,t;return{id:(null==e?void 0:null===(i=e.sys)||void 0===i?void 0:i.id)||null,title:e.title||null,description:(null===(t=e.description)||void 0===t?void 0:t.json)||null,slug:(null==e?void 0:e.slug)||null,decks:u(e)||null}}):[],x=e=>e&&n()(e.map(e=>e.decks))||[]},34208:function(e,i,t){"use strict";t.d(i,{G:function(){return o}});var s=t(5632),n=t.n(s),l=t(2784),r=t(42111);let o=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",t=(0,r.ye)(e),{hasInitialized:s}=(0,r.yZ)(),o=s?!t:null;return(0,l.useEffect)(()=>{!0===o&&n().replace(i)},[o,i]),o}},26495:function(e,i,t){"use strict";t.d(i,{m:function(){return d}});var s=t(65616),n=t(48484),l=t(14274),r=t(99787),o=t(2090);let a=e=>{let i="",t=!1;if("transloadit"in e){let{failed:s,transloadit:n}=e;t=!!s.length,i=n[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:i,success:!1};i=e.results[":original"][0].url}return t?{sourceUrl:i,success:!1}:{sourceUrl:i,success:!0}},d=(e,i)=>{let t=new s.ZP({...r.N$,restrictions:{...r.N$.restrictions,allowedFileTypes:r.Ge}});return t.use(n.ZP,{assemblyOptions:async()=>{let i=l.v.TRANSLOADIT_FILE_TEMPLATE_ID,{signature:t,expires:s}=await (0,o.xQ)(i);return{params:{auth:{key:l.v.TRANSLOADIT_AUTH_KEY,expires:s},template_id:i},fields:{orgId:e},signature:t}},waitForEncoding:!0}),new Promise((e,s)=>{t.on("complete",i=>{let{success:t,sourceUrl:n}=a(i);t?e(n):s("Could not get sourceUrl from upload result")}),t.on("transloadit:complete",i=>{let{success:t,sourceUrl:n}=a(i);t?e(n):s("Could not get sourceUrl from result")}),t.on("error",e=>{s(e)}),t.on("restriction-failed",(e,i)=>{console.error("[uploadFontFile] restriction failed on file",e,"error",i),s(i)}),t.addFile({name:i.name,type:i.type,data:i}),r.N$.autoProceed||t.upload()})}},85747:function(e,i,t){"use strict";t.d(i,{E:function(){return o}});var s=t(52322),n=t(2784),l=t(99787);let r={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=e=>{let{handleFilesCallback:i,multiple:t=!1,accept:o=l.pK.join(",")}=e,a=(0,n.useRef)(null),d=(0,n.useMemo)(()=>(0,s.jsx)("input",{ref:a,className:"gamma-FileInput-input",style:r,type:"file",name:"gamma-file-input",multiple:t,accept:o,onChange:e=>{let t=e.target;if(!t||!t.files)return;let s=Array.from(t.files);i(s),t.value=null}}),[o,i,t]),c=(0,n.useCallback)(()=>{var e;null===(e=a.current)||void 0===e||e.click()},[]);return{inputElement:d,onClick:c}}},62700:function(e,i,t){"use strict";t.d(i,{d:function(){return l}});var s=t(52322),n=t(5879);let l=()=>({100:(0,s.jsx)(n.cC,{id:"RGjFMI"}),200:(0,s.jsx)(n.cC,{id:"GMGHcE"}),300:(0,s.jsx)(n.cC,{id:"1njn7W"}),400:(0,s.jsx)(n.cC,{id:"xfqlmg"}),500:(0,s.jsx)(n.cC,{id:"agPptk"}),600:(0,s.jsx)(n.cC,{id:"KVGfPY"}),700:(0,s.jsx)(n.cC,{id:"KmydK6"}),800:(0,s.jsx)(n.cC,{id:"NV46Ki"}),900:(0,s.jsx)(n.cC,{id:"THokF3"})})},30423:function(e,i,t){"use strict";t.d(i,{Av:function(){return g},B_:function(){return C},CZ:function(){return h},QP:function(){return b},Sd:function(){return f},UK:function(){return x},ZN:function(){return j},cC:function(){return m},x_:function(){return p},zn:function(){return c}});var s=t(18149),n=t.n(s),l=t(53553),r=t(93202);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=["italic","oblique"];for(let t of e)for(let e of i)if(-1!==t.toLowerCase().indexOf(e))return!0;return!1},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let i of e){if(d(i,["thin"]))return 100;if(d(i,["light","lite"],["extra","ultra","x"]))return 200;if(d(i,["light"]))return 300;if(d(i,["medium"]))return 500;if(d(i,["bold"],["demi","semi"]))return 600;if(d(i,["bold"],["extra","x"]))return 800;if(d(i,["bold"]))return 700;if(d(i,["black","heavy","ultra"]))return 900}return 400},d=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let s of i)if(0===t.length){if(-1!==e.toLowerCase().indexOf(s.toLowerCase()))return!0}else for(let i of t)if(-1!==e.toLowerCase().indexOf(s.toLowerCase())&&-1!==e.toLowerCase().indexOf(i.toLowerCase()))return!0;return!1},c=async e=>new Promise((i,t)=>{let s=new FileReader;s.onload=e=>{var s,n,r,d,c,u,h,x,p,m,g,j,C,b,f,v,y,_,S;let A=null===(s=e.target)||void 0===s?void 0:s.result;try{let e=l.ZP.parse(A),t=null!==(v=null===(n=Object.values(null!==(f=null===(d=e.tables)||void 0===d?void 0:null===(r=d.name)||void 0===r?void 0:r.preferredSubfamily)&&void 0!==f?f:null===(u=e.tables)||void 0===u?void 0:null===(c=u.name)||void 0===c?void 0:c.fontSubfamily))||void 0===n?void 0:n[0])&&void 0!==v?v:"",s=null!==(y=null===(h=Object.values(null===(p=e.tables)||void 0===p?void 0:null===(x=p.name)||void 0===x?void 0:x.fullName))||void 0===h?void 0:h[0])&&void 0!==y?y:"",E=null!==(S=null===(m=Object.values(null!==(_=null===(j=e.tables)||void 0===j?void 0:null===(g=j.name)||void 0===g?void 0:g.preferredFamily)&&void 0!==_?_:null===(b=e.tables)||void 0===b?void 0:null===(C=b.name)||void 0===C?void 0:C.fontFamily))||void 0===m?void 0:m[0])&&void 0!==S?S:"";i({familyName:E,isItalic:o([t,s]),weight:a([t,s])})}catch(e){t(e)}},s.onerror=e=>{console.error("[parseFontFile] unable to read the font file, providing defaults",e),i({familyName:"",isItalic:!1,weight:400})},s.readAsArrayBuffer(e)}),u=e=>{let i=e.lastIndexOf(".");return -1===i||i===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,i),extension:e.slice(i+1)}},h=e=>{let{extension:i}=u(e);return i===r.sA6.Otf||i===r.sA6.Ttf?i:r.sA6.Ttf},x=e=>{let{existingFont:i}=e;if(!i)return!0;let t={fontName:i.name,fontId:i.id,fontFiles:i.fontFiles.map(e=>({id:e.id,name:e.name,weight:e.weight,isItalic:e.isItalic,fileType:e.fileType,sourceUrl:e.sourceUrl}))},s={fontName:e.fontName,fontId:e.fontId,fontFiles:e.uploadFontFiles.map(e=>({id:e.fontFile.id,name:e.fontFile.name,weight:e.fontFile.weight,isItalic:e.fontFile.isItalic,fileType:e.fontFile.fileType,sourceUrl:e.fontFile.sourceUrl}))};return!n()(t,s)},p=e=>{let i=e.reduce((e,i)=>{let t=[i.weight,i.isItalic].join("__");return{...e,[t]:!0}},{});return Object.keys(i).length},m=e=>{let i=Object.values(e.reduce((e,i)=>{let t=i.fontFile,s=[t.weight,t.isItalic,t.fileType].join("__");return e[s]=e[s]||[],e[s].push(i),e},{})).reduce((e,i)=>{if(i.length>1)for(let t of i)e[t.uploadId]=!0;return e},{});return i},g=e=>e.reduce((e,i)=>{let t=i.fontFile.weight;return{...e,[t]:[...e[t]||[],i]}},{}),j=function(e){let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.sort((e,t)=>i?Number(e)-Number(t):Number(t)-Number(e))},C=e=>j(Array.from(new Set(e.map(e=>e.weight)))),b=(e,i)=>{if(void 0===i)return;if(i>e[e.length-1])return e[e.length-1];let t=1/0,s=-1;for(let n=0;n<e.length;n++){let l=Math.abs(i-e[n]);if(l<t)t=l,s=n;else break}return e[s]},f=e=>!!e&&0!==e.length&&-1===e.findIndex(e=>!e.isItalic)},48832:function(e,i,t){"use strict";t.d(i,{BK:function(){return y},Dw:function(){return v},Km:function(){return f},dN:function(){return C},p6:function(){return b}});var s=t(87254),n=t(82282),l=t(32361),r=t(96740),o=t(31807),a=t(73871),d=t(57907),c=t(21346),u=t(48053),h=t(1363),x=t(49738),p=t(90535),m=t(9283),g=t(75528);let j={en:d.Z,"pt-br":c.Z,ja:u.Z,"zh-cn":h.Z,"zh-tw":x.Z,es:p.Z,fr:m.Z,ko:g.Z},C=()=>j[s.ag.locale]||void 0,b=(e,i)=>e?(0,n.Z)((0,o.Z)(e),i,{locale:C()}):"",f=(e,i)=>e?(0,r.Z)((0,o.Z)(e),i?(0,o.Z)(i):new Date,{locale:C()}):"",v=e=>e?(0,l.Z)((0,o.Z)(e),{locale:C()}):"",y=e=>e?(0,a.Z)((0,o.Z)(e),new Date,{locale:C(),addSuffix:!0,roundingMethod:"floor"}):""},26787:function(e,i,t){"use strict";t.d(i,{v:function(){return D}});var s=t(52322),n=t(43297),l=t(28535),r=t(77533),o=t(87651),a=t(29117),d=t(81540),c=t(42946),u=t(54933),h=t(49929),x=t(5879),p=t(16983),m=t(70065),g=t(82863),j=t(2784),C=t(14274),b=t(42111),f=t(36651),v=t(93441),y=t(23405),_=t(2090),S=t(85747);let A=e=>{let i=(0,m.p)(),{currentWorkspace:t}=(0,f.SE)(),[n,l]=(0,j.useState)(!1),[r,o]=(0,j.useState)(!1),a=(0,y.y)("pptImportV2"),d=(0,j.useCallback)(async(n,r)=>{let{isPPT:a,toastId:d}=r;(0,_.cT)(n,null==t?void 0:t.id,{onUploadComplete:async t=>{let{src:n,name:r}=t,c=await fetch(n).then(e=>e.text()),u=r.replace(/[.]html$/,"");e.onUploadComplete({html:c,filename:u,source:a?"PptxUpload":"DocxUpload",src:n}),i.update(d,{status:"success",title:(0,s.jsx)(x.cC,{id:"oMgC5V"}),duration:5e3,isClosable:!0}),o(!0),l(!1)},onUploadFailed(t){var n;i.update(d,{status:"error",title:(0,s.jsx)(x.cC,{id:"SlfejT"}),description:(0,s.jsx)(x.cC,{id:"lIW942"}),duration:5e3,isClosable:!0}),null===(n=e.onUploadFailed)||void 0===n||n.call(e,t),l(!1),o(!1)}},void 0,"importDoc",C.v.TRANSLOADIT_DOC_IMPORT_TEMPLATE_ID)},[null==t?void 0:t.id,e,i]),c=(0,j.useCallback)((n,r)=>{let{toastId:a}=r;(0,_.cT)(n,null==t?void 0:t.id,{onUploadComplete:async t=>{let{name:n,fullResults:r,src:d}=t,{convert_to_html:c,convert_to_pdf:u,pdf_to_images:h}=r,p=h.map(e=>({index:e.meta.thumb_index,width:e.meta.width,height:e.meta.height,url:e.ssl_url})),m=u[0].ssl_url,g=u[0].original_name||n.replace(/[.]x?html$/,""),j=c[0].ssl_url,C=await fetch(j).then(e=>e.text());e.onUploadComplete({html:C,filename:g,htmlUrl:j,src:d,source:"PptxUpload",thumbnails:p,pdfUrl:m,fileUrl:d}),i.update(a,{status:"success",title:(0,s.jsx)(x.cC,{id:"oMgC5V"}),duration:5e3,isClosable:!0}),o(!0),l(!1)},onUploadFailed(t){var n;i.update(a,{status:"error",title:(0,s.jsx)(x.cC,{id:"SlfejT"}),description:(0,s.jsx)(x.cC,{id:"lIW942"}),duration:5e3,isClosable:!0}),null===(n=e.onUploadFailed)||void 0===n||n.call(e,t),l(!1),o(!1)}},void 0,"importPpt",C.v.TRANSLOADIT_PPT_IMPORT_TEMPLATE_ID)},[null==t?void 0:t.id,e,i]),u=(0,j.useCallback)(async t=>{var n;null===(n=e.onUploadStarted)||void 0===n||n.call(e),l(!0);let r=t[0],o=_.eb.includes(r.type),u=i({id:"load-doc-toast-".concat(r.name),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,s.jsx)(x.cC,{id:"hdsaJo"}),description:(0,s.jsx)(x.cC,{id:"HOoZAi"}),isClosable:!1});o&&a?c(r,{toastId:u}):d(r,{isPPT:o,toastId:u})},[e,a,i,d,c]),{onClick:h,inputElement:p}=(0,S.E)({handleFilesCallback:u,multiple:!1,accept:[..._.u0,..._.eb].join(",")});return{initiateDocUpload:h,hiddenInputElement:p,isUploading:n,handleDocUpload:u,isSuccess:r}},E="https://www.googleapis.com/auth/drive.file",I=e=>{let[i,t]=(0,j.useState)(!1),[n,l]=(0,j.useState)(),r=(0,m.p)(),{user:o}=(0,f.SE)(),[a,d]=(0,j.useState)(!1),[c,u]=(0,j.useState)(!1),{handleDocUpload:h}=A({onUploadComplete:e.onImportComplete}),p=(0,j.useCallback)((e,i,t,n)=>{let l="https://www.googleapis.com/drive/v3/files/".concat(i,"?fields=exportLinks");d(!0);let o=r({id:"load-doc-toast-".concat(i),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,s.jsx)(x.cC,{id:"hdsaJo"}),description:(0,s.jsx)(x.cC,{id:"5VLwXq"}),isClosable:!1});fetch(l,{headers:{Authorization:"Bearer ".concat(e)}}).then(async e=>{if(200!==e.status){var i;let t=await e.json(),s=null==t?void 0:null===(i=t.error)||void 0===i?void 0:i.message;return Promise.reject(s?"Google Drive error ".concat(e.status,": ").concat(s):"Google Drive error ".concat(e.status))}return e.json()}).then(async i=>{let s=i.exportLinks[t],n=await fetch(s,{headers:{Authorization:"Bearer ".concat(e)}});return n.blob()}).then(e=>{let i=new File([e],"".concat(n,".pptx"),{type:t});h([i]),d(!1),r.close(o)}).catch(e=>{console.error("Error importing doc ".concat(i," from google"),e),d(!1),r.update(o,{status:"error",title:(0,s.jsx)(x.cC,{id:"SlfejT"}),description:e.message||e||(0,s.jsx)(x.cC,{id:"lIW942"}),duration:5e3,isClosable:!0})})},[r,h]),y=(0,j.useCallback)((i,t,n,l)=>{let o="https://www.googleapis.com/drive/v3/files/".concat(t,"/export?mimeType=").concat(n);d(!0);let a=r({id:"load-doc-toast-".concat(t),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,s.jsx)(x.cC,{id:"hdsaJo"}),description:(0,s.jsx)(x.cC,{id:"gmwDJx"}),isClosable:!1});fetch(o,{headers:{Authorization:"Bearer ".concat(i)}}).then(e=>e.text()).then(i=>{e.onImportComplete({html:i,filename:l,source:"GoogleDocs",src:o}),r.update(a,{status:"success",title:(0,s.jsx)(x.cC,{id:"oMgC5V"}),duration:5e3,isClosable:!0}),u(!0),d(!1)}).catch(e=>{console.error("Error importing doc ".concat(t," from google"),e),u(!1),d(!1)})},[e,r]),_=(0,j.useCallback)((e,i)=>{if("picked"!==i.action)return;let[t]=i.docs;"application/vnd.google-apps.document"===t.mimeType?y(e,t.id,"text/html",t.name):"application/vnd.google-apps.presentation"===t.mimeType&&p(e,t.id,"application/vnd.openxmlformats-officedocument.presentationml.presentation",t.name)},[y,p]),S=(0,j.useCallback)(e=>{l(e);let i=window.google,t=b.VH.get("pptImport"),s=["application/vnd.google-apps.document",t&&"application/vnd.google-apps.presentation"].filter(e=>!!e),n=new i.picker.DocsView(i.picker.ViewId.DOCS).setMimeTypes(s.join(",")),r=new i.picker.PickerBuilder().addView(n).addView(i.picker.ViewId.FOLDERS).setOAuthToken(e).setAppId(C.v.GOOGLE_PROJECT_ID).setDeveloperKey(C.v.GOOGLE_API_KEY).setCallback(i=>{_(e,i)});t&&r.addView(i.picker.ViewId.DOCUMENTS).addView(i.picker.ViewId.PRESENTATIONS),r.build().setVisible(!0),Array.from(document.getElementsByClassName("picker-dialog")).forEach(e=>{e.style.zIndex="2000"})},[_]),I=(0,j.useCallback)(e=>{console.error("Google auth failed:",e),r({title:(0,s.jsx)(x.cC,{id:"FL/pCd",values:{error:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})},[r]),k=(0,g.Nq)({scope:E,hint:null==o?void 0:o.email,prompt:"",onSuccess:e=>{(0,g.FX)(e,E)?S(e.access_token):I("Could not get requested scopes")},onError:I}),D=(0,j.useCallback)(()=>{window.gapi.load("picker",()=>{t(!0)})},[]);(0,v.Gq)("https://apis.google.com/js/api.js",{onload:D});let w=(0,j.useCallback)(()=>{i&&(n?S(n):k())},[n,k,i,S]);return{initiateGoogleImport:w,isImporting:a,isSuccess:c}},k=e=>{let{text:i}=e;return(0,s.jsxs)(n.K,{direction:"row",spacing:1.5,w:"100%",children:[(0,s.jsx)(l.xu,{color:"green.400",children:(0,s.jsx)(h.G,{icon:u.LEp})}),(0,s.jsx)(r.x,{children:i})]})},D=e=>{let{onImportComplete:i}=e,{initiateDocUpload:t,hiddenInputElement:u,isUploading:m,isSuccess:g}=A({onUploadComplete:i}),{initiateGoogleImport:j,isImporting:C,isSuccess:b}=I({onImportComplete:i}),f=m||C,v=b||g;return(0,s.jsxs)(l.xu,{w:"100%",children:[(0,s.jsx)(o.U,{in:v,children:(0,s.jsx)(a.U,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",backdropFilter:"blur(10px)",borderRadius:"md",children:(0,s.jsx)(r.x,{fontSize:"xl",children:(0,s.jsx)(x.cC,{id:"oMgC5V"})})})}),(0,s.jsx)(o.U,{in:f,children:(0,s.jsxs)(a.U,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",backdropFilter:"blur(10px)",borderRadius:"md",children:[(0,s.jsx)(d.$,{}),(0,s.jsx)(r.x,{fontSize:"xl",children:(0,s.jsx)(x.cC,{id:"fxZ/WE"})})]})}),(0,s.jsx)(o.U,{in:!f&&!v,children:(0,s.jsxs)(n.K,{w:"100%",direction:{base:"column",md:"row"},justifyContent:"center",spacing:{base:3,md:4},children:[(0,s.jsx)(p.X,{label:(0,s.jsx)(x.cC,{id:"RMmFZu"}),description:(0,s.jsxs)(n.K,{spacing:1,children:[(0,s.jsx)(k,{text:(0,s.jsx)(x.cC,{id:"W/x3L4"})}),(0,s.jsx)(k,{text:(0,s.jsx)(x.cC,{id:"cuyHFX"})})]}),isPopular:!1,colorScheme:"blue",imageUrl:"/_next/static/media/Thumbnail-drive.beda1526.svg",onClick:j,ctaIcon:(0,s.jsx)(h.G,{icon:c.A$k}),ctaLabel:(0,s.jsx)(x.cC,{id:"iSLIjg"})}),(0,s.jsx)(p.X,{label:(0,s.jsx)(x.cC,{id:"RNxrCU"}),description:(0,s.jsxs)(n.K,{spacing:1,children:[(0,s.jsx)(k,{text:(0,s.jsx)(x.cC,{id:"GwfEs/"})}),(0,s.jsx)(k,{text:(0,s.jsx)(x.cC,{id:"g8oIJP"})})]}),isPopular:!1,colorScheme:"purple",imageUrl:"/_next/static/media/Thumbnail-upload.175964bf.svg",onClick:t,ctaIcon:(0,s.jsx)(h.G,{icon:c.A$k}),ctaLabel:(0,s.jsx)(x.cC,{id:"JYj5R2"})}),u]})})]})}},23312:function(e,i,t){"use strict";t.d(i,{C:function(){return m}});var s=t(52322),n=t(92850),l=t(26468),r=t(22226),o=t(54326),a=t(2338),d=t(97217),c=t(77533),u=t(50250),h=t(43297),x=t(62614),p=t(5879);let m=e=>{let{invitationCount:i,isOpen:t,onClose:m,onSendInvitationsClick:g,onDiscardClick:j}=e;return t?(0,s.jsxs)(n.u_,{returnFocusOnClose:!1,onClose:m,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,s.jsx)(l.Z,{}),(0,s.jsxs)(r.h,{children:[(0,s.jsx)(o.x,{children:(0,s.jsx)(p.cC,{id:"tW/kB6",values:{invitationCount:i}})}),(0,s.jsx)(a.o,{}),(0,s.jsx)(d.f,{children:(0,s.jsx)(c.x,{children:(0,s.jsx)(p.cC,{id:"qxNK2k",values:{invitationCount:i}})})}),(0,s.jsx)(u.m,{children:(0,s.jsxs)(h.K,{spacing:2,direction:"row",align:"center",children:[(0,s.jsx)(x.z,{onClick:j,children:(0,s.jsx)(p.cC,{id:"bzSI52"})}),(0,s.jsx)(x.z,{variant:"solid",onClick:g,children:(0,s.jsx)(p.cC,{id:"6dWGPZ",values:{invitationCount:i}})})]})})]})]}):null}},55001:function(e,i,t){"use strict";t.d(i,{Y:function(){return j}});var s=t(52322),n=t(38035),l=t(17190),r=t(43297),o=t(20437),a=t(28535),d=t(11082),c=t(75009),u=t(74409),h=t(97010),x=t(42822),p=t(44663),m=t(82979);let g=e=>[{category:"Product",items:[{text:"Help",url:m.mc.help},{text:"Change log",url:m.mc.changeLog},{text:"Pricing",url:m.mc.pricing},{text:"Templates",url:m.mc.templates},{text:"Inspiration",url:m.mc.inspiration},{text:"Contact us",onClick:e}]},{category:"Company",items:[{text:"Team",url:m.mc.team},{text:"Terms of Service",url:m.mc.terms},{text:"Privacy Policy",url:m.mc.privacy}]},{category:"Follow us",items:[{text:"Twitter",url:"https://twitter.com/meetgamma"},{text:"Instagram",url:"https://www.instagram.com/meetgamma/"},{text:"LinkedIn",url:"https://www.linkedin.com/company/gamma-app/"},{text:"TikTok",url:"https://www.tiktok.com/@meetgamma"}]}],j=()=>{let e=(0,p.G)(),i=g(e);return(0,s.jsx)(n.k,{fontSize:"12px",bgColor:"#1d0042",color:"gray.400",py:20,id:"footer",justifyContent:"center",children:(0,s.jsx)(l.W,{maxW:"940px",children:(0,s.jsxs)(r.K,{children:[(0,s.jsxs)(o.M,{columns:4,spacing:6,mb:10,minChildWidth:"200px",children:[(0,s.jsx)(a.xu,{w:"100%",children:(0,s.jsx)(d.r,{href:"/",children:(0,s.jsx)(c.E,{src:"https://assets.website-files.com/60de2701a7b28f308f619d3d/60de2701a7b28ff7e9619d49_White%20Logo%20g%20spot.svg",loading:"lazy",width:"120px",alt:"Gamma logo"})})}),i.map((e,i)=>{let{category:t,items:n}=e;return(0,s.jsxs)(a.xu,{w:"100%",children:[(0,s.jsx)(u.X,{marginBottom:"25px",color:"rgba(239, 208, 255, 0.7)",fontWeight:"bold",fontSize:"14px",fontFamily:"var(--body-font)",letterSpacing:"normal",children:t}),(0,s.jsx)(h.QI,{listStyleType:"none",margin:0,children:n.map((e,i)=>{let{text:t,url:n,onClick:l}=e;return(0,s.jsx)(h.HC,{fontSize:"14px",pb:4,children:(0,s.jsx)(d.r,{color:"hsla(0, 0%, 100%, 0.86)",href:n||void 0,onClick:l||void 0,children:t})},i)})})]},i)})]}),(0,s.jsxs)(x.M,{color:"rgba(239, 208, 255, 0.7)",fontSize:"13px",children:["\xa9 ",new Date().getFullYear()," Gamma Tech, Inc."]})]})})})}},18606:function(e,i,t){"use strict";t.d(i,{P:function(){return p}});var s=t(52322),n=t(28535),l=t(43297),r=t(11082),o=t(75009),a=t(36474),d=t(62614),c=t(36651),u={src:"/_next/static/media/gamma-logo-white.9613e68b.svg"},h=t(82979);let x=[{text:"Pricing",url:h.mc.pricing,hideWhenSmall:!0},{text:"Templates",url:h.mc.templates,hideWhenSmall:!0},{text:"Login",url:h.mc.login}],p=e=>{let{headerMode:i="light"}=e,{user:t,isUserLoading:p}=(0,c.SE)(),m="light"===i;return(0,s.jsx)(n.xu,{py:4,px:[6,6,12],h:h.AP,pr:[4,6,12],zIndex:"999",top:["auto","auto","0"],children:(0,s.jsxs)(l.K,{direction:"row",children:[(0,s.jsx)(r.r,{href:"/","aria-current":"page",children:(0,s.jsx)(o.E,{w:"100px",src:m?"https://assets.website-files.com/62e823626cd4fdd0e5dc1527/62e823626cd4fdc26bdc1576_Gamma.svg":u.src,loading:"lazy",alt:"Gamma logo"})}),(0,s.jsx)(a.L,{}),!p&&!t&&(0,s.jsxs)(l.K,{direction:"row",spacing:[4,4,8],fontWeight:"500",fontSize:"14px",color:m?"#3b3a40":"#fff",alignItems:"center",transition:"color 300ms ease",children:[x.map(e=>{let{text:i,url:t,hideWhenSmall:n}=e;return(0,s.jsx)(r.r,{display:n?["none","none","block"]:"block",href:t,color:m?void 0:"whiteAlpha.800",_hover:{color:m?"#000":"whiteAlpha.900",textDecoration:"none"},children:i},i)}),(0,s.jsx)(d.z,{as:r.r,href:h.mc.signup,maxHeight:"32px",borderStyle:"solid",borderWidth:"0.5px",fontSize:"14px",borderColor:"rgba(0, 0, 0, 0.24)",backgroundColor:"#fff",boxShadow:"0 4px 4px 0 rgb(0 0 0 / 5%)",fontWeight:"700",borderRadius:"100px",color:"#3b3a40",_hover:{color:"black",textDecoration:"none"},children:"Try for free"})]})]})})}},82979:function(e,i,t){"use strict";t.d(i,{AP:function(){return n},mc:function(){return s}});let s={pricing:"/pricing",help:"https://help.gamma.app",changeLog:"https://gamma.app/public/Change-Log-awopg3inl2eo3b3",team:"https://gamma.app/public/Meet-the-Team-at-Gamma-nbqgqy05eyfcsbi",terms:"https://gamma.app/terms",privacy:"https://gamma.app/privacy",login:"/signin",signup:"/signup",templates:"/templates",inspiration:"/inspiration"},n=16},7454:function(e,i,t){"use strict";t.d(i,{i:function(){return o}});var s=t(62202),n=t(15193),l=t(94523);let r={colors:l.qZ.colors,zIndices:{tooltip:5600,modal:1800,dropdown:1600},fonts:{body:"'Eudoxus Sans', sans-serif",heading:"'p22-mackinac-pro', sans-serif"},fontSizes:{xxs:"11px"},components:{Link:{baseStyle:{textDecoration:"none"}},Button:{variants:{fancy:{color:"white",borderRadius:"full",background:"linear-gradient(180deg, #6850FF 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #003DD9 0.18%, #6850FF 109.19%, #DF7A6C 188.8%)",border:"1px solid rgba(255, 255, 255, 0.12)",_hover:{background:"linear-gradient(180deg, #3A24C2 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #002C9D 0.18%, #6850FF 109.19%, #DF7A6C 188.8%, #A56057 224.56%)"},_active:{boxShadow:"inset 1px 1px 5px rgb(0 0 0 / 50%)",background:"linear-gradient(180deg, #3A24C2 0%, rgba(38, 59, 227, 0) 100%), linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(272.9deg, #002C9D 0.18%, #6850FF 109.19%, #DF7A6C 188.8%, #A56057 224.56%)"},textDecoration:"none !important"}}},Heading:{baseStyle:{letterSpacing:"-0.04em"},variants:{fancy:{backgroundImage:l.qZ.colors.gradient["blue-to-purple"],backgroundClip:"text",color:"transparent"}}}}},o=(0,s.B1)(r,(0,n.A)({colorScheme:"trueblue"}))},17283:function(e,i,t){"use strict";t.d(i,{o8:function(){return l},vt:function(){return n}});var s=t(14274);let n=s.v.NEXT_PUBLIC_GA_ID,l=e=>{var i,t;null===(i=(t=window).gtag)||void 0===i||i.call(t,"config",n,{page_path:e})}},25944:function(e,i,t){"use strict";t.d(i,{bf:function(){return m},iZ:function(){return x},lh:function(){return h},wK:function(){return p}});var s=t(2784),n=t(42111),l=t(91994),r=t(47968),o=t(90604),a=t(56400),d=t(99268);let c=e=>Math.random()<=1/e;class u{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let h=(e,i)=>{let t=(0,l.CG)(r.Pw),n=(0,s.useRef)(t);(0,s.useEffect)(()=>{n.current=t},[t]),(0,s.useEffect)(()=>{if(e)return window.addEventListener("keydown",t,!0),()=>{window.removeEventListener("keydown",t,!0)};function t(e){let t=e.target.closest(".ProseMirror");if(!t||!n.current||!c(i))return;let s=performance.now();requestAnimationFrame(()=>{let i=e.key;" "===i&&(i="Space");let t=performance.now()-s;(0,d.EF)({...(0,a.H)(),key:i,duration:t})})}},[e,n,i])},x=()=>{let e=(0,n.ye)("rumSampleRate");(0,s.useEffect)(()=>{(0,d._k)(e)},[e])},p=e=>{let i=(0,s.useCallback)(i=>{let{isFullscreen:t=!1}=i;if(!e)return;let s=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-s;(0,d.gG)({...(0,a.H)(),toMode:o.q.SLIDE_VIEW,duration:e,isFullscreen:t})})})},[e]),t=(0,s.useCallback)(i=>{let{isFullscreen:t=!1}=i;if(!e)return;let s=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-s;(0,d.gG)({...(0,a.H)(),toMode:o.q.DOC_VIEW,duration:e,isFullscreen:t})})})},[e]);return{recordExitSlideModePerformance:t,recordEnterSlideModePerformance:i}},m=()=>{let[e]=(0,s.useState)(()=>new u),i=(0,s.useCallback)(()=>{e.setupProvider()},[e]),t=(0,s.useCallback)(()=>{e.downloadDoc()},[e]),n=(0,s.useCallback)(()=>{e.onCreate();let i=e.report();if(null===i){console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");return}(0,d.Py)({...(0,a.H)(),duration:i.onCreate}),(0,d.aZ)({...(0,a.H)(),duration:i.downloadDoc})},[e]);return{timeOnCreate:n,timeOnSetupProvider:i,timeOnDownloadDoc:t}}},18896:function(e,i,t){"use strict";t.d(i,{X:function(){return a}});var s=t(5632),n=t(2784),l=t(7e4),r=t(78462),o=t(88640);let a=e=>{let[i,t]=(0,l.X)(o.H.lastHomeUrl,"/"),a=(0,s.useRouter)();(0,n.useEffect)(()=>{let i=i=>{e&&(0,r.y6)(i)&&t(i)};return a.events.on("routeChangeStart",i),a.events.on("hashChangeStart",i),()=>{a.events.off("routeChangeStart",i),a.events.off("hashChangeStart",i)}},[a.events,t,e])};t(89311)},89311:function(e,i,t){"use strict";t.d(i,{l:function(){return o}});var s=t(5632),n=t(2784),l=t(7e4),r=t(88640);let o=()=>{let{pathname:e,isReady:i}=(0,s.useRouter)(),t=(0,n.useRef)(!1),[o,a]=(0,l.X)(r.H.lastHomeUrl,"/");(0,n.useEffect)(()=>{if(t.current||!i)return;let s="/inspiration"===e||"/templates"===e?e:"/";a(s),t.current=!0},[a,i,e])}},84405:function(e,i,t){"use strict";t.d(i,{J:function(){return r},Q:function(){return l}});var s=t(11050),n=t(25566);let l=e=>{let{doc_id:i,source:t,source_doc_id:l,channel:r,extra:o}=e;null===s.co||void 0===s.co||s.co.track(n.AA.DOC_CREATED,{doc_id:i,source_doc_id:l,source:t,channel:r,extra:o})},r=e=>{let{docId:i,type:t,source:l}=e;if(!i){console.debug("[trackDocShareLinkCopiedEvent]: doc_id is required");return}null===s.co||void 0===s.co||s.co.track(n.AA.DOC_SHARELINK_COPIED,{doc_id:i,source:l,type:t})}},60536:function(e,i,t){"use strict";t.d(i,{V:function(){return m}});var s=t(52322),n=t(43297),l=t(29117),r=t(77533),o=t(82554),a=t(36474),d=t(41098),c=t(5879),u=t(23405),h=t(94199),x=t(67964),p=t(81640);let m=e=>{let{onClose:i,onOpen:t,segmentEvent:m,doc:g,label:j}=e,C=(0,u.y)("upsellUXEnabled_Pro"),b=(0,x.dU)(null==g?void 0:g.organization),{openUpsellModal:f}=(0,p.z)();return!1===b&&C?(0,s.jsxs)(n.K,{my:4,borderTop:"1px solid var(--chakra-colors-gray-100)",w:"100%",children:[(0,s.jsxs)(l.U,{mt:4,children:[(0,s.jsxs)(l.U,{children:[(0,s.jsx)(r.x,{children:j||(0,s.jsx)(c.cC,{id:"alnKae",values:{GAMMA_PROPER_NOUN:h.N6}})}),(0,s.jsx)(o.C,{colorScheme:"trueblue",variant:"solid",children:h.k3})]}),(0,s.jsx)(a.L,{}),(0,s.jsx)(d.r,{onClickCapture:e=>{e.preventDefault(),f({onOpenCallback:i,onCloseCallback:t,segmentEvent:m})},checked:!1})]}),(0,s.jsx)(r.x,{fontSize:"xs",color:"gray.600",children:(0,s.jsx)(c.cC,{id:"/BIHRF",values:{GAMMA_PROPER_NOUN:h.N6}})})]}):null}},4758:function(e,i,t){"use strict";t.d(i,{L:function(){return m}});var s=t(52322),n=t(38035),l=t(16556),r=t(29117),o=t(109),a=t(77533),d=t(28535),c=t(42946),u=t(49929),h=t(94523),x=t(5879),p=t(7985);t(30579);let m=e=>{let{selectedCollaborator:i,idx:t,handleRemoveClick:m}=e,g=i&&(0,p.G)((null==i?void 0:i.email)||""),j=0===t?170:300;return(0,s.jsx)(n.k,{width:0===t?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(i.email),children:(0,s.jsxs)(l.Vp,{size:"md",minW:110,...g?{}:{colorScheme:"red",bg:"red",color:"white"},children:["id"in i?(0,s.jsx)(h.kH,{label:i.email,"aria-label":i.email,children:(0,s.jsxs)(r.U,{children:[(0,s.jsx)(o.q,{size:"2xs",m:0,name:i.displayName,src:i.profileImageUrl}),(0,s.jsx)(a.x,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:j,lineHeight:"1.5",children:i.displayName})]})}):(0,s.jsx)(h.kH,{label:g?i.email:(0,s.jsx)(x.cC,{id:"XILg0L"}),"aria-label":i.email,children:(0,s.jsxs)(r.U,{flex:1,children:[(0,s.jsx)(d.Cd,{bg:g?"trueblue.100":"none",size:6,children:(0,s.jsx)(u.G,{icon:g?c.FU$:c.WV2})}),(0,s.jsx)(a.x,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:j,lineHeight:"1.5",children:i.email})]})}),(0,s.jsx)(l.SD,{onClick:m})]})},"id"in i?i.id:i.email)}},60740:function(e,i,t){"use strict";t.d(i,{y:function(){return l}});var s=t(55478),n=t(2784);let l=()=>{let{isOpen:e,onOpen:i,onClose:t}=(0,s.q)({id:"sharePanelDisclosure"}),[l,r]=(0,n.useState)("invite");return{isSharePanelOpen:e,onSharePanelOpen:i,onSharePanelClose:t,view:l,setView:r}}},86513:function(e,i,t){"use strict";t.d(i,{XG:function(){return s},Nj:function(){return eX},t9:function(){return eZ},o$:function(){return e2},aA:function(){return ia},WQ:function(){return ig}});var s,n=t(52322),l=t(92850),r=t(26468),o=t(22226),a=t(54326),d=t(28535),c=t(2338),u=t(74008),h=t(97217),x=t(43297),p=t(67109),m=t(89099),g=t(62614),j=t(82554),C=t(36474),b=t(50250),f=t(38035),v=t(42946),y=t(49929),_=t(94523),S=t(5879),A=t(2784),E=t(93202),I=t(11550),k=t(67964),D=t(30579),w=t(16710),T=t(46759),P=t(15041),O=t(36651),N=t(55274),L=t(17993),R=t(77533),M=t(47443),F=t(52929),z=t(29117),U=t(94199),B=t(25566),G=t(70065),H=t(11082),K=t(75652),V=t.n(K),W=t(14274),Y=t(91994),q=t(11050),X=t(47968);let Z=(e,i)=>"".concat(W.v.API_HOST||"","/export/docs/").concat(e,"/").concat(i),Q=async(e,i,t)=>{let s=Z(e,t);return fetch(s,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":W.v.SHARE_TOKEN||""},body:JSON.stringify({docContent:i})})},J=function(e,i,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",l=(0,G.p)(),r=(0,A.useRef)(null),o=(0,q.z$)(),[a,d]=(0,A.useState)(!1),c=(0,A.useCallback)(()=>{r.current=l({id:"export-toast-".concat(e.id,"-").concat(s),isClosable:!1,position:"top",duration:null,status:"loading",variant:"light",title:(0,n.jsx)(S.cC,{id:"N/fNtX",values:{format:s}})})},[null==e?void 0:e.id,l,s]),u=(0,A.useCallback)(()=>{r.current&&l.update(r.current,{status:"loading",variant:"light",title:(0,n.jsx)(S.cC,{id:"eJOEBy"}),description:(0,n.jsx)(S.cC,{id:"vMANwD"}),isClosable:!0})},[l,s]),h=(0,A.useCallback)(()=>{r.current&&l.update(r.current,{title:(0,n.jsx)(S.cC,{id:"walT1X"}),status:"error",duration:null,isClosable:!0})},[l]),x=(0,A.useCallback)(e=>{r.current&&l.update(r.current,{status:"success",title:(0,n.jsx)(S.cC,{id:"pK8dQg"}),description:(0,n.jsx)(R.x,{children:(0,n.jsx)(S.cC,{id:"MTtTC2",components:{0:(0,n.jsx)(H.r,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>r.current&&l.close(r.current)})}})}),isClosable:!0})},[l,s]),p=(0,A.useCallback)(()=>{let n=null==t?void 0:t.getJSON();d(!0),c();let l=setTimeout(u,3e4);Q(e.id,n,s).then(async t=>{var n;let l=await t.blob();if(!t.ok)throw Error("Export failed.");let r="pdf"===s?q.AA.PDF_EXPORTED:q.AA.PPTX_EXPORTED;null==o||o.track(r,{doc_id:e.id,source:i}),x(decodeURIComponent(t.headers.get("x-gamma-download-url")||"")||void 0);let a=window.URL.createObjectURL(l),d=document.createElement("a"),c=decodeURIComponent((null===(n=(t.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))||void 0===n?void 0:n.replace("filename=","").trim())||"".concat(e.id,".").concat(s));d.download=c,d.href=a,d.style.display="none",document.body.appendChild(d),d.click(),d.remove()}).catch(()=>{h()}).finally(()=>{d(!1),clearTimeout(l)})},[o,null==e?void 0:e.id,t,i,s,h,c,u,x]);return{handleExport:p,exportInProgress:a}},$=e=>{let i=(0,Y.CG)(X.Pu),t=e.theme||i,s=(0,A.useMemo)(()=>{let e=t.fonts?[...t.fonts]:[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),V()(e).map(e=>{var i;return(null===(i=e.url)||void 0===i?void 0:i.includes("fonts.googleapis.com"))?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(e=>!!e)},[t]);return s};var ee=t(69747),ei=t(68727),et=t(60536);let es=e=>{let{doc:i,editor:t,onSharePanelOpen:s,onSharePanelClose:l,isMultipage:r=!1}=e,o=(0,Y.CG)(X.Pu),a=o.config.headingGradient,d=(0,O.py)("edit",i);return(0,n.jsxs)(L.g,{spacing:4,align:"start",pt:2,children:[(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.600",children:r?(0,n.jsx)(S.cC,{id:"QI+Cf0",values:{0:i.title},components:{0:(0,n.jsx)("strong",{})}}):(0,n.jsx)(S.cC,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}})}),(0,n.jsxs)(x.K,{spacing:2,width:"100%",children:[(0,n.jsx)(er,{format:"pdf",label:"PDF",icon:v.gSj,accentColor:"red",doc:i,editor:t}),(0,n.jsx)(er,{format:"pptx",label:"PowerPoint",icon:v.WOY,accentColor:"orange",doc:i,editor:t})]}),(0,n.jsxs)(x.K,{spacing:"2",w:"100%",children:[a&&(0,n.jsx)(en,{}),(0,n.jsx)(el,{doc:i})]}),t&&d&&(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(S.cC,{id:"8LhjM/",components:{0:(0,n.jsx)(g.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{l(),ee.pw.emit(ee.TI.OPEN_PAGE_SETUP,"cards")}})}})}),(0,n.jsx)(et.V,{onClose:l,onOpen:s,segmentEvent:B.AA.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:i})]})},en=()=>(0,n.jsxs)(M.b,{status:"info",bg:"gray.100",children:[(0,n.jsx)(F.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,n.jsx)(S.cC,{id:"lgULOV",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}})]}),el=e=>{let{doc:i}=e,t=$(i);return t.length?(0,n.jsxs)(M.b,{status:"info",bg:"gray.100",children:[(0,n.jsx)(F.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,n.jsxs)(x.K,{children:[(0,n.jsx)(R.x,{fontSize:"sm",children:(0,n.jsx)(S.cC,{id:"5qYpE7"})}),(0,n.jsx)(z.U,{children:t.map(e=>{let{name:i,url:t}=e;return(0,n.jsx)(d.xu,{border:"1px",borderColor:"gray.200",borderRadius:"md",bg:"white",h:"auto",_hover:t?{boxShadow:"var(--chakra-shadows-md)",borderColor:"var(--chakra-colors-trueblue-300)",color:"var(--chakra-colors-trueblue-400)"}:{},onClick:t?()=>window.open(t,"_blank"):void 0,cursor:t?"pointer":void 0,children:(0,n.jsxs)(z.U,{p:3,paddingRight:4,spacing:4,children:[(0,n.jsx)(R.x,{fontWeight:"medium",children:i}),t&&(0,n.jsx)(y.G,{icon:v.wlW,size:"1x"})]})},"name")})})]})]}):null},er=e=>{let{format:i,doc:t,editor:s,icon:l,accentColor:r,label:o,badge:a}=e,{handleExport:d,exportInProgress:c}=J(t,"share_panel",s,i);return(0,n.jsx)(ei.j,{onClick:d,icon:l,formatLabel:o,accentColor:r,exportInProgress:c,exportInProgressNote:(0,n.jsx)(S.cC,{id:"57bp6s"}),badge:a})};var eo=t(87651),ea=(t(81672),t(74409)),ed=t(109),ec=(t(82655),t(54933)),eu=t(87254),eh=t(1842),ex=t.n(eh),ep=t(21979),em=t(16893),eg=t(20336),ej=t(84405),eC=t(93441),eb=t(89458),ef=t(78462),ev=t(88640),ey=t(8174);let e_=e=>{let{icon:i,showDisabled:t=!1}=e;return(0,n.jsx)(d.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:8,opacity:t?.5:1,children:t?(0,n.jsxs)("span",{className:"fa-stack",children:[(0,n.jsx)(y.G,{icon:v.u6k,className:"fa-stack-1x"}),(0,n.jsx)(y.G,{icon:i,className:"fa-stack-1x"})]}):(0,n.jsx)(y.G,{size:"1x",icon:i})})},eS=e=>{let{channel:i,doc:t,isDisabled:s,showDisabledIcon:l=!1}=e,{removeDocChannel:r}=(0,ey.Z)(),o=(0,A.useCallback)(()=>{t&&r(t,i.id)},[i.id,t,r]),a=(0,ef.j)({slug:i.slug,id:i.id});return(0,n.jsxs)(z.U,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(i.id),children:[(0,n.jsx)(d.xu,{children:(0,n.jsxs)(f.k,{alignItems:"center",children:[(0,n.jsx)(e_,{icon:D.Ty,showDisabled:l}),(0,n.jsx)(d.xu,{ml:3,opacity:l?.5:1,children:(0,n.jsx)(H.r,{href:a,target:"_blank",children:i.name})})]})}),(0,n.jsx)(g.z,{size:"sm",variant:"ghost",colorScheme:"red",onClick:o,isDisabled:s,children:(0,n.jsx)(S.cC,{id:"t/YqKh"})})]},i.id)};var eA=t(46949),eE=t(75768),eI=t(74105),ek=t(81540),eD=t(20816),ew=t(46028),eT=t(38421),eP=t.n(eT);let eO=e=>{let{workspaceId:i,docId:t,existingChannels:s,isDisabled:l}=e,r=(0,A.useRef)(null),[o,a]=(0,A.useState)(""),[c,u]=(0,A.useState)([]),[h,p]=(0,A.useState)(!1),{addDocChannel:m}=(0,ey.Z)(),{data:g,loading:j}=(0,E.Kce)({variables:{query:o,workspaceId:i},skip:!o});(0,A.useEffect)(()=>{if(j||!g)return;let e=g.search.filter(Boolean);u(e),p(0===e.length)},[g,j]);let C=(0,A.useMemo)(()=>o?c.filter(e=>!s.find(i=>i.id===e.id)):[],[s,o,c]),b=(0,A.useCallback)(e=>{let i=C.find(i=>i.id===e);if(!i){console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");return}m({docId:t,channel:i,existingChannels:s})},[m,t,s,C]);return(0,n.jsx)(eE.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,n.jsx)(d.xu,{flex:1,children:(0,n.jsxs)(eI.B,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,n.jsx)(f.k,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,n.jsx)(ek.$,{})}),(0,n.jsxs)(ew.Qc,{rollNavigation:!0,multiple:!0,emptyState:()=>!!h&&(0,n.jsxs)(f.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,n.jsx)(d.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,n.jsx)(eP(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,n.jsx)(ea.X,{size:"xs",mb:2,textAlign:"center",children:(0,n.jsx)(S.cC,{id:"NmfOr+"})}),(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.400",textAlign:"center",children:(0,n.jsx)(S.cC,{id:"kXnLEt"})})]}),suggestWhenEmpty:!1,openOnFocus:!0,filter:()=>!0,onSelectOption:e=>{let{item:i}=e;b(i.value),a("")},children:[(0,n.jsxs)(eD.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,n.jsx)(f.k,{flex:1}),(0,n.jsx)(f.k,{h:10,py:4,alignItems:"center",children:(0,n.jsx)(eA.W,{w:10})})]}),(0,n.jsx)(ew.Vp,{ref:r,"data-testid":"autocomplete-channels-input",cursor:l?"not-allowed":void 0,disabled:l,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:eu.ag._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:o,onChange:e=>{let{target:i}=e,{value:t}=i;a(t),t||u([])}}),(0,n.jsx)(ew.Jm,{w:"100%",mt:0,display:o.length>0?"flex":"none",children:C.length>0&&C.map(e=>{let{id:i,name:t,memberCount:s,isMember:l,members:r}=e;return(0,n.jsx)(ew.Gb,{"data-testid":"autocomplete-item-channel-".concat(i),value:{id:e.id},getValue:e=>e.id,align:"center",_focus:{bg:"trueblue.50"},children:(0,n.jsxs)(z.U,{spacing:4,p:0,flex:1,children:[(0,n.jsx)(d.xu,{color:"gray.700",children:(0,n.jsx)(y.G,{icon:D.Ty})}),(0,n.jsxs)(x.K,{spacing:0,flex:"1",children:[(0,n.jsx)(R.x,{children:t}),(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.400",children:l?(0,n.jsx)(S.cC,{id:"tWPlLK",values:{0:s||0}}):(0,n.jsx)(S.cC,{id:"pkIIls",values:{0:s||0}})})]}),(0,n.jsx)(_.NL,{size:"xs",overflowTooltipLabel:eu.ag._({id:"25VyZX"}),avatars:r||[],max:3,onClick:e=>{e.preventDefault(),e.stopPropagation()}})]})},i)})})]})]})})})};var eN=t(55478),eL=t(78071),eR=t(7985),eM=t(41004),eF=t(99016),ez=t(23312),eU=t(80498),eB=t(62549),eG=t(10625),eH=t(67046),eK=t(99058),eV=t(44035),eW=t(39237),eY=t(27599),eq=t(25481);(s||(s={})).NoAccess="no_access";let eX={[E.y3$.Manage]:{title:()=>eu.ag._({id:"DZfDCl"}),description:()=>eu.ag._({id:"r59J7Q"})},[E.y3$.Edit]:{title:()=>eu.ag._({id:"ePK91l"}),description:()=>eu.ag._({id:"kuZsYI"})},[E.y3$.Comment]:{title:()=>eu.ag._({id:"NBdIgR"}),description:()=>eu.ag._({id:"IwFh5+"})},[E.y3$.View]:{title:()=>eu.ag._({id:"jpctdh"}),description:()=>eu.ag._({id:"yzFEXd"})},[s.NoAccess]:{title:()=>eu.ag._({id:"oPoLg+"}),description:()=>eu.ag._({id:"Vcif8/"})}},eZ=e=>{let{isDisabled:i,options:t,disabledOptions:l=[],selected:r,variant:o="ghost",onClick:a=()=>{},onRemove:c}=e;return(0,n.jsxs)(eG.v,{closeOnSelect:!0,children:[(0,n.jsx)(eH.j,{"data-testid":"permission-menu-value-".concat(r),as:g.z,display:"flex",size:"sm",isDisabled:i,variant:o,rightIcon:(0,n.jsx)(y.G,{icon:v.ptq}),children:eX[r||s.NoAccess].title()}),(0,n.jsx)(eK.q,{textAlign:"left",zIndex:"overlay",children:(0,n.jsxs)(eV._,{defaultValue:r,value:r,title:eu.ag._({id:"9cDpsw"}),type:"radio",onChange:e=>{a(e)},children:[t.map(e=>{let i=l.find(i=>i.permission===e),t=i&&i.reason;return(0,n.jsx)(eW.i,{isDisabled:!!i,value:e,alignItems:"start",pt:3,children:(0,n.jsx)(_.kH,{label:t,"aria-label":t,isDisabled:!i,placement:"top",children:(0,n.jsxs)(d.xu,{children:[(0,n.jsx)(R.x,{mt:-1,children:eX[e].title()}),(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.500",mt:1,children:eX[e].description()})]})},e)},e)}),c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eY.R,{}),(0,n.jsx)(eq.s,{color:"red.500",onClick:c,icon:(0,n.jsx)(y.G,{icon:v.XAH,fixedWidth:!0}),children:(0,n.jsx)(S.cC,{id:"t/YqKh"})})]})]})})]})};var eQ=t(4758);let eJ=(0,eM.E)(d.xu),e$=(e,i,t)=>{if(!t)return e;let s=[...e],n=e.findIndex(e=>"email"in e&&e.email===t),l=i.find(e=>e.email===t);return -1!==n&&s.splice(n,1),[...s,l||{email:t}]},e0=(e,i)=>{let t=(0,eB.Hs)(i.map(e=>"displayName"in e?e.displayName:e.email),3);return e===E.y3$.Manage?eu.ag._({id:"4bKxWq",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,0:i.length}}):e===E.y3$.Edit?eu.ag._({id:"3rbi6Y",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,0:i.length}}):e===E.y3$.Comment?eu.ag._({id:"uGWY40",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,0:i.length}}):e===E.y3$.View?eu.ag._({id:"p5IG6F",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,0:i.length}}):eu.ag._({id:"Ai1TAT",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,0:i.length}})},e1=e=>{let{workspaceId:i,docId:t,user:s,existingDocCollaborators:l,existingInvitations:r,registerDoneFn:o,isDisabled:a}=e,c=(0,G.p)(),[u,h]=(0,A.useState)(!1),x=(0,A.useRef)(),p=(0,A.useRef)(null),[m,j]=(0,A.useState)(""),[C,b]=(0,A.useState)([]),[I,k]=(0,A.useState)(E.y3$.Manage),[D,w]=(0,A.useState)(new eU.B),[T,P]=(0,A.useState)([]),O=T.filter(e=>"email"in e),N=l.map(e=>e.user),{isOpen:L,onOpen:M,onClose:F}=(0,eN.q)({id:"unsentInvitationsModalDisclosure"}),[U,{loading:B,error:H}]=(0,E.qVw)();(0,eC.GJ)("Error inviting collaborators.",H);let K=(0,eF.j)(E.aAR),{data:V,loading:W}=(0,E.PGi)({variables:{query:m,workspaceId:i},skip:!m});(0,A.useEffect)(()=>{if(W||!V)return;let e=V.search.filter(Boolean);b(e)},[V,W]);let Y=(0,A.useMemo)(()=>m?C.filter(e=>"User"===e.__typename&&e.id!==s.id&&!O.concat(N).find(i=>i.email===e.email)):[],[C,N,m,O,s.id]),q=!!m&&!Y.find(e=>e.email===m),X=I===E.y3$.Manage&&O.some(e=>!("__typename"in e&&"User"===e.__typename)),Z=T.concat({email:m}).filter(e=>!("email"in e)||(0,eR.G)(e.email||"")),Q=!!T.length,J=!!Z.length;(0,A.useEffect)(()=>{o(()=>()=>(J?M():D.resolve(),D.promise))},[o,D,J,M]);let $=(0,A.useCallback)(async e=>{h(!0),P(i=>e.reduce((e,i)=>e$(e,Y,i.trim()),i));let t=(await Promise.all(e.map(e=>K({workspaceId:i,query:e}).then(i=>{var t;return null===(t=i.data)||void 0===t?void 0:t.search.find(i=>"User"===i.__typename&&i.email===e)})))).filter(Boolean);P(i=>e.reduce((e,i)=>e$(e,t,i.trim()),i)),h(!1)},[Y,K,i]),ee=(0,A.useCallback)(async()=>{if(0===O.length)return;let e=e$(O,Y,m.trim()).filter(e=>"email"in e&&(0,eR.G)(e.email||"")),i=[...l,...e.map(e=>{if("id"in e)return{docId:t,user:e,guest:!1,permission:I,__typename:"DocCollaborator"}})].filter(e=>!!e),n=[...r,...e.map(e=>{if("id"in e)return;let i={id:"temp",docTitle:"temp-title",invitedBy:s,docId:t,email:e.email,permission:I,__typename:"DocInvitation"};return i})].filter(e=>!!e);return U({variables:{docId:t,collaborators:e.map(e=>{let i="id"in e?{userId:e.id}:{email:e.email};return{...i,permission:I}})},update:(e,i)=>{let{data:s}=i;e.writeFragment({id:"Doc:".concat(t),fragment:E.yAO,data:null==s?void 0:s.addCollaborators})},optimisticResponse:{addCollaborators:{id:t,collaborators:i,invitations:n}}}).then(()=>{let i=eu.ag._({id:"Ka86rB",values:{0:e.length}}),t=e0(I,e);c({title:i,description:t,status:"success",duration:5e3,isClosable:!0,position:"top"})})},[U,t,m,I,Y,O,l,r,c,s]),ei=(0,A.useCallback)(async()=>Promise.all([ee()]).then(()=>{var e;P([]),j(""),null===(e=x.current)||void 0===e||e.resetItems(!0),D.resolve(),w(new eU.B)}).catch(e=>{console.warn(e)}),[ee,D]),et=a||B||u;return(0,n.jsxs)(eE.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,n.jsx)(d.xu,{flex:1,children:(0,n.jsxs)(eI.B,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,n.jsx)(f.k,{display:u?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:"gray.300",zIndex:"overlay",opacity:.4,children:(0,n.jsx)(ek.$,{})}),(0,n.jsxs)(ew.Qc,{ref:x,values:T,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,i)=>!O.find(e=>e.email===i),onSelectOption:e=>{let{item:i}=e,{type:t}=i.originalValue;"collaborator"===t&&P(e=>e$(e,Y,i.value)),j("")},onTagRemoved:e=>{P(i=>[...i].filter(i=>"email"in i?i.email!==e:!("id"in i)||i.id!==e))},children:[(0,n.jsxs)(eD.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,n.jsx)(f.k,{flex:1}),(0,n.jsx)(f.k,{h:10,py:4,alignItems:"center",children:(0,n.jsx)(eA.W,{w:10})})]}),(0,n.jsx)(ew.Vp,{ref:p,"data-testid":"autocomplete-collaborators-input",cursor:et?"not-allowed":void 0,disabled:et,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:eu.ag._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:m,onKeyDown:e=>{let{key:i}=e;if("Backspace"===i&&0===m.length&&T.length>0){let e=T.slice(-1).pop();if(e){var t;null===(t=x.current)||void 0===t||t.removeItem("email"in e?e.email:e.id)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let i=e.clipboardData.getData("Text"),t=i.trim().split(/[,|;\s]+/);$(t),j(""),b([])},onChange:e=>{let{target:i}=e,{value:t}=i;j(t),t||b([])},children:T.map((e,i)=>(0,n.jsx)(eQ.L,{idx:i,selectedCollaborator:e,handleRemoveClick:()=>{var i;null===(i=x.current)||void 0===i||i.removeItem(e.email)}},"id"in e?e.id:e.email))}),(0,n.jsx)(ew.Jm,{w:"100%",mt:0,display:m.length>0?"flex":"none",children:Y.map(e=>{let{id:i,email:t,displayName:s,profileImageUrl:l}=e;return(0,n.jsx)(ew.Gb,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(i),value:{email:t,type:"collaborator"},getValue:e=>e.email,align:"center",_focus:{bg:"trueblue.50"},children:(0,n.jsxs)(z.U,{children:[(0,n.jsx)(ed.q,{size:"sm",name:s,src:l}),(0,n.jsxs)(d.xu,{children:[(0,n.jsx)(R.x,{textTransform:"capitalize",children:s}),(0,n.jsx)(R.x,{fontSize:"xs",color:"gray.500",children:null==t?void 0:t.toLowerCase()})]})]})},i)}).concat((0,n.jsx)(ew.Gb,{value:{email:m,type:"collaborator"},align:"center",display:q?"flex":"none",_focus:{bg:"trueblue.50"},children:(0,n.jsxs)(z.U,{children:[(0,n.jsx)(d.Cd,{bg:"trueblue.100",size:8,children:(0,n.jsx)(y.G,{icon:v.FU$})}),(0,n.jsx)(R.x,{size:"md",children:m})]})},m))})]}),(0,n.jsx)(eL.p,{in:Q,unmountOnExit:!0,children:(0,n.jsx)(eD.x,{w:"auto",justifyContent:"flex-end",pr:1,children:(0,n.jsx)(eZ,{isDisabled:B,options:[E.y3$.Manage,E.y3$.Edit,E.y3$.Comment,E.y3$.View],variant:"ghost",selected:I,onClick:e=>k(e)})})})]})}),(0,n.jsx)(eJ,{overflowX:"hidden",mr:-2,transition:"slow",animate:{maxWidth:Q?"200px":"0px"},children:(0,n.jsx)(_.kH,{label:(0,n.jsx)(S.cC,{id:"Rxin92"}),"aria-label":eu.ag._({id:"Rxin92"}),isDisabled:!X,placement:"top",children:(0,n.jsx)(d.xu,{children:(0,n.jsx)(g.z,{variant:"solid",onClick:ei,isDisabled:!J||X,isLoading:B,"data-testid":"add-selected-items",children:(0,n.jsx)(S.cC,{id:"m16xKo"})})})})}),(0,n.jsx)(ez.C,{invitationCount:Z.length,onDiscardClick:()=>{F(),D.resolve(),w(new eU.B)},onSendInvitationsClick:()=>{F(),ei()},onClose:()=>{F(),D.reject(),w(new eU.B)},isOpen:L})]})},e2=e=>{let{title:i,subtitle:t,img:s,isDisabled:l=!1,disabledText:r,tooltipText:o,testId:a,infoIcon:c,permissionsControl:u,workspaceGuestInvite:h}=e,x="string"==typeof t?(0,n.jsx)(R.x,{fontSize:"xs",color:"gray.500",children:t}):t,p=(0,n.jsx)(_.kH,{isDisabled:!o,label:o,placement:"top",children:(0,n.jsx)(d.xu,{children:u})});return(0,n.jsxs)(z.U,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(a?"-"+a:""),children:[(0,n.jsx)(d.xu,{children:(0,n.jsxs)(f.k,{alignItems:"center",children:[s,(0,n.jsxs)(d.xu,{ml:3,children:[(0,n.jsx)(R.x,{children:i}),(0,n.jsxs)(f.k,{align:"center",children:[h&&h,x&&x]})]})]})}),(0,n.jsx)(d.xu,{children:(0,n.jsx)(_.kH,{isDisabled:!o,label:(0,n.jsx)(R.x,{children:o}),placement:"top",children:l?(0,n.jsx)(R.x,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(a),children:r}):c?(0,n.jsxs)(z.U,{children:[c,p]}):p})})]})},e5=e=>{let{children:i,showDivider:t=!0,...s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.g,{spacing:1,align:"stretch",py:4,...s,children:i}),t&&(0,n.jsx)(u.i,{})]})},e3=e=>{let{subtitle:i,tooltipLabel:t,ariaLabel:s,icon:l}=e;return(0,n.jsxs)(z.U,{spacing:1,align:"center",children:[(0,n.jsx)(R.x,{fontSize:"xs",color:"gray.500",children:i}),(0,n.jsx)(_.kH,{label:t,placement:"top","aria-label":s,children:(0,n.jsx)(d.xu,{color:"gray.500",lineHeight:"1",children:(0,n.jsx)(y.G,{size:"xs",icon:l})})})]})};var e4=t(43679),e6=t(34071),e8=t(39429),e9=t(46164),e7=t(47154),ie=t(48394);let ii=e=>{let{email:i,name:t,workspaceName:s,workspaceId:l}=e,[r]=(0,E.f4M)(),[o,a]=(0,A.useState)(!1),d=(0,G.p)();return(0,n.jsx)(e4.J,{closeOnBlur:!0,children:e=>{let{onClose:c}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e6.x,{children:(0,n.jsx)(g.z,{leftIcon:(0,n.jsx)(y.G,{icon:v.Gg}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,n.jsx)(S.cC,{id:"O1wAlQ"})})}),(0,n.jsxs)(e8.y,{bg:"white",children:[(0,n.jsx)(e9.Q,{}),(0,n.jsx)(e7.Y,{fontWeight:"bold",children:(0,n.jsx)(S.cC,{id:"XYV7FR"})}),(0,n.jsxs)(ie.b,{children:[(0,n.jsx)(R.x,{fontSize:"sm",children:(0,n.jsx)(S.cC,{id:"hJZ5XP",values:{name:t,workspaceName:s,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:U.aq}})}),(0,n.jsx)(g.z,{isDisabled:o,w:"100%",mt:2,onClick:()=>{l&&i&&(a(!0),r({variables:{workspaceId:l,invitees:[{email:i}]}}).then(()=>{d({title:eu.ag._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(e=>{console.error(e),d({title:eu.ag._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(()=>{a(!1),c()}))},children:(0,n.jsx)(S.cC,{id:"qVqqmP"})})]})]})]})}})},it=()=>({view:{subtitle:eu.ag._({id:"ihPQra"}),tooltip:(0,D.tN)()},comment:{subtitle:eu.ag._({id:"qPZYdC"}),tooltip:eu.ag._({id:"oKPro/",values:{0:(0,D.tN)()}})},edit:{subtitle:eu.ag._({id:"TVFcVE"}),tooltip:eu.ag._({id:"2gPY9r",values:{0:(0,D.tN)()}})}}),is=(e,i)=>{var t,s;let n="DocCollaborator"===e.__typename?null===(t=e.user.displayName)||void 0===t?void 0:t.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",l="DocCollaborator"===i.__typename?null===(s=i.user.displayName)||void 0===s?void 0:s.toUpperCase():"DocInvitation"===i.__typename?i.email.toUpperCase():"";return!l||n&&n<l?-1:!n||l&&n>l?1:0},il=(e,i)=>{if(e.permission!==i.permission){if("manage"===e.permission)return -1;if("manage"===i.permission)return 1}return is(e,i)},ir=e=>{var i,t,l;let{workspaceId:r,isFromOtherOrg:o,doc:a,user:c,setVerifySearchDone:u,canManage:h}=e,x=(0,em.A)(it),p=(0,G.p)(),[m,g]=(0,eb.I)(ev.H.hasDismissedDocWorkspaceNotice,!1),[j,C]=(0,A.useState)(!1),{isConnected:b}=(0,E.$gs)(),[I,{error:k}]=(0,E.qVw)(),[D,{error:T}]=(0,E.mrc)();(0,eC.GJ)("Error updating collaborator.",k),(0,eC.GJ)("Error removing collaborator.",T);let[P]=(0,E.rIg)(),[O]=(0,E.kTH)(),N=null==a?void 0:null===(i=a.accessLinks)||void 0===i?void 0:i[0],B=(0,A.useMemo)(()=>(0,ef.Gn)({docTitle:null==a?void 0:a.title,docId:null==a?void 0:a.id,token:null==N?void 0:N.token,absolute:!0}),[a,null==N?void 0:N.token]),H=h&&b,K=!o,V=(K&&(m||!a||a.orgAccess),!!(!(null==a?void 0:a.orgAccess)&&(null==a?void 0:a.channels)&&(null==a?void 0:a.channels.length)>0&&(null==a?void 0:a.channels.every(e=>ex()(e.permission))))),W=(null==a?void 0:a.orgAccess)==null&&(null==a?void 0:a.publicAccess)==E.y3$.View,Y=(0,w.qw)(a),q=(null==a?void 0:a.collaborators)||[],X=(null==a?void 0:a.invitations)||[],Z=q.filter(e=>e.permission===E.y3$.Manage).length,Q=[...q,...X].sort(il),J=e=>()=>{let i="updated"===e?eu.ag._({id:"Xpw8aE"}):eu.ag._({id:"jwO7L7"});p({title:i,status:"success",duration:5e3,isClosable:!0,position:"top"})},$=(null==N?void 0:N.permission)?null==N?void 0:N.permission:s.NoAccess,ee=$===s.NoAccess,ei=(null==N?void 0:N.token)==="",et=N&&N.permission!==E.y3$.View,es=a.orgAccess?a.orgAccess:s.NoAccess,en=es!==s.NoAccess;return(0,n.jsxs)(n.Fragment,{children:[H&&(0,n.jsx)(e1,{workspaceId:r,docId:a.id,user:c,existingDocCollaborators:q,existingInvitations:X,registerDoneFn:u,isDisabled:!h}),(0,n.jsx)(eg.V,{label:(0,n.jsx)(S.cC,{id:"i5bpoc"}),isConnected:b,mb:4}),(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.600",pt:2,children:Y}),(0,n.jsxs)(e5,{children:[!1,(0,n.jsx)(e2,{testId:"workspace",title:(0,n.jsx)(S.cC,{id:"wtxjAY"}),subtitle:en?eu.ag._({id:"aC87LX",values:{0:null==a?void 0:null===(t=a.organization)||void 0===t?void 0:t.name}}):"",img:(0,n.jsx)(e_,{icon:v.P88,showDisabled:!en}),isDisabled:!H,disabledText:eX[es].title(),infoIcon:W?(0,n.jsx)(_.kH,{label:(0,n.jsx)(S.cC,{id:"paaewf",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}}),placement:"top",children:(0,n.jsx)(d.xu,{color:"yellow.500",children:(0,n.jsx)(y.G,{icon:v.DBf})})}):void 0,permissionsControl:(0,n.jsx)(eZ,{isDisabled:!H,selected:es,options:[E.y3$.Manage,E.y3$.Edit,E.y3$.Comment,E.y3$.View,s.NoAccess],onClick:e=>{let i={id:a.id,orgAccess:e===s.NoAccess?null:e};P({variables:i,optimisticResponse:{updateDoc:{...i,__typename:"Doc"}},refetchQueries:["GetDocs"]}).then(J(e===s.NoAccess?"removed":"updated"))}})}),K&&(null===(l=a.channels)||void 0===l?void 0:l.map(e=>(0,n.jsx)(eS,{channel:e,doc:a,isDisabled:!b,showDisabledIcon:V},e.id))),!!a.orgAccess&&K&&!a.site&&!V&&(0,n.jsx)(d.xu,{w:"100%",mt:2,children:(0,n.jsx)(eO,{existingChannels:a.channels,workspaceId:r,docId:a.id,isDisabled:!b})}),(0,n.jsx)(eo.U,{in:K&&V,children:(0,n.jsxs)(M.b,{status:"warning",children:[(0,n.jsx)(F.z,{}),(0,n.jsx)(S.cC,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}})]})})]}),Q&&(0,n.jsx)(e5,{showDivider:h,children:Q.map(e=>{let i=e.permission===E.y3$.Manage&&Z<2,t=!H||i,s=i?eu.ag._({id:"0q0LJR"}):void 0,l=eX[e.permission].title();if("DocCollaborator"===e.__typename){var o;let i=e.user;return(0,n.jsx)(e2,{testId:i.email,title:"".concat(i.displayName," ").concat(i.id===c.id?eu.ag._({id:"dDUgzP"}):""),img:(0,n.jsx)(ed.q,{name:i.displayName,src:i.profileImageUrl,size:"sm"}),subtitle:t?void 0:i.email,isDisabled:t,disabledText:l,tooltipText:s,workspaceGuestInvite:!t&&e.guest?(0,n.jsx)(ii,{name:i.displayName,workspaceName:null===(o=a.organization)||void 0===o?void 0:o.name,workspaceId:r,email:e.user.email}):void 0,permissionsControl:(0,n.jsx)(eZ,{isDisabled:t,selected:e.permission,options:[E.y3$.Manage,E.y3$.Edit,E.y3$.Comment,E.y3$.View],disabledOptions:e.guest?[{permission:E.y3$.Manage,reason:eu.ag._({id:"Rxin92"})}]:[],onClick:e=>{let t={docId:a.id,collaborators:[{userId:i.id,permission:e}]};I({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,collaborators:q.map(t=>({...t,permission:t.user.id===i.id?e:t.permission})),invitations:X,__typename:"Doc"}}}).then(J("updated")).catch(()=>{})},onRemove:()=>{let e={docId:a.id,collaborators:[{userId:i.id}]};D({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:q.filter(e=>e.user.id!==i.id),invitations:X,__typename:"Doc"}}}).then(J("removed"))}})},i.id)}return"DocInvitation"===e.__typename?(0,n.jsx)(e2,{testId:e.email,title:e.email,subtitle:eu.ag._({id:"MActeE"}),img:(0,n.jsx)(d.Cd,{bg:"trueblue.50",size:8,children:(0,n.jsx)(y.G,{icon:v.FU$,size:"sm"})}),isDisabled:t,disabledText:l,permissionsControl:(0,n.jsx)(eZ,{selected:e.permission,options:[E.y3$.Manage,E.y3$.Edit,E.y3$.Comment,E.y3$.View],disabledOptions:[{permission:E.y3$.Manage,reason:eu.ag._({id:"Rxin92"})}],onClick:i=>{let t={docId:a.id,collaborators:[{email:e.email,permission:i}]};I({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,invitations:X.map(t=>({...t,permission:t.email===e.email?i:t.permission})),collaborators:q,__typename:"Doc"}}}).then(J("updated")).catch(()=>{console.warn("Error updating permission")})},onRemove:()=>{let i={docId:a.id,collaborators:[{email:e.email}]};D({variables:i,optimisticResponse:{removeCollaborators:{id:i.docId,invitations:X.filter(i=>i.email!==e.email),collaborators:q,__typename:"Doc"}}}).then(J("removed"))}})},e.email):null})}),h&&(0,n.jsxs)(e5,{showDivider:!1,children:[(0,n.jsx)(e2,{title:(0,n.jsx)(S.cC,{id:"qZu20V"}),subtitle:ee?eu.ag._({id:"vMZPZT"}):(0,n.jsx)(e3,{subtitle:x[$].subtitle,tooltipLabel:x[$].tooltip,ariaLabel:x[$].subtitle,icon:v.DBf}),img:(0,n.jsx)(e_,{icon:v.nNP,showDisabled:ee}),isDisabled:!H,disabledText:eX[$].title(),permissionsControl:(0,n.jsx)(eZ,{selected:$,options:[E.y3$.Edit,E.y3$.Comment,E.y3$.View,s.NoAccess],onClick:e=>{let i=null==N?void 0:N.id,t={id:a.id,accessLinks:e===s.NoAccess?[{permission:null}]:[{permission:e}]};O({variables:t,optimisticResponse:{updateDoc:{...t,accessLinks:[{__typename:"AccessLink",id:i||"temp-id",permission:e===s.NoAccess?null:e}],__typename:"Doc"}}}).then(J(e===s.NoAccess?"removed":"updated"))}})}),(0,n.jsxs)(eo.U,{animateOpacity:!0,in:!!(null==N?void 0:N.permission),children:[(0,n.jsx)(ep.I,{url:B,customLabel:eu.ag._({id:"y1eoq1"}),onClick:()=>{(0,ej.J)({docId:a.id,source:"sharePanel",type:"tokenUrl"})}}),!ei&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eo.U,{in:j,unmountOnExit:!0,children:(0,n.jsxs)(L.g,{mt:3,align:"stretch",spacing:4,bg:"gray.50",p:6,borderRadius:"md",children:[(0,n.jsxs)(z.U,{spacing:4,align:"center",children:[(0,n.jsx)(d.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:ec._1N})}),(0,n.jsx)(R.x,{fontSize:"sm",children:(0,n.jsx)(S.cC,{id:"asiJbp"})})]}),(0,n.jsxs)(z.U,{spacing:4,align:"center",children:[(0,n.jsx)(d.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:ec.Mdf})}),(0,n.jsx)(R.x,{fontSize:"sm",display:"inline-block",children:(0,n.jsx)(S.cC,{id:"+g8rkW",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc,GAMMA_PROPER_NOUN:U.N6}})})]}),et&&(0,n.jsxs)(z.U,{spacing:4,align:"center",children:[(0,n.jsx)(d.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:ec.FKd})}),(0,n.jsx)(R.x,{fontSize:"sm",children:(0,n.jsx)(S.cC,{id:"NSCwrX",values:{GAMMA_PROPER_NOUN:U.N6,selectedAccessLinkPermission:$},components:{0:(0,n.jsx)(R.x,{as:"span",fontWeight:"bold"})}})})]})]})}),(0,n.jsx)(f.k,{justify:"center",alignItems:"center",my:3,children:(0,n.jsxs)(z.U,{spacing:1,as:"button",onClick:()=>C(!j),children:[j?(0,n.jsx)(y.G,{fixedWidth:!0,size:"xs",icon:v.onQ}):(0,n.jsx)(y.G,{fixedWidth:!0,size:"xs",icon:v.r8p}),(0,n.jsx)(R.x,{lineHeight:"normal",marginLeft:"auto",marginRight:"auto",fontSize:"xs",fontWeight:"medium",children:j?(0,n.jsx)(S.cC,{id:"BRvU04"}):(0,n.jsx)(S.cC,{id:"l0Ck42"})})]})})]})]})]})]})};var io=t(50019);let ia=e=>{let{visibility:i,isFromOtherOrg:t}=e,s=(0,io.ff)("white","var(--chakra-colors-gray-900)");return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(y.G,{icon:v.Gg}),(0,n.jsxs)(d.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,n.jsx)(y.G,{icon:i.primaryIcon}),i.secondaryIcon&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.G,{icon:ec.diR,color:s,transform:"down-6 right-6"}),(0,n.jsx)(y.G,{icon:i.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})};var id=t(35183),ic=t(41098),iu=t(26284),ih=t(29494);let ix="embed-copied-toast",ip=e=>{let{embedCode:i,isDisabled:t,docId:s}=e,l=(0,G.p)(),[r,o]=(0,A.useState)(!1),{hasCopied:a,onCopy:d}=(0,iu.V)(i),c=(0,A.useRef)(null);(0,A.useEffect)(()=>{c.current&&r&&(c.current.focus(),c.current.select())},[r]);let u=(0,A.useCallback)(()=>o(!0),[]),h=(0,A.useCallback)(()=>o(!1),[]),x=(0,A.useCallback)(()=>{d(),l.isActive(ix)||l({id:ix,title:(0,n.jsx)(S.cC,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,ej.J)({docId:s,source:"sharePanel",type:"embed"})},[s,d,l]);return(0,n.jsxs)(L.g,{spacing:4,align:"stretch",children:[(0,n.jsx)(ih.g,{ref:c,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:t,onClick:u,onBlur:h,isReadOnly:!0,resize:"none",pointerEvents:t?"none":void 0,children:i}),(0,n.jsx)(g.z,{alignSelf:"flex-end",onClick:x,isDisabled:t,size:"sm",...t?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:a?(0,n.jsx)(S.cC,{id:"6V3Ea3"}):(0,n.jsx)(S.cC,{id:"Sx4kHi"})})]})},im=e=>{let{doc:i,isSharePublic:t,isConnected:l,onSharePanelOpen:r,onSharePanelClose:o,editor:a}=e,c=(0,G.p)(),[u,h]=(0,A.useState)(!!i.publicAccess),[x]=(0,E.o6I)(),p=(0,A.useMemo)(()=>{let e=(0,ef.Gn)({docId:i.id,docTitle:i.title,path:"public",absolute:!0});return t?e:(0,ef.lT)({docId:i.id,docTitle:i.title})},[i.id,i.title,t]),m=(0,A.useCallback)(e=>{h(e.target.checked);let t={id:i.id,publicAccess:e.target.checked?E.y3$.View:null};x({variables:t,optimisticResponse:{updateDoc:{...t,__typename:"Doc"}}}).then(()=>{let i=e.target.checked?eu.ag._({id:"OnQp1B"}):eu.ag._({id:"e5veeL"});c({title:i,status:"success",duration:5e3,isClosable:!0,position:"top"})})},[i.id,c,x]),j=i.publicAccess?eX[E.y3$.View].title():eX[s.NoAccess].title(),C=t?(0,n.jsx)(S.cC,{id:"kGj/zu",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc},components:{0:(0,n.jsx)(R.x,{as:"span",borderBottom:"0.125em dashed",borderColor:"gray.400",cursor:"help"}),1:(0,n.jsx)(_.kH,{placement:"top",label:eu.ag._({id:"kni5pb",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}}),"aria-label":"public access is read only"})}}):(0,n.jsx)(S.cC,{id:"RmtWc6",values:{GAMMA_ARTIFACT_PROPER_NOUN:U.Yc}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.600",pt:2,children:C}),(0,n.jsx)(e5,{showDivider:!1,children:(0,n.jsx)(e2,{title:(0,n.jsx)(S.cC,{id:"YsO5Wf"}),testId:"public-access",subtitle:(0,n.jsx)(e3,{subtitle:(0,n.jsx)(S.cC,{id:"oEQSnD"}),tooltipLabel:(0,D.tN)(),ariaLabel:eu.ag._({id:"oEQSnD"}),icon:v.DBf}),img:(0,n.jsx)(e_,{icon:v.Xj}),isDisabled:!l,disabledText:j,permissionsControl:(0,n.jsx)(id.NI,{children:(0,n.jsx)(ic.r,{id:"public-access",isChecked:u,onChange:m})})})}),(0,n.jsx)(_.kH,{label:t?(0,n.jsx)(S.cC,{id:"RFk/SS"}):(0,n.jsx)(S.cC,{id:"4wpR4l"}),placement:"top",isDisabled:u,children:(0,n.jsx)(d.xu,{children:t?(0,n.jsx)(ep.I,{isDisabled:!i.publicAccess,url:p,customLabel:eu.ag._({id:"FO91Ip"}),onClick:()=>{(0,ej.J)({docId:i.id,source:"sharePanel",type:"public"})}}):(0,n.jsx)(ip,{embedCode:p,isDisabled:!u,docId:i.id})})}),t&&a&&(0,n.jsx)(R.x,{fontSize:"sm",color:"gray.500",mt:4,children:(0,n.jsx)(S.cC,{id:"a9n+CI",components:{0:(0,n.jsx)(g.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{o(),ee.pw.emit(ee.TI.OPEN_PAGE_SETUP,"preview")}})}})}),(0,n.jsx)(et.V,{onClose:o,onOpen:r,segmentEvent:q.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:i})]})},ig=e=>{var i;let{doc:t,editor:s,isSharePanelOpen:L,onSharePanelClose:R,onSharePanelOpen:M,onAnalyticsPanelOpen:F,view:z,setView:U,showAnalytics:B=!0,showSharePublic:G=!0,showEmbed:H=!0}=e,K=(0,k._O)(),{openSiteSettings:V}=(0,N.AA)(),W=(0,A.useRef)(!1),{user:Y,currentWorkspace:q}=(0,O.SE)(),{isConnected:X}=(0,E.$gs)(),Z=(0,O.py)("manage",t),Q=(0,O.py)("comment",t),{isOpen:J,onClose:$}=(0,I.M)({id:"create-site-modal"}),ee=t&&t.site&&t.site.routes.length>1,ei=t&&(0,P.Vr)(t.site),et=(0,D.ei)({showSharePublic:G&&Z&&!ei,showEmbed:H&&Z&&!ei}),en=Z&&F&&t&&!ei,[el,er]=(0,A.useState)(()=>()=>Promise.resolve()),eo=(0,A.useCallback)(()=>{R(),$()},[R,$]),ea=t?ee?t.site.name:t.title:null,ed=(0,A.useCallback)(()=>{el().then(()=>{U("invite"),R()},()=>{console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[U,R,el]),ec=(0,A.useCallback)(()=>{F&&(R(),F())},[F,R]),eu=(0,A.useCallback)(()=>{V("domains"),R()},[R,V]);if(!Y)return null;let eh=(0,w.h_)(t,Y),ex=eh?(0,w.Xp)()[eh]:null,ep=(0,w.Gi)(t,q);if(t&&null===ex)return console.error("[SharePanel] Unknown VisibilityValue for doc",t),null;let em=null==t?void 0:null===(i=t.organization)||void 0===i?void 0:i.id;return!t||em||W.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:t.id,organization:t.organization}),W.current=!0),(0,n.jsxs)(_.Wk,{isDark:!1,children:[(0,n.jsxs)(l.u_,{onEsc:ed,isOpen:L,onClose:R,trapFocus:!1,size:"3xl",returnFocusOnClose:!1,children:[(0,n.jsx)(r.Z,{}),(0,n.jsxs)(o.h,{"data-share-panel-modal-content":!0,mx:2,children:[(0,n.jsxs)(a.x,{children:[ex&&(0,n.jsx)(d.xu,{as:"span",mr:3,children:(0,n.jsx)(ia,{visibility:ex,isFromOtherOrg:ep})}),ea?(0,n.jsx)(S.cC,{id:"sit2to",values:{displayName:ea}}):(0,n.jsx)(S.cC,{id:"Z8lGw6"})]}),(0,n.jsx)(c.o,{"data-share-panel-close-button":!0,onClick:e=>{e.preventDefault(),ed()}}),(0,n.jsx)(u.i,{}),t?(0,n.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:t&&em&&(0,n.jsxs)(n.Fragment,{children:[Z&&(0,n.jsxs)(x.K,{direction:"row",children:[(0,n.jsx)(m.E,{my:4,children:et.map(e=>{let{viewKey:i,icon:t,ariaLabel:s,label:l,isBeta:r}=e,o=z===i;return(0,n.jsx)(m.U,{children:(0,n.jsx)(g.z,{leftIcon:(0,n.jsx)(y.G,{icon:t,"aria-label":s}),variant:"ghost",size:"sm",fontWeight:"600",bg:o?"trueblue.50":"transparent",color:o?"trueblue.500":"gray.600",onClick:()=>U(i),rightIcon:r?(0,n.jsx)(j.C,{colorScheme:"green",children:(0,n.jsx)(S.cC,{id:"YBt9YP"})}):void 0,children:l})},i)})}),!(null==t?void 0:t.site)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C.L,{}),(0,n.jsx)(g.z,{onClick:eu,variant:"plain",size:"sm",my:4,children:(0,n.jsx)(S.cC,{id:"wzvDe1"})})]})]}),(!Q||"invite"==z)&&(0,n.jsx)(ir,{workspaceId:em,doc:t,user:Y,setVerifySearchDone:er,canManage:Z,isFromOtherOrg:ep,isMultipage:ee}),Z&&("public"===z||"embed"===z)&&(0,n.jsx)(im,{doc:t,isSharePublic:"public"==z,isConnected:X,onSharePanelOpen:M,onSharePanelClose:R,editor:s}),Q&&"export"===z&&(0,n.jsx)(es,{doc:t,editor:s,onSharePanelOpen:M,onSharePanelClose:R,isMultipage:ee})]})}):(0,n.jsx)(h.f,{pb:6,"data-testid":"share-panel-modal-body",children:(0,n.jsxs)(x.K,{children:[(0,n.jsx)(p.O,{height:"55px"}),(0,n.jsx)(p.O,{height:"55px"}),(0,n.jsx)(p.O,{height:"55px"}),(0,n.jsx)(p.O,{height:"55px"})]})}),(0,n.jsx)(u.i,{}),(0,n.jsx)(b.m,{children:(0,n.jsxs)(f.k,{justifyContent:"space-between",flex:1,children:[B&&en&&(0,n.jsx)(g.z,{isDisabled:!X,leftIcon:(0,n.jsx)(y.G,{icon:v.Ma4}),variant:"ghost",onClick:ec,children:(0,n.jsx)(S.cC,{id:"YaUqUV"})}),(0,n.jsx)(C.L,{}),(0,n.jsx)(g.z,{onClick:e=>{e.preventDefault(),ed()},variant:"solid",children:(0,n.jsx)(S.cC,{id:"DPfwMq"})})]})})]})]}),(null==t?void 0:t.id)&&K&&Z&&(0,n.jsx)(T.M,{isOpen:J,onClose:eo,existingDoc:t})]})}},8174:function(e,i,t){"use strict";t.d(i,{Z:function(){return d}});var s=t(52322),n=t(70065),l=t(5879),r=t(2784),o=t(93202),a=t(94199);let d=()=>{let e=(0,n.p)(),[i]=(0,o.yx3)({refetchQueries:["GetChannelDocActivity","GetChannels"]}),t=(0,r.useCallback)(t=>{let{docId:n,doc:r,channel:d,existingChannels:c=[]}=t,u=n||(null==r?void 0:r.id);if(!u){console.error("Invalid docid");return}let h={input:{docId:u,sharing:[{op:o.Bdm.Add,path:"/channels",value:[{channelId:d.id}]}]}},x=(null==r?void 0:r.title)||a.Yc,p=[...c,{id:d.id,slug:d.slug,name:d.name,permission:o.y3$.Comment}].sort((e,i)=>e.slug.localeCompare(i.slug,"en"));i({variables:h,update:(e,i)=>{let{data:t}=i;e.writeFragment({id:"Doc:".concat(u),fragment:o.IiT,data:null==t?void 0:t.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:h.input.docId,channels:p}}}).then(()=>{e({title:(0,s.jsx)(l.cC,{id:"7hDHpt",values:{title:x}}),description:(0,s.jsx)(l.cC,{id:"A2xcFn",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,0:d.name}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},i=>{e({title:(0,s.jsx)(l.cC,{id:"bLdU0Q",values:{title:x,0:d.name}}),description:i.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[i,e]),d=(0,r.useCallback)((t,n)=>{var r;if(!n)return;let d={input:{docId:t.id,sharing:[{op:o.Bdm.Remove,path:"/channels",value:[{channelId:n}]}]}};i({variables:d,update:(e,i)=>{let{data:s}=i;e.writeFragment({id:"Doc:".concat(t.id),fragment:o.P6u,data:null==s?void 0:s.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:d.input.docId,channels:null===(r=t.channels)||void 0===r?void 0:r.filter(e=>e.id!==n)}}}).then(()=>{e({title:(0,s.jsx)(l.cC,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),status:"success",duration:1e4,position:"top"})}).catch(i=>{e({title:(0,s.jsx)(l.cC,{id:"+yMzgs"}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",i.message)})},[i,e]);return{addDocChannel:t,removeDocChannel:d}}},16710:function(e,i,t){"use strict";t.d(i,{Gi:function(){return c},Xp:function(){return x},h_:function(){return p},nZ:function(){return j},qw:function(){return m},uG:function(){return C}});var s=t(52322),n=t(42946),l=t(5879),r=t(87254),o=t(94199),a=t(30579),d=t(78462);let c=(e,i)=>{var t;return(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.id)!==(null==i?void 0:i.id)},u={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},h=[u.ORG_VIEW,u.ORG_COMMENT,u.ORG_EDIT,u.ORG_MANAGE],x=()=>({[u.PRIVATE]:{title:()=>r.ag._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),subtitle:()=>r.ag._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),primaryIcon:n.byT},[u.LINK_VIEW]:{title:()=>r.ag._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),primaryIcon:n.nNP},[u.LINK_COMMENT]:{title:()=>r.ag._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),primaryIcon:n.nNP},[u.LINK_EDIT]:{title:()=>r.ag._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),primaryIcon:n.nNP},[u.INDIVIDUAL]:{title:()=>r.ag._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),subtitle:e=>"".concat(e," can access this ").concat(o.Yc,"."),primaryIcon:n.ILF},[u.ORG_VIEW]:{title:e=>r.ag._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.Mdf},[u.ORG_COMMENT]:{title:e=>r.ag._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.Mzg},[u.ORG_EDIT]:{title:e=>r.ag._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.TzT},[u.ORG_MANAGE]:{title:e=>r.ag._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc,org:e}}),primaryIcon:n.P88},[u.CHANNEL_PRIVATE]:{title:()=>r.ag._({id:"Tw6Jzi"}),primaryIcon:a.Ty},[u.PUBLIC]:{title:()=>r.ag._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),primaryIcon:n.Xj}}),p=(e,i)=>{var t;if(!e)return null;let s=(null==e?void 0:e.publicAccess)?u.PUBLIC:(null==e?void 0:e.orgAccess)==="manage"?u.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?u.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?u.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?u.ORG_VIEW:(null==e?void 0:e.channels)&&e.channels.some(e=>null!==e.permission)?u.CHANNEL_PRIVATE:(null==e?void 0:e.collaborators)&&(null==e?void 0:null===(t=e.collaborators)||void 0===t?void 0:t.length)>1?u.INDIVIDUAL:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"view"===e.permission&&""===e.token)?u.LINK_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"comment"===e.permission&&""===e.token)?u.LINK_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"edit"===e.permission&&""===e.token)?u.LINK_EDIT:C(e,i)?u.PRIVATE:u.INDIVIDUAL;return s},m=e=>(null==e?void 0:e.publicAccess)?r.ag._({id:"gJUdlS",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}):(null==e?void 0:e.orgAccess)?r.ag._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}):r.ag._({id:"QbKKqw",values:{GAMMA_ARTIFACT_PROPER_NOUN:o.Yc}}),g=(e,i,t)=>{var r,o;if(!i)return[];let x=(null==e?void 0:null===(r=e.channels)||void 0===r?void 0:r.map(e=>{let{id:i,name:t,slug:s}=e;return{id:i,label:t,href:(0,d.j)({id:i,slug:s}),icon:a.Ty}}))||[],m=p(e,i),g=c(e,t),j=g?[{id:"shared-from-external-org",label:(null==e?void 0:null===(o=e.organization)||void 0===o?void 0:o.name)?(0,s.jsx)(l.cC,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,s.jsx)(l.cC,{id:"qn35Ez"}),icon:n.Gg,color:"gray.500"}]:[];if(m===u.PUBLIC)return[{id:"public",label:(0,s.jsx)(l.cC,{id:"7d1a0d"}),icon:n.Xj,color:"gray.500"},...j,...x];if(m===u.PRIVATE)return[{id:"private",label:(0,s.jsx)(l.cC,{id:"zwBp5t"}),icon:n.byT,color:"gray.500"},...j];if(m===u.INDIVIDUAL){let t=(e.collaborators||[]).filter(e=>e.user.id!==i.id).length;return[{id:"collaborators",label:(0,s.jsx)(l.cC,{id:"o2NxSP",values:{numCollaborators:t}}),icon:n.ILF,color:"gray.500"},...j]}return g?j:m&&h.includes(m)?[{id:"workspace",label:(0,s.jsx)(l.cC,{id:"0Gd0NU"}),icon:n.P88,color:"gray.500"},...j,...x]:x},j=e=>{let{doc:i,user:t,currentWorkspace:s,channelToExclude:n}=e;return g(i,t,s).filter(e=>e.id!==n)},C=(e,i)=>{var t;return e&&i&&!e.orgAccess&&!e.publicAccess&&(null===(t=e.createdBy)||void 0===t?void 0:t.id)===i.id}},46759:function(e,i,t){"use strict";t.d(i,{M:function(){return k}});var s=t(52322),n=t(70065),l=t(92850),r=t(26468),o=t(22226),a=t(54326),d=t(2338),c=t(97217),u=t(43297),h=t(35183),x=t(97166),p=t(85573),m=t(50250),g=t(75768),j=t(62614),C=t(94523),b=t(5879),f=t(87254),v=t(5632),y=t(2784),_=t(93202),S=t(83669),A=t(15041),E=t(36651),I=t(78462);let k=e=>{var i;let{isOpen:t,onClose:k,existingDoc:D}=e,w=(0,n.p)(),T=(0,y.useRef)(null),[P,O]=(0,y.useState)(!1),{currentWorkspace:N}=(0,E.SE)(),[L,R]=(0,y.useState)(""),[M]=(0,_.V$$)(),[F]=(0,_.So6)(),z=(0,S.b)(),{push:U}=(0,v.useRouter)(),B=(0,y.useCallback)(async()=>{if(null==D?void 0:D.id){await (0,A.iL)(D.id),O(!0);try{var e,i;let{data:t}=await F({variables:{duplicateDocInput:{sourceDocId:D.id,source:_.L17.SitesCopyToSite,title:(null==D?void 0:D.title)||f.ag._({id:"wja8aL"}),orgId:null==N?void 0:N.id,orgAccess:_.y3$.Manage,themeId:null}}}),s=null==t?void 0:null===(e=t.duplicateDoc)||void 0===e?void 0:e.id;if(!s){console.error("[CreateSiteModal] Failed to duplicate doc with id",D.id);return}let{data:n}=await M({variables:{input:{workspaceId:null==N?void 0:N.id,name:L,routes:[{docId:s,path:"/"}],themeId:null==D?void 0:null===(i=D.theme)||void 0===i?void 0:i.id}}}),l=null==n?void 0:n.createSite;if(!l){console.error("[CreateSiteModal] Failed to create site, no site returned");return}let r=(0,I.yQ)({docId:s});U(r),k()}catch(e){w({status:"error",title:(0,s.jsx)(b.cC,{id:"Pdboh4"}),description:(0,s.jsx)(b.cC,{id:"c6YG3V"})}),console.error(e)}O(!1)}},[M,null==N?void 0:N.id,F,null==D?void 0:D.id,null==D?void 0:null===(i=D.theme)||void 0===i?void 0:i.id,null==D?void 0:D.title,L,U,w]),G=(0,y.useCallback)(async()=>{O(!0);let{data:e}=await M({variables:{input:{workspaceId:null==N?void 0:N.id,name:L,routes:[]}}}),i=null==e?void 0:e.createSite;if(!i){console.error("[CreateSiteModal] Failed to create site, no site returned");return}z({siteId:null==i?void 0:i.id,routes:null==i?void 0:i.routes,title:"Home",path:"/"})},[z,M,null==N?void 0:N.id,L]),H=(0,y.useCallback)(async()=>(null==D?void 0:D.id)?B():G(),[null==D?void 0:D.id,B,G]),K=L.length>0;return(0,s.jsx)(C.Wk,{isDark:!1,children:(0,s.jsxs)(l.u_,{isOpen:t,onClose:k,initialFocusRef:T,size:"2xl",children:[(0,s.jsx)(r.Z,{}),(0,s.jsxs)(o.h,{children:[(0,s.jsx)(a.x,{children:(0,s.jsx)(b.cC,{id:"JHMOcq"})}),(0,s.jsx)(d.o,{}),(0,s.jsx)(c.f,{children:(0,s.jsx)(u.K,{spacing:4,children:(0,s.jsxs)(h.NI,{children:[(0,s.jsx)(x.l,{children:(0,s.jsx)(b.cC,{id:"Lve3H6"})}),(0,s.jsx)(p.I,{ref:T,placeholder:f.ag._({id:"tlD7N3"}),onChange:e=>{R(e.target.value)},onKeyDown:e=>{K&&"Enter"===e.key&&H()}})]})})}),(0,s.jsx)(m.m,{children:(0,s.jsxs)(g.h,{children:[(0,s.jsx)(j.z,{variant:"ghost",onClick:k,children:(0,s.jsx)(b.cC,{id:"dEgA5A"})}),(0,s.jsx)(j.z,{variant:"solid",onClick:H,isDisabled:!K,isLoading:P,children:(0,s.jsx)(b.cC,{id:"JHMOcq"})})]})})]})]})})}},83669:function(e,i,t){"use strict";t.d(i,{b:function(){return h}});var s=t(5632),n=t(2784),l=t(93202),r=t(84405),o=t(87978),a=t(41425),d=t(23147),c=t(21733),u=t(78462);let h=()=>{let{user:e,currentWorkspace:i}=(0,c.SE)(),[t]=(0,l.CsQ)(),[h]=(0,l.qbt)(),{push:x}=(0,s.useRouter)(),p=(0,n.useCallback)(async s=>{let{title:n,path:c,siteId:p,routes:m}=s;if(!c.startsWith("/")){console.error("[AddNewPageToSite] Path must start with /. Aborting.",c);return}if(!(null==i?void 0:i.id)||!p||!m)return;let g=(0,o.R$)({settings:{defaultFullBleed:"full"},docFlags:{cardLayoutsEnabled:!0}}),j=(0,d.qI)(g),{data:C}=await t({variables:{workspaceId:null==i?void 0:i.id,title:n,source:l.L17.SitesAddPage,initialContent:{ydoc:j,schemaVersion:a.bI,editors:[null==e?void 0:e.id]},orgAccess:l.y3$.Manage,mainPage:"/"===c}}),b=null==C?void 0:C.createDoc.id;if((0,r.Q)({doc_id:b,source:l.L17.SitesAddPage,channel:null}),!p||!b){console.error("[AddPageModal] Site or doc id is undefined. Cannot add route.");return}await h({variables:{input:{siteId:p,docId:b,path:c,offline:!1}},refetchQueries:["GetSite"]});let f=(0,u.yQ)({docId:b});return console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",b),await x(f),b},[null==i?void 0:i.id,e,t,h,x]);return p}},56745:function(e,i,t){"use strict";t.d(i,{z:function(){return iw}});var s=t(52322),n=t(70065),l=t(32981),r=t(26468),o=t(73751),a=t(54326),d=t(38035),c=t(77533),u=t(28535),h=t(75768),x=t(62614),p=t(97217),m=t(2338),g=t(42822),j=t(81540),C=t(94523),b=t(5879),f=t(87254),v=t(18149),y=t.n(v),_=t(2784),S=t(43997),A=t(93202),E=t(11050),I=t(47968),k=t(36651),D=t(93441),w=t(47749),T=t(36371),P=t(73582),O=t(2969),N=t(29117),L=t(3181),R=t(13272),M=t(84010),F=t(42946),z=t(54933),U=t(49929),B=t(66625),G=t(94199),H=t(91994),K=t(87978),V=t(46409),W=t(49354),Y=t(96933),q=t(20678),X=t(29318),Z=t(887),Q=t(66479),J=t(20437),$=t(30233),ee=t(26838);let ei=(0,_.memo)(e=>{let{theme:i,onThemeClick:t,onSelectClick:n}=e,{data:l,loading:r}=(0,A.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),o=(null==l?void 0:l.themes)||[];return(0,s.jsxs)(s.Fragment,{children:[r?(0,s.jsx)($.S,{size:4}):(0,s.jsx)(u.xu,{flex:1,p:6,children:(0,s.jsx)(J.M,{columns:{base:1,lg:2},spacing:1,children:[...o].sort(Q.qb).map(e=>(0,s.jsx)(ee.o,{type:"standard",theme:e,isChecked:e.id===i.id,onThemeClicked:t,variant:"ghost"},e.id))})}),(0,s.jsx)(d.k,{pos:"sticky",bottom:0,px:6,py:4,alignItems:"center",bg:"white",children:(0,s.jsx)(x.z,{"data-testid":"select-this-theme",flex:1,variant:"solid",leftIcon:(0,s.jsx)(U.G,{icon:F.JyM}),onClick:n,children:(0,s.jsx)(b.cC,{id:"UJfhAS"})})})]})});var et=t(5200),es=t(41004),en=t(25925),el=t(50521);let er=(0,es.E)(u.xu),eo={enter:e=>({position:"absolute",width:"100%",x:"push"===e?"100%":"-100%",opacity:0}),center:{width:"100%",position:"static",x:0,opacity:1},exit:e=>({width:"100%",position:"absolute",x:"push"===e?"-100%":"100%",opacity:0})},ea=e=>{let{containerProps:i,motionProps:t,InitialComponent:n}=e,[l,r]=(0,_.useState)(n?[n]:[]),o=(0,_.useRef)("push"),a=(0,_.useCallback)(()=>{o.current="pop",r([...l.slice(0,-1)])},[l]),d=(0,_.useCallback)(e=>{o.current="push",r([...l,e])},[l]),c=l[l.length-1];return((0,_.useEffect)(()=>{0===l.length&&n&&d(n)},[n,d,l]),c)?(0,s.jsx)(el.m.Provider,{value:{push:d,pop:a},children:(0,s.jsx)(u.xu,{...i||{},position:"relative",children:(0,s.jsx)(en.M,{initial:!1,custom:o.current,children:(0,s.jsx)(er,{variants:eo,custom:o.current,initial:"enter",animate:"center",exit:"exit",transition:{default:{duration:.2}},...t||{},children:(0,s.jsx)(c,{})},l.length)})})}):null};var ed=t(25585),ec=t(97010),eu=t(82655),eh=t(42111),ex=t(43297),ep=t(35183),em=t(97166),eg=t(82713),ej=t(24213),eC=t(71272);let eb=e=>e.replace(/^\d+\.\s*/,"").replaceAll(/\s/g,"-").toLowerCase(),ef={width:"100%",variant:"unstyled",borderRadius:"revert",height:"revert",justifyContent:"flex-start"},ev=(0,_.memo)(e=>{let{icon:i,label:t,onClick:n,...l}=e;return(0,s.jsxs)(d.k,{"data-testid":"theme-config-menu-button-".concat(eb(t)),as:x.z,...ef,onClick:n,p:4,borderBottomWidth:"1px",_hover:{bg:"trueblue.50"},...l,children:[(0,s.jsx)(u.xu,{color:"trueblue.500",children:(0,s.jsx)(U.G,{icon:i,fixedWidth:!0})}),(0,s.jsx)(u.xu,{fontWeight:"600",ml:2,mr:"auto",children:t}),(0,s.jsx)(u.xu,{color:"gray.600",children:(0,s.jsx)(U.G,{icon:F._tD})})]})});ev.displayName="ThemeConfigNavigationMenuButton";let ey=e=>{let{label:i,onBackClick:t,children:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.k,{"data-testid":"theme-config-back-button",as:x.z,...ef,p:4,borderBottomWidth:"1px",bg:"gray.50",_hover:{bg:"gray.200"},onClick:t,children:[(0,s.jsx)(u.xu,{color:"gray.600",mr:2,children:(0,s.jsx)(U.G,{icon:F.A35})}),(0,s.jsx)(u.xu,{fontWeight:"600",children:i})]}),(0,s.jsx)(u.xu,{children:n})]})};var e_=t(47443),eS=t(52929),eA=t(37164),eE=t(99787),eI=t(16494),ek=t(29596),eD=t(40520),ew=t(64743);let eT=e=>(0,ew.bH)(e)&&(0,ew.Rr)(e),eP=e=>{let{setBackground:i,background:t,defaultMessage:n,isDark:l,isValidSource:r}=e,[o,a]=(0,_.useState)(eE.hq.key),d=ek.ah[o],c=(0,_.useCallback)(e=>r?r(e)&&eT(e):eT(e),[r]),u=(0,_.useCallback)(e=>{i({...t,...e})},[t,i]);return(0,s.jsx)(eD.O,{isDark:l,isValidSource:c,defaultMessage:n,currentBackground:t,currentSource:d,updateCurrentBackground:u,setCurrentSourceKey:a,currentSourceKey:o,editType:"themeBackground"})};var eO=t(13793);t(38095);var eN=t(17993),eL=t(75009),eR=t(32899),eM=t(91710),eF=t(97253),ez=t(87205);t(65331),t(41779);let eU=e=>{let{uploadedImages:i,setUploadedImages:t,setIsLoading:l}=e,r=(0,H.CG)(I.KV),{currentWorkspace:o}=(0,k.SE)(),{orgId:a,templateId:d}=(0,X.Ds)(r||(null==o?void 0:o.id),"themeBackground"),u=(0,n.p)(),[h,x]=(0,_.useState)(0),[p,m]=(0,_.useState)(!1),g=(0,_.useCallback)(e=>{let{file:i,tempUrl:s}=e;l(!0);let n=s;if(i.type&&(0,ez.Ns)(i.type)){let e="HEIC_tempId_".concat((0,eA.x0)());n=e}t(e=>[...e,{tempUrl:n,name:i.name,src:null,showPlaceholder:!0,uploadStatus:eI.D.Uploading}])},[l,t]),j=(0,_.useCallback)(e=>{t(i=>{let t=i.map(i=>i.name===e.name?{...i,...(0,eF.gM)({result:e,isError:!1})}:i);return t}),x(e=>e+1)},[t]);(0,_.useEffect)(()=>{l(!i.every(e=>"optimized"===e.uploadResultStep))},[l,i]);let v=(0,_.useCallback)(()=>{u({title:"Error uploading images, please try again",status:"error",duration:3e3,isClosable:!0}),x(e=>e+1)},[u]),y=(0,_.useMemo)(()=>{if(!a)throw Error("Tried uploading an image with no orgId");return eE.ND.createUppyInstance(a,{onUploadStart:g,onUploadComplete:j,onUploadFailed:v},"themeBackground",50,"image",d)},[h,a,g,j,v,d]),S=()=>(0,s.jsx)(s.Fragment,{children:a&&(0,s.jsx)(eM.v0,{width:"100%",height:"100%",note:f.ag._({id:"x4Ts51"}),uppy:y,locale:{strings:{browse:f.ag._({id:"wZ9s+A"})}}})});return i.length>0?(0,s.jsxs)(eN.g,{align:"flex-start",spacing:4,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),m(!0)},children:[p&&(0,s.jsx)(S,{}),(0,s.jsx)(J.M,{gap:2,columns:{base:2,"2xl":3},children:i.map(e=>{let{src:i,meta:n,name:l,tempUrl:r}=e||{},o=i?(0,ez.aN)(i,{width:500}):void 0;return(0,s.jsxs)(ex.K,{spacing:1,position:"relative",role:"group",children:[(0,s.jsx)(eL.E,{src:o||r||"",alt:"",ignoreFallback:!0,borderRadius:"md"}),(0,s.jsx)(C.kH,{label:(0,s.jsx)(b.cC,{id:"ZTnXof"}),placement:"top",children:(0,s.jsx)(eR.h,{"aria-label":f.ag._({id:"Rz0Yis"}),icon:(0,s.jsx)(U.G,{icon:F.XAH}),onClick:()=>{t(i=>{let t=i.filter(i=>i.name!==e.name);return t})},isRound:!0,position:"absolute",top:1,right:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),n&&n.width&&n.height&&(0,s.jsxs)(c.x,{fontSize:"xs",children:[n.width,"\xd7",n.height,"px"]}),l&&(0,s.jsx)(c.x,{fontSize:"xs",lineHeight:4,children:l})]},e.tempUrl)})})]}):(0,s.jsx)(S,{})};var eB=t(53701);let eG=e=>e.backgroundType!==eO.E.NONE,eH={...W.Gx,accentId:void 0},eK=e=>{let{theme:i,updateTheme:t}=e,[n,l]=(0,_.useState)(!1),[r,o]=(0,_.useState)(null),[a,d]=(0,_.useState)(null),u=r&&!!r.accentId,p=i.config.accentBackgrounds,m=(0,eh.ye)("bulkUploadAccentImages"),g=(0,_.useCallback)(()=>{d(eH),o(eH)},[]),j=(0,_.useCallback)(()=>{o(null),d(null)},[]),C=(0,_.useCallback)(e=>{let i=e||r;if(!i)return;let s={...i,source:w.cx,originalSource:i.source,accentId:(0,eA.x0)()},n=p||[];if(u){let e=n.findIndex(e=>e.accentId===r.accentId);if(-1===e){console.warn("[AccentImagePicker] Could not find accent image to edit");return}t({accentBackgrounds:[...n.slice(0,e),s,...n.slice(e+1)]})}else t({accentBackgrounds:[...n,s]});j()},[p,r,u,j,t]),v=(0,_.useCallback)(e=>{let i=(p||[]).filter(i=>i.accentId!==e.accentId);t({accentBackgrounds:i})},[p,t]),S=(0,_.useCallback)(e=>{let i={...e,source:e.originalSource};d(i),o({...e,source:e.originalSource})},[]),A=(0,_.useCallback)(e=>{if(e.source===eE.hq.key||e.source===eE.$5.key){C(e);return}if(e.source===eE.in.key){var i,t,s,n;(null===(i=e.image)||void 0===i?void 0:i.uploadStatus)===eI.D.Uploading?l(!0):(null===(t=e.image)||void 0===t?void 0:t.uploadStatus)===eI.D.Done&&(null===(s=e.image)||void 0===s?void 0:s.uploadResultStep)==="optimized"?l(!1):(null===(n=e.image)||void 0===n?void 0:n.uploadStatus)===eI.D.Error&&l(!1)}o(e)},[C]),E=(0,_.useMemo)(()=>!y()(r,a),[r,a]),I=(0,Q.wj)(i),[k,D]=(0,_.useState)([]),[T,P]=(0,_.useState)(!1),O=(0,_.useCallback)(()=>{D([]),P(!1)},[]),N=(0,_.useCallback)(()=>{let e=k.map(e=>({type:eO.E.IMAGE,source:w.cx,originalSource:"image.custom",image:e,accentId:(0,eA.x0)()})),i=p||[];t({accentBackgrounds:[...e,...i]}),O()},[k,p,t,O]);return r?(0,s.jsxs)(ex.K,{p:6,children:[(0,s.jsx)(eP,{setBackground:A,background:r,isValidSource:eG,defaultMessage:(0,s.jsxs)(e_.b,{children:[(0,s.jsx)(eS.z,{}),(0,s.jsx)(b.cC,{id:"VPwqDS"})]}),isDark:I}),(0,s.jsxs)(h.h,{pt:6,display:"flex",children:[(0,s.jsx)(x.z,{variant:"ghost",onClick:j,children:(0,s.jsx)(b.cC,{id:"dEgA5A"})}),(0,s.jsx)(x.z,{variant:"solid",onClick:()=>C(),isLoading:n,isDisabled:!E,flex:1,children:u?(0,s.jsx)(b.cC,{id:"tfDRzk"}):(0,s.jsx)(b.cC,{id:"B6vyEa"})})]})]}):(0,s.jsxs)(ex.K,{spacing:6,children:[(0,s.jsxs)(ex.K,{spacing:3,p:6,children:[(0,s.jsx)(x.z,{leftIcon:(0,s.jsx)(U.G,{icon:F.r8p}),alignSelf:"flex-start",onClick:g,children:(0,s.jsx)(b.cC,{id:"5phU36"})}),(0,s.jsxs)(e_.b,{fontSize:"xs",children:[(0,s.jsx)(eS.z,{}),(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"M6esHH"})})]}),m&&(0,s.jsx)(eU,{uploadedImages:k,setUploadedImages:D,setIsLoading:P}),p&&0!=p.length&&(0,s.jsx)(eB.U,{accentImages:p,isDark:I,handleDelete:v,handleItemClick:S})]}),k.length>0&&(0,s.jsxs)(h.h,{display:"flex",w:"100%",position:"sticky",bottom:0,left:0,bg:"white",py:3,px:6,borderTop:"1px",borderColor:"gray.300",children:[(0,s.jsx)(x.z,{variant:"ghost",onClick:O,children:(0,s.jsx)(b.cC,{id:"dEgA5A"})}),(0,s.jsx)(x.z,{variant:"solid",onClick:N,isLoading:T,flex:1,children:(0,s.jsx)(b.cC,{id:"1rLekk",values:{0:k.length,1:f.ag._({id:"BZPFHo",values:{0:k.length}})}})})]})]})};var eV=t(85573),eW=t(29494),eY=t(63176),eq=t(99793),eX=t(12985);let eZ=async(e,i,s)=>{try{let s=(await Promise.all([t.e(5489),t.e(4751)]).then(t.bind(t,89089))).default,n=(await Promise.all([t.e(5489),t.e(9224)]).then(t.bind(t,30058))).default,l=s.parse(e),r=n.objectify(l);i(r)}catch(e){s(e.message)}},eQ=async(e,i,s)=>{try{let s=(await Promise.all([t.e(5489),t.e(4751)]).then(t.bind(t,89089))).default,n=(await Promise.all([t.e(5489),t.e(9224)]).then(t.bind(t,30058))).default;s().process(e,{parser:n}).then(e=>{let{css:t}=e;i(t)})}catch(e){s(e.message)}},eJ=e=>{let{label:i,initialValue:n,updateValue:l,helperText:r}=e,[o,a]=(0,_.useState)(""),[d,c]=(0,_.useState)(null),[h,x]=(0,_.useState)(),p=(0,D.Kt)(eZ,100);return((0,_.useEffect)(()=>{Promise.all([t.e(8917),t.e(7120),t.e(6214)]).then(t.bind(t,96214)).then(e=>{x(e.css())})},[]),(0,D.vm)(()=>{c(null),n&&eQ(n,a,c)},[n],[]),(0,D.vm)(()=>{c(null),p(o,l,c)},[o,l,p],[o]),h)?(0,s.jsxs)(ep.NI,{isInvalid:!!d,children:[(0,s.jsx)(em.l,{children:i}),d&&(0,s.jsx)(eq.J1,{children:d}),r&&(0,s.jsx)(ep.Q6,{children:r}),(0,s.jsx)(u.xu,{border:"1px solid",borderColor:"gray.200",fontSize:"md",children:(0,s.jsx)(_.Suspense,{fallback:(0,s.jsx)("span",{}),children:(0,s.jsx)(eX.B,{value:o,height:"300px",extensions:[h],onChange:a})})})]}):null};var e$=t(8624),e0=t(10625),e1=t(67046),e2=t(99058),e5=t(39237),e3=t(89098);let e4=e=>{let{theme:i,dispatch:t}=e,n=(0,e3.c)(i);return(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"x5htAS"})}),(0,s.jsxs)(e0.v,{matchWidth:!0,children:[(0,s.jsx)(e1.j,{size:"lg",as:x.z,borderRadius:"md",rightIcon:(0,s.jsx)(U.G,{icon:F.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",children:(0,s.jsx)(c.x,{textAlign:"left",fontWeight:"400",children:n.name()})}),(0,s.jsx)(e2.q,{maxH:"320px",maxW:"100%",overflow:"auto",children:e3.N.map(e=>(0,s.jsx)(e5.i,{isChecked:n.key===e.key,value:e.key,onClick:()=>t({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{themeBase:e.key}}}),children:(0,s.jsxs)(N.U,{maxW:"100%",children:[(0,s.jsx)(e6,{base:e}),(0,s.jsxs)(u.xu,{flex:"1",minW:"0",children:[e.name(),e.description&&(0,s.jsx)(c.x,{color:"gray.400",fontSize:"sm",children:e.description()})]})]})},e.key))})]})]})},e6=e=>{let{base:i}=e,t={"--card-color":"#FFF",...i.getCSSVars({cardColor:"#FFF",accentColor:"#F00",accentPalette:["#F00"]})};return(0,s.jsx)(u.xu,{backgroundColor:"gray.200",p:4,css:t,children:(0,s.jsx)(u.xu,{sx:i.cardSx,h:"3em",w:"5em"})})},e8=(0,_.memo)(()=>{var e;let{state:i,pop:t,dispatch:n,label:l}=(0,ed.n)(),{theme:r}=i,o=(null===(e=r.config.cardBackground)||void 0===e?void 0:e.type)===eO.E.COLOR?r.config.cardBackground.color:null;return(0,s.jsx)(ey,{onBackClick:t,label:l,children:(0,s.jsxs)(ex.K,{p:6,children:[(0,s.jsxs)(ep.NI,{"data-testid":"custom-theme-card-color-picker",children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"9d2iLQ"})}),(0,s.jsx)(ep.Q6,{mb:4,children:(0,s.jsx)(b.cC,{id:"7wiFpy"})}),(0,s.jsx)(e$.T,{value:(null==o?void 0:o.hex)||null,updateValue:e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{cardBackground:e?{type:eO.E.COLOR,color:{hex:e}}:void 0}}}),defaultValue:"#FFFFFF"})]}),(0,s.jsx)(e4,{theme:r,dispatch:n})]})})});e8.displayName="ThemeConfigCardStylesPanel";var e9=t(30423),e7=t(52099),ie=t(78462),ii=t(44035),it=t(27599);let is=e=>{let{label:i,description:t,labelColor:n="black",fontFamily:l,fontStyle:r="normal",fontWeight:o=400}=e,a=(0,s.jsxs)(N.U,{alignItems:"baseline",children:[(0,s.jsx)(u.xu,{color:"yellow.400",children:(0,s.jsx)(U.G,{icon:z.e7M})}),(0,s.jsx)(c.x,{textAlign:"left",color:n,fontWeight:o,fontSize:"lg",fontFamily:l,fontStyle:r,children:i})]});return t?(0,s.jsxs)(u.xu,{children:[a,(0,s.jsx)(c.x,{fontSize:"xs",color:"gray.500",children:t})]}):a},il=e=>{let{value:i,updateValue:t,onFontUploadClick:n,weight:l="regular",defaultFont:r,fonts:o,customFontsEnabled:a,...d}=e,{workspaceFonts:u,globalFonts:h}=o,[p,m,g]=(0,_.useMemo)(()=>{let e=[...u,...h],t=e.find(e=>e.id===i),s=(0,e7.Yw)(e,i),n=(0,e7.Yw)(e,i,!1);return[t,s,n]},[h,u,i]),j=a&&u.filter(e=>!e.archived||e.id===(null==p?void 0:p.id)).length>0,f=!1,v="normal",y="bold"===l?700:400;if(p&&null!==p.workspaceId){f=!0===p.archived;let e=[...p.fontFiles||[]];v=(0,e9.Sd)(e)?"italic":"normal";let i=(0,e9.B_)(e);y=(0,e9.QP)(i,"bold"===l?700:400)||400}return(0,s.jsxs)(e0.v,{matchWidth:!0,isLazy:!0,children:[(0,s.jsx)(e1.j,{size:"lg",as:x.z,borderRadius:"md",rightIcon:(0,s.jsx)(U.G,{icon:F.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",...d,children:a&&f?(0,s.jsx)(is,{label:g||"",fontFamily:'"'.concat(m,'"'),labelColor:i?"gray.800":"gray.400",fontStyle:v,fontWeight:y}):(0,s.jsx)(c.x,{textAlign:"left",fontFamily:'"'.concat(m||r,'"'),fontWeight:y,color:i?"gray.800":"gray.400",fontStyle:v,children:g||(0,s.jsx)(b.cC,{id:"Ff/YaY",values:{defaultFont:r,GAMMA_PROPER_NOUN:G.N6}})})}),(0,s.jsxs)(e2.q,{maxH:"320px",overflow:"auto",zIndex:"dropdown",children:[(0,s.jsxs)(ii._,{type:"radio",value:i||"",onChange:e=>t(e||void 0),children:[j&&(0,s.jsx)(C.NZ,{m:2,children:(0,s.jsx)(b.cC,{id:"syCKVA"})}),j&&u.map(e=>{var t;let n=e.id!==i,r=e.archived&&n,o=(null===(t=e.fontFiles)||void 0===t?void 0:t.length)===0&&n;if(!e.fontFiles||o||r)return null;let a=(0,e9.Sd)(e.fontFiles)?"italic":"normal";return f&&e.id===i?(0,s.jsx)(e5.i,{value:e.id,disabled:!0,children:(0,s.jsx)(is,{fontFamily:e.name,label:e.name,fontStyle:a,description:(0,s.jsx)(b.cC,{id:"FZBl16"})})},e.id):(0,s.jsx)(e5.i,{value:e.id,children:(0,s.jsx)(c.x,{fontFamily:'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:l,fontStyle:a,children:e.name})},e.id)}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(it.R,{}),(0,s.jsx)(C.NZ,{m:2,children:(0,s.jsx)(b.cC,{id:"Z/0bkt"})})]}),(0,s.jsx)(e5.i,{value:"",children:(0,s.jsx)(c.x,{fontFamily:r,fontSize:"lg",fontWeight:l,color:"gray.400",children:(0,s.jsx)(b.cC,{id:"fuNYg+"})})}),h&&h.map(e=>(0,s.jsx)(e5.i,{value:e.id,children:(0,s.jsx)(c.x,{fontFamily:(0,e7.eu)(e.id)?'"'.concat(e.id,'"'):'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:l,children:e.name})},e.id))]}),a&&(0,s.jsx)(x.z,{width:"calc(100% + var(--chakra-space-4))",variant:"plain",position:"sticky",bottom:-2,m:-2,mt:2,p:2,borderX:"none",borderBottom:"none",fontSize:"sm",borderRadius:"none",onClick:n,leftIcon:(0,s.jsx)(U.G,{icon:F.A$k}),children:(0,s.jsx)(b.cC,{id:"vNYIdl"})})]})]})};var ir=t(29705),io=t(11082),ia=t(62700);let id=e=>{var i,t,n;let{font:l,value:r,defaultWeight:o,updateValue:a,...d}=e,u=(0,_.useCallback)(e=>{let i=Number(e);Number.isNaN(i)||a(i)},[a]),h=(null==r?void 0:r.toString())||"",p=(0,ia.d)()[o],{weightOptions:m,isDeletedFontWeight:g}=(0,_.useMemo)(()=>{let e=(0,e7.W9)(l),i=void 0!==r&&!e.includes(r);if(!i||!r)return{isDeletedFontWeight:i,weightOptions:e};let t=[...e,r].sort((e,i)=>e-i);return{isDeletedFontWeight:i,weightOptions:t}},[l,r]),j=l&&(null==l?void 0:l.workspaceId)!==null,C=j&&(null===(i=l.fontFiles)||void 0===i?void 0:i.length)===0,f=g&&j,v=(0,ie.p6)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e0.v,{matchWidth:!0,isLazy:!0,children:[(0,s.jsx)(e1.j,{size:"lg",as:x.z,borderRadius:"md",rightIcon:(0,s.jsx)(U.G,{icon:F.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",isDisabled:m.length<=1,...d,children:g?(0,s.jsx)(is,{label:C?(0,s.jsx)(b.cC,{id:"EqUVJs"}):null!==(t=(0,ia.d)()[h])&&void 0!==t?t:p,labelColor:r?"gray.800":"gray.400"}):(0,s.jsx)(c.x,{textAlign:"left",color:r?"gray.800":"gray.400",fontWeight:400,children:null!==(n=(0,ia.d)()[h])&&void 0!==n?n:p})}),(0,s.jsx)(e2.q,{maxH:"320px",overflow:"auto",zIndex:"dropdown",children:(0,s.jsx)(ii._,{type:"radio",value:h,onChange:u,children:m.map(e=>{var i,t;return g&&r===e?(0,s.jsx)(e5.i,{value:e.toString(),disabled:!0,children:(0,s.jsx)(is,{label:null!==(i=(0,ia.d)()[e])&&void 0!==i?i:p,description:f?(0,s.jsx)(b.cC,{id:"KFmni+"}):(0,s.jsx)(b.cC,{id:"mGTUJj"})})},e):(0,s.jsx)(e5.i,{value:e.toString(),children:(0,s.jsx)(c.x,{fontSize:"lg",children:null!==(t=(0,ia.d)()[e])&&void 0!==t?t:p})},e)})})})]}),f&&(0,s.jsx)(c.x,{fontSize:"xs",mt:1.5,children:(0,s.jsxs)(io.r,{href:v,textDecoration:"underline",isExternal:!0,children:[(0,s.jsx)(b.cC,{id:"RUO69p"}),(0,s.jsx)(ir.h,{ml:1})]})})]})},ic=e=>{let{label:i,helperText:t,value:n,defaultValue:l,updateValue:r,...o}=e;return(0,s.jsxs)(ep.NI,{...o,children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(c.x,{children:i})}),(0,s.jsx)(e$.T,{value:n,updateValue:r,defaultValue:l}),t&&(0,s.jsx)(ep.Q6,{children:t})]})};var iu=t(84286),ih=t(66028);let ix=e=>{let{value:i,updateValue:t,onLogoUploadStart:n,onLogoUploadFail:l}=e,[r,o]=(0,_.useState)(null),[a,d]=(0,_.useState)(null),c=(0,H.CG)(I.KV),{currentWorkspace:h}=(0,k.SE)(),p=c||(null==h?void 0:h.id);return p?i||a?(0,s.jsxs)(eN.g,{align:"flex-start",spacing:4,children:[(0,s.jsxs)(u.xu,{position:"relative",w:"100%",background:"gray.50",children:["placeholder"==a?(0,s.jsx)(iu.k3,{w:"100%"}):(0,s.jsx)(eL.E,{w:"100%",src:i||a||void 0,alt:"",onMouseDown:ih.br}),r==eI.D.Uploading&&(0,s.jsx)(iu.HI,{}),r==eI.D.Error&&(0,s.jsx)(iu.s7,{})]}),(0,s.jsx)(x.z,{onClick:()=>{t(null),o(null)},mt:2,w:"100%",children:(0,s.jsx)(b.cC,{id:"VlT9ID"})})]}):(0,s.jsx)(eE.un,{orgId:p,uploadType:"image",editType:"icon",dropHereText:f.ag._({id:"cmRkd1",values:{0:"%{browse}"}}),customHeight:"250px",customFontSize:"sm",showTip:!1,onUploadStart:e=>{let{file:i,tempUrl:t}=e;o(eI.D.Uploading),n&&n(),i.type&&(0,ez.Ns)(i.type)?d("placeholder"):d(t)},onUploadSuccess:e=>{let{src:i}=e;o(eI.D.Done),t(i),d(null)},onUploadFailed:e=>{o(eI.D.Error),l&&l()}}):null},ip=[{label:()=>f.ag._({id:"uIeorD"}),icon:eu.AVo,Component:()=>{let{dispatch:e,state:i,pop:t,label:n}=(0,ed.n)(),l=(0,Q.E7)(i.theme),r=(0,Q.wj)(i.theme),o=(0,_.useCallback)(i=>{var t,s;(null==i?void 0:i.type)===eO.E.IMAGE&&(null===(t=i.image)||void 0===t?void 0:t.uploadStatus)===eI.D.Uploading?e({type:"THEME_BACKGROUND_IMAGE_UPLOAD_STARTED",data:{background:i}}):(null==i?void 0:i.type)===eO.E.IMAGE&&(null===(s=i.image)||void 0===s?void 0:s.uploadStatus)===eI.D.Error?e({type:"THEME_BACKGROUND_IMAGE_UPLOAD_FAIL"}):e({type:"THEME_BACKGROUND_UPDATE_SUCCESS",data:{background:i}})},[e]);return(0,s.jsx)(ey,{onBackClick:t,label:n,children:(0,s.jsx)(ex.K,{p:6,children:(0,s.jsx)(eP,{setBackground:o,background:l,defaultMessage:(0,s.jsxs)(e_.b,{fontSize:"xs",children:[(0,s.jsx)(eS.z,{}),(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"j+PsQe"})})]}),isDark:r})})})}},{label:()=>f.ag._({id:"Roi1AL"}),icon:eu.lCX,Component:e8},{label:()=>f.ag._({id:"TzJ8ZI"}),icon:eu.Zkk,Component:()=>{var e,i;let{label:t,state:n,dispatch:l,pop:r}=(0,ed.n)(),{theme:o}=n,a=(0,_.useCallback)(e=>l({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{accentColor:null!=e?e:void 0}}}),[l]);return(0,s.jsx)(ey,{onBackClick:r,label:t,children:(0,s.jsxs)(ex.K,{spacing:2,p:6,children:[(0,s.jsxs)(ep.NI,{"data-testid":"custom-theme-accent-color-picker",children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"Udsgl4"})}),(0,s.jsx)(ep.Q6,{mb:4,children:(0,s.jsx)(b.cC,{id:"7ldaTf"})}),(0,s.jsx)(ej.U,{color:o.accentColor,defaultColor:w.uP,updateColor:a,gradient:o.config.accentGradient,updateGradient:e=>l({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{accentGradient:e}}})})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"NEXUdn"})}),(0,s.jsx)(ep.Q6,{mb:2,children:(0,s.jsx)(b.cC,{id:"+50OB4"})}),(0,s.jsx)(eC.Y,{value:(null===(e=o.config)||void 0===e?void 0:e.secondaryAccentColors)||[],updateValue:e=>l({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{secondaryAccentColors:e}}}),maxColors:4})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{mt:4,children:(0,s.jsx)(b.cC,{id:"g/cMXH"})}),(0,s.jsx)(eg.X,{isChecked:!(null===(i=o.config)||void 0===i?void 0:i.disableReadabilityAdjustment),onChange:()=>{var e;return l({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{disableReadabilityAdjustment:!(null===(e=o.config)||void 0===e?void 0:e.disableReadabilityAdjustment)}}})},children:(0,s.jsx)(b.cC,{id:"fflXAI"})}),(0,s.jsx)(ep.Q6,{mb:2,children:(0,s.jsx)(b.cC,{id:"QjwqJE"})})]})]})})}},{label:()=>f.ag._({id:"COXEr5"}),icon:eu.l9f,Component:()=>{let{pop:e,state:i,dispatch:t,label:n}=(0,ed.n)(),{theme:l}=i;return(0,s.jsx)(ey,{onBackClick:e,label:n,children:(0,s.jsx)(eK,{theme:l,updateTheme:e=>t({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{...e}}})})})}},{label:()=>f.ag._({id:"I0oBSl"}),icon:eu.yGG,Component:()=>{var e;let i=(0,eh.ye)("customFonts"),{label:t,dispatch:n,state:l,pop:r}=(0,ed.n)(),{theme:o,fontState:a}=l,{fonts:d,fontsMap:u}=a,h=(0,_.useCallback)(e=>{let i=u[e],t=(0,e7.W9)(i),s=(0,e9.QP)(t,o.headingFontWeight||w.ZT.heading)||w.ZT.heading,l=(0,e7.s8)({fontsMap:u,headingFontId:e,bodyFontId:o.bodyFont});n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{headingFont:e,headingFontWeight:s,fonts:l}}})},[n,u,o.bodyFont,o.headingFontWeight]),x=(0,_.useCallback)(e=>{let i=u[e],t=(0,e7.W9)(i),s=(0,e9.QP)(t,o.bodyFontWeight||w.ZT.body)||w.ZT.body,l=(0,e7.s8)({fontsMap:u,bodyFontId:e,headingFontId:o.headingFont});n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{bodyFont:e,bodyFontWeight:s,fonts:l}}})},[n,u,o.headingFont,o.bodyFontWeight]),p=(0,_.useCallback)(e=>n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{headingFontWeight:e}}}),[n]),m=(0,_.useCallback)(e=>n({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{bodyFontWeight:e}}}),[n]),g=(0,_.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{headingColor:null!=e?e:void 0}}}),[n]),j=(0,_.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{headingGradient:null!=e?e:void 0}}}),[n]),C=(0,_.useCallback)(e=>n({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{bodyColor:null!=e?e:void 0}}}),[n]),v=(0,_.useCallback)(()=>{let e=(0,ie.p6)();window.open(e,"_blank")},[]),y=u[o.headingFont||w.ke.headingFont]||u[w.ke.headingFont],S=u[o.bodyFont||w.ke.bodyFont]||u[w.ke.bodyFont],A=o.headingFontWeight||w.ZT.heading,E=o.bodyFontWeight||w.ZT.body,I=(0,Q.wj)(o);return(0,s.jsx)(ey,{onBackClick:r,label:t,children:(0,s.jsxs)(ex.K,{p:6,children:[(0,s.jsxs)(ep.NI,{mb:"2",children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"7OvVwW"})})}),(0,s.jsx)(il,{fonts:d,value:o.headingFont,customFontsEnabled:i,updateValue:h,onFontUploadClick:v,weight:"bold",defaultFont:w.ke.headingFont,"data-testid":"custom-theme-heading-font-picker"}),i&&(0,s.jsx)(id,{font:y,value:A,defaultWeight:700,updateValue:p})]}),(0,s.jsxs)(ep.NI,{mb:"2","data-testid":"custom-theme-heading-color-picker",children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"v9mrgh"})})}),(0,s.jsx)(ej.U,{color:o.config.headingColor,updateColor:g,defaultColor:I?w.Qw:w.l0,gradient:o.config.headingGradient,updateGradient:j})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"B4QCf7"})})}),(0,s.jsx)(il,{fonts:d,value:o.bodyFont,customFontsEnabled:i,updateValue:x,onFontUploadClick:v,weight:"normal",defaultFont:w.ke.bodyFont,"data-testid":"custom-theme-body-font-picker"}),i&&(0,s.jsx)(id,{font:S,value:E,defaultWeight:400,updateValue:m})]}),(0,s.jsx)(ic,{label:f.ag._({id:"jx8uni"}),value:(null===(e=o.config)||void 0===e?void 0:e.bodyColor)||null,defaultValue:I?w.Z_:w.zL,updateValue:C}),(0,s.jsxs)(e_.b,{fontSize:"xs",mt:"6",children:[(0,s.jsx)(eS.z,{}),(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"3L+fCN"})})]})]})})}},{label:()=>f.ag._({id:"iG7KNr"}),icon:e=>e.logoUrl?eu.Hh4:eu.thV,Component:()=>{let{pop:e,state:i,dispatch:t,label:n}=(0,ed.n)(),{theme:l}=i;return(0,s.jsx)(ey,{onBackClick:e,label:n,children:(0,s.jsx)(ex.K,{p:6,children:(0,s.jsx)(ep.NI,{children:(0,s.jsx)(ix,{value:l.logoUrl||null,onLogoUploadStart:()=>{t({type:"THEME_LOGO_UPLOAD_STARTED"})},updateValue:e=>t({type:"THEME_LOGO_UPLOAD_SUCCESS",data:{logoUrl:null!=e?e:void 0}}),onLogoUploadFail:()=>{t({type:"THEME_LOGO_UPLOAD_FAIL"})}})})})})}},{label:()=>f.ag._({id:"sxkWRg"}),icon:eu.gr5,Component:()=>{var e,i,t,n,l,r,o;let{pop:a,state:d,dispatch:c,label:u}=(0,ed.n)(),{theme:h}=d;return(0,s.jsx)(ey,{onBackClick:a,label:u,children:(0,s.jsxs)(ex.K,{spacing:4,p:6,children:[(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"S0kLOH"})}),(0,s.jsx)(eV.I,{defaultValue:h.id,readOnly:!0})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"PPYsiY"})}),(0,s.jsx)(eW.g,{defaultValue:null===(i=h.config.keywords)||void 0===i?void 0:null===(e=i.color)||void 0===e?void 0:e.join(", "),onChange:e=>{c({type:"THEME_UPDATE_THEME_KEYWORDS",data:{keywords:{color:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}})}}),(0,s.jsx)(ep.Q6,{children:"Should be separated with commas"})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"valYIJ"})}),(0,s.jsx)(eW.g,{defaultValue:null===(n=h.config.keywords)||void 0===n?void 0:null===(t=n.tone)||void 0===t?void 0:t.join(", "),onChange:e=>{c({type:"THEME_UPDATE_THEME_KEYWORDS",data:{keywords:{tone:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}}})}}),(0,s.jsx)(ep.Q6,{children:"Should be separated with commas"})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"1hKEom"})}),(0,s.jsx)(eY.Y2,{defaultValue:h.priority,onChange:(e,i)=>{c({type:"THEME_UPDATE_THEME_PROPS",data:{themeProps:{priority:Number.isNaN(i)?void 0:i}}})},children:(0,s.jsx)(eY.zu,{})}),(0,s.jsx)(ep.Q6,{children:"Higher priority themes show up first in the themes list"})]}),(0,s.jsxs)(ep.NI,{children:[(0,s.jsx)(em.l,{children:(0,s.jsx)(b.cC,{id:"q3il6U"})}),(0,s.jsx)(eY.Y2,{defaultValue:null===(l=h.config)||void 0===l?void 0:l.fontSize,onChange:(e,i)=>{c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{fontSize:Number.isNaN(i)?void 0:i}}})},children:(0,s.jsx)(eY.zu,{})})]}),(0,s.jsx)(eJ,{label:(0,s.jsx)(b.cC,{id:"3loch2"}),initialValue:null===(r=h.config)||void 0===r?void 0:r.contentStyles,updateValue:e=>c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{contentStyles:e}}})}),(0,s.jsx)(eJ,{label:(0,s.jsx)(b.cC,{id:"r0cjYF"}),initialValue:null===(o=h.config)||void 0===o?void 0:o.containerStyles,updateValue:e=>c({type:"THEME_UPDATE_THEME_CONFIG",data:{themeConfig:{containerStyles:e}}}),helperText:f.ag._({id:"W5hi5t"})})]})})},isForGammaOnly:!0}],im=(e,i)=>!!e.featureFlag&&!eh.VH.get(e.featureFlag)||!!e.isForGammaOnly&&!i,ig={outline:"3px dashed var(--chakra-colors-sunglow-500)",outlineOffset:"0"},ij=()=>{let{push:e,state:i,setLabel:t}=(0,ed.n)(),{theme:n}=i,{isGammaOrgUser:l}=(0,k.SE)(),r=(0,_.useMemo)(()=>ip.filter(e=>!im(e,l)),[l]);return(0,s.jsx)(ec.GS,{listStyleType:"none",marginStart:0,children:r.map((i,r)=>{let{label:o,icon:a,Component:d}=i,c="".concat(r+1,". ").concat(o());return(0,s.jsx)(ec.HC,{children:(0,s.jsx)(ev,{icon:"function"==typeof a?a(n):a,label:c,onClick:()=>{t(c),e(d)},...i.isForGammaOnly&&l&&ig})},o())})})},iC=e=>{let{theme:i,dispatch:t,fonts:n,fontsMap:l}=e,[r,o]=(0,_.useState)("");return(0,s.jsx)(ed.O.Provider,{value:{state:{theme:i,fontState:{fonts:n,fontsMap:l}},dispatch:t,label:r,setLabel:o},children:(0,s.jsx)(ea,{InitialComponent:ij})})};var ib=t(58905),iv=t(75230),iy=t(64951),i_=t(29264);let iS=e=>{let{value:i,onSave:t,themeValidationError:n}=e;return(0,s.jsxs)(ep.NI,{isInvalid:!!n,children:[(0,s.jsx)(ib.C,{defaultValue:i,placeholder:(0,w.F)(),onSubmit:t,submitOnBlur:!0,isPreviewFocusable:!0,fontSize:"3xl",children:(0,s.jsxs)(N.U,{minHeight:14,children:[(0,s.jsx)(iv.w,{"data-testid":"custom-theme-name-preview",noOfLines:1}),(0,s.jsx)(eV.I,{as:iy.V,w:{sm:"50%",lg:"40%",xl:"30%","2xl":"20%"},"data-testid":"custom-theme-name-input"}),(0,s.jsx)(iA,{})]})}),n&&(0,s.jsx)(eq.J1,{fontWeight:"500",pb:2,children:n})]})},iA=()=>{let{isEditing:e,getSubmitButtonProps:i,getCancelButtonProps:t,getEditButtonProps:n}=(0,i_.Z)();return e?(0,s.jsxs)(h.h,{justifyContent:"center",size:"sm",spacing:0,children:[(0,s.jsx)(C.kH,{label:(0,s.jsx)(b.cC,{id:"dEgA5A"}),children:(0,s.jsx)(eR.h,{variant:"ghost","aria-label":f.ag._({id:"dEgA5A"}),icon:(0,s.jsx)(U.G,{icon:F.YIN}),...t()})}),(0,s.jsx)(C.kH,{label:(0,s.jsx)(b.cC,{id:"fNzdjk"}),children:(0,s.jsx)(eR.h,{variant:"ghost","aria-label":f.ag._({id:"fNzdjk"}),icon:(0,s.jsx)(U.G,{icon:F.LEp}),...i(),"data-testid":"save-theme-name-button"})})]}):(0,s.jsx)(d.k,{justifyContent:"center",children:(0,s.jsx)(C.kH,{label:(0,s.jsx)(b.cC,{id:"+MxT3Q"}),children:(0,s.jsx)(u.xu,{children:(0,s.jsx)(eR.h,{variant:"ghost","aria-label":f.ag._({id:"+MxT3Q"}),size:"sm",icon:(0,s.jsx)(U.G,{icon:F.Yai}),...n(),ref:null})})})})},iE="theme-editor-root",iI=e=>{var i;let{state:t,dispatch:n,docContent:l,doc:r,workspaceId:o}=e,{theme:a,customizationStep:u}=t,[h,x]=(0,_.useState)(),[p,m]=(0,_.useState)(null),j=(0,D.Kt)(x,300);(0,_.useEffect)(()=>{j(a)},[a,j]);let{globalFonts:C,workspaceFonts:f,fontsMap:v,allThemeFonts:y}=(0,X.TY)(o);(null==l?void 0:l.content)&&(null===(i=l.content[0].attrs)||void 0===i?void 0:i.background)&&(l.content[0].attrs.background=W.jg);let S=(0,H.CG)(B.mT),A=(0,Y.i)({base:"var(--chakra-sizes-xs)",lg:"var(--chakra-sizes-md)","2xl":"var(--chakra-sizes-xl)"})||"var(--chakra-sizes-md)",E=(0,_.useMemo)(()=>(0,Z.y)(),[]);(0,_.useEffect)(()=>{let e=null==h?void 0:h.config.accentBackgrounds;if(e){if(p&&0===e.length){p.commands.setContent(E);return}null==p||p.commands.updateThemeAccentImages(e,!0)}},[p,null==h?void 0:h.config.accentBackgrounds,E]);let I=(0,_.useCallback)(e=>{n({type:"SET_NEW_THEME_FOR_SELECTING",data:{theme:(0,Q.mg)(e)}})},[n]),k=(0,_.useCallback)(()=>{n({type:"SET_NEW_THEME_FOR_CUSTOMIZING",data:{theme:(0,Q.mg)(a,!0)}})},[n,a]);return(0,s.jsxs)(d.k,{direction:"row-reverse",h:"100%",children:[(0,s.jsx)(d.k,{direction:"column",overflowY:"auto",w:A,borderLeft:"1px solid",borderColor:"gray.200",children:(0,s.jsx)(d.k,{flex:"1",direction:"column",position:"relative",children:"selection"===u?(0,s.jsx)(ei,{theme:a,onThemeClick:I,onSelectClick:k}):(0,s.jsx)(iC,{theme:a,dispatch:n,fonts:{globalFonts:C,workspaceFonts:f},fontsMap:v})})}),(0,s.jsx)(d.k,{flex:1,bg:"gray.100",position:"relative",maxW:"calc(100vw - ".concat(A,")"),children:(0,s.jsxs)(d.k,{className:iE,overflowY:"scroll",width:"100%",height:"100%",direction:"column",position:"relative",css:{"--editor-width":"100%"},children:[(0,s.jsx)(V.Y,{}),(0,s.jsx)(et.J,{fonts:y}),(0,s.jsxs)(T.m,{variant:"soft-rounded",size:"sm","data-testid":"custom-theme-tabs",children:[l&&(0,s.jsx)(g.M,{position:"sticky",top:0,zIndex:2,background:"white",children:(0,s.jsxs)(P.t,{p:2,position:"absolute",top:"1rem",background:"white",borderRadius:"full",shadow:"md",children:[(0,s.jsx)(O.O,{"data-testid":"custom-theme-tester-deck-tab",children:(0,s.jsxs)(N.U,{children:[(0,s.jsx)(U.G,{icon:z.Mdf}),(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"vat9WD"})})]})}),(0,s.jsx)(O.O,{"data-testid":"custom-theme-current-deck-tab",children:(0,s.jsxs)(N.U,{children:[(0,s.jsx)(U.G,{icon:F.s2}),(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"VJUm9p"})})]})})]})}),(0,s.jsxs)(L.n,{"data-testid":"custom-theme-tab-panels",children:[(0,s.jsx)(R.x,{p:0,"data-testid":"custom-theme-preview-editor",children:(0,s.jsx)(K.fb,{onCreate:e=>{let{editor:i}=e;return m(i)},initialContent:E,theme:h,scrollingParentSelector:".".concat(iE),isInsideDrawer:!0})}),l&&(0,s.jsx)(R.x,{p:0,"data-testid":"custom-theme-preview-editor",children:(0,s.jsx)(K.fb,{reduxData:{cards:S},initialContent:l,theme:h,scrollingParentSelector:".".concat(iE),doc:r,isInsideDrawer:!0})})]})]})]})})]})},ik=e=>{var i;let{name:t,doc:n,theme:l,themeValidationError:r,dispatch:o}=e,[a,d]=(0,_.useState)(),{data:u,loading:h}=(0,A.gec)({variables:{id:null==l?void 0:l.id},skip:!l||"new"===l.id}),x=(0,q.$)(null==n?void 0:n.title);(0,_.useEffect)(()=>{!h&&u&&u.theme&&d(u.theme)},[h,u,d]);let p=(0,_.useCallback)(e=>{let i=e||(0,w.F)();o({type:"THEME_UPDATE_THEME_NAME",data:{name:i}})},[o]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(iS,{value:t||(0,w.F)(),onSave:p,themeValidationError:r}),h?(0,s.jsx)(M.N,{noOfLines:1,fontSize:"sm",maxW:"300px"}):(0,s.jsxs)(c.x,{color:"gray.700",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:[(null==a?void 0:a.createdBy)&&(0,s.jsx)(b.cC,{id:"qeNU2j",values:{0:a.createdBy.displayName}})," ",(null==a?void 0:a.docCount)&&(null==a?void 0:a.docCount)===1&&(null==a?void 0:a.id)===(null==n?void 0:null===(i=n.theme)||void 0===i?void 0:i.id)?(0,s.jsx)(b.cC,{id:"On+kRG",values:{docTitle:x,GAMMA_ARTIFACT_PROPER_NOUN:G.Yc},components:{0:(0,s.jsx)("strong",{})}}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(b.cC,{id:"eVRfvp",values:{GAMMA_ARTIFACT_PROPER_NOUN:G.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:G.aq,0:(null==a?void 0:a.docCount)||0},components:{0:(0,s.jsx)("strong",{}),1:(0,s.jsx)("strong",{})}})})]})]})},iD=["headingFont","bodyFont","accentColor","logoUrl"],iw=(0,_.memo)(e=>{var i;let{isOpen:t,onClose:g,state:j,dispatch:v,docContent:T,onThemeCreated:P,disableDrawerTransition:O=!1}=e,N=(0,E.z$)(),L=(0,n.p)(),R=(0,S.v9)(I.yx),M=(0,D.NE)(t,500),{user:F,currentWorkspace:z}=(0,k.SE)(),U=(0,_.useRef)(null),B=O?t:M,[G,{loading:H}]=(0,A.Wu6)(),[K,{loading:V}]=(0,A.suk)(),W="loading"===j.themeBackgroundImgStatus||"loading"===j.themeLogoImgStatus,Y=(0,_.useCallback)(()=>{v({type:"THEME_RESET"}),g()},[v,g]),q=(0,_.useCallback)(()=>{if(F&&z&&j.theme){if(!j.theme.name){v({type:"THEME_VALIDATION_ERROR",data:{errorMessage:"Theme name is required."}});return}if("new"===j.theme.id){let e={...j.theme,workspaceId:z.id},{id:i,archived:t,fonts:s,...n}=e;G({variables:{input:n},update:(i,t)=>{let{data:s}=t;(null==s?void 0:s.createTheme)&&i.writeQuery({query:A.$LR,variables:{workspaceId:e.workspaceId,archived:!1},data:{themes:[s.createTheme]}})},optimisticResponse:{createTheme:{__typename:"Theme",...e,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(i=>{let{data:t}=i;if(null==t?void 0:t.createTheme){var s;null==N||N.track(E.AA.THEME_CREATED,{theme_id:null==t?void 0:null===(s=t.createTheme)||void 0===s?void 0:s.id,type:"new"}),null==P||P(t.createTheme)}L({title:f.ag._({id:"NE6T/k",values:{0:e.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),Y()}).catch(i=>{i.graphQLErrors&&i.graphQLErrors.length>0&&"duplicate_theme_name"===i.graphQLErrors[0].code?v({type:"THEME_VALIDATION_ERROR",data:{errorMessage:i.message}}):(console.error("Couldn't create theme ".concat(e.name," error: ").concat(i)),L({title:f.ag._({id:"FcSGqc",values:{e:i}}),status:"error",duration:3e3,position:"top",isClosable:!1}))})}else{let{__typename:e,archived:i,createdTime:t,updatedTime:s,createdBy:n,fonts:l,...r}=j.theme;for(let e of iD)e in r&&void 0===r[e]&&(r[e]=null);K({variables:{input:r},update:(e,i)=>{let{data:t}=i;(null==t?void 0:t.updateTheme)&&e.writeQuery({query:A.$LR,variables:{workspaceId:j.theme.workspaceId,archived:!1},data:{themes:[t.updateTheme]}})},optimisticResponse:{updateTheme:{__typename:"Theme",...j.theme,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(()=>{null==N||N.track(E.AA.THEME_UPDATED,{theme_id:j.theme.id}),L({title:f.ag._({id:"WODDpW",values:{0:j.theme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),Y()}).catch(e=>{e.graphQLErrors&&"duplicate_theme_name"===e.graphQLErrors[0].code?v({type:"THEME_VALIDATION_ERROR",data:{errorMessage:e.message}}):(console.error("Couldn't update theme ".concat(j.theme.name," error: ").concat(e)),L({title:f.ag._({id:"hSYiXl",values:{e:e}}),status:"error",duration:3e3,position:"top",isClosable:!1}))})}}},[F,z,v,null==j?void 0:j.theme,G,L,Y,N,P,K]),X="new"===j.theme.id||!y()(j.theme,j.originalTheme);return(0,s.jsx)(C.Wk,{isDark:!1,children:(0,s.jsxs)(l.d,{placement:"bottom",onClose:Y,isOpen:t,isFullHeight:!0,initialFocusRef:U,children:[(0,s.jsx)(r.Z,{}),(0,s.jsxs)(o.s,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transform:O?"none !important":void 0,children:[(0,s.jsx)(a.x,{borderBottom:"1px solid #000",borderColor:"gray.200",children:"selection"===j.customizationStep?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.k,{"align-items":"center",letterSpacing:"normal",fontSize:"3xl",minH:14,py:1,children:(0,s.jsx)(c.x,{children:(0,s.jsx)(b.cC,{id:"ytpdnC"})})}),(0,s.jsx)(c.x,{color:"gray.700",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:(0,s.jsx)(b.cC,{id:"d9p6AC"})})]}):(0,s.jsxs)(d.k,{"justify-content":"space-between",alignItems:"flex-end",children:[(0,s.jsx)(u.xu,{flex:1,children:(0,s.jsx)(ik,{name:(null===(i=j.theme)||void 0===i?void 0:i.name)||(0,w.F)(),doc:R,theme:j.theme,dispatch:v,themeValidationError:j.themeValidationError})}),(0,s.jsxs)(h.h,{children:[(0,s.jsx)(x.z,{variant:"ghost",onClick:Y,children:(0,s.jsx)(b.cC,{id:"dEgA5A"})}),(0,s.jsx)(C.kH,{isDisabled:!W,label:(0,s.jsx)(b.cC,{id:"yz1qqg"}),children:(0,s.jsx)(u.xu,{display:"inline-flex",children:(0,s.jsx)(x.z,{variant:"solid",isLoading:H||V||W,isDisabled:!X,onClick:q,"data-testid":"custom-theme-save",children:(0,s.jsx)(b.cC,{id:"EsJdRp"})})})})]})]})}),(0,s.jsx)(p.f,{p:0,h:"100%",children:B?(0,s.jsx)(iI,{state:j,workspaceId:null==z?void 0:z.id,dispatch:v,docContent:T,doc:R}):(0,s.jsx)(iT,{})}),(0,s.jsx)(m.o,{ref:U})]})]})})});iw.displayName="ThemeEditorDrawer";let iT=()=>(0,s.jsx)(u.xu,{flexDirection:"column",flex:"1",w:"100%",h:"100%",bg:"gray.100",inset:0,children:(0,s.jsx)(g.M,{h:"100%",children:(0,s.jsx)(j.$,{})})})},30233:function(e,i,t){"use strict";t.d(i,{S:function(){return r}});var s=t(52322),n=t(69251),l=t(67109);let r=e=>{let{size:i}=e;return(0,s.jsx)(n.r,{gap:4,flex:1,my:2,templateColumns:{base:"repeat(2, minmax(0, 1fr))"},children:Array(i).fill(!0).map((e,i)=>(0,s.jsx)(l.O,{h:"9em",borderRadius:"base"},i))})}},26838:function(e,i,t){"use strict";t.d(i,{o:function(){return eo}});var s=t(52322),n=t(56581),l=t(29117),r=t(77533),o=t(70065),a=t(55478),d=t(28535),c=t(38035),u=t(36474),h=t(5879),x=t(87254),p=t(2784),m=t(90763),g=t(93202),j=t(48832),C=t(11050),b=t(50260),f=t(10625),v=t(67046),y=t(32899),_=t(332),S=t(99058),A=t(27599),E=t(25481),I=t(42946),k=t(54933),D=t(49929),w=t(94523),T=t(82282),P=t(31807),O=t(47749),N=t(29318);let L=(0,p.memo)(e=>{let{theme:i}=e,t=(0,N.eo)({theme:i}),n=i.name.replace(O.Qk,"");return(0,s.jsxs)(f.v,{isLazy:!0,children:[(0,s.jsx)(v.j,{as:y.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,s.jsx)(D.G,{icon:I.S6C}),onClick:e=>e.stopPropagation(),children:(0,s.jsx)(h.cC,{id:"7L01XJ"})}),(0,s.jsx)(_.h,{children:(0,s.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)(d.xu,{px:4,py:0,maxWidth:"300px",children:[(0,s.jsx)(r.x,{noOfLines:3,children:n}),i.createdTime&&(0,s.jsx)(r.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,T.Z)((0,P.Z)(i.createdTime),"PPP")}})}),i.createdBy&&(0,s.jsx)(w.kH,{label:i.createdBy.email,children:(0,s.jsx)(r.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.cC,{id:"t490IT",values:{0:i.createdBy.displayName}})})})]}),(0,s.jsx)(A.R,{}),(0,s.jsx)(E.s,{icon:(0,s.jsx)(D.G,{icon:k.XnX,fixedWidth:!0}),onClick:t,children:(0,s.jsx)(h.cC,{id:"yKu/3Y"})})]})})]})});var R=t(53596),M=t(36651),F=t(14274),z=t(8393),U=t(21733);let B=(0,p.memo)(e=>{let{onCustomizeThemeClick:i,onEditThemeClick:t}=e,{isGammaOrgUser:n}=(0,U.SE)(),l=n&&"production"!==F.v.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(f.v,{isLazy:!0,children:[(0,s.jsx)(v.j,{as:y.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,s.jsx)(D.G,{icon:I.S6C}),onClick:e=>e.stopPropagation(),children:(0,s.jsx)(h.cC,{id:"7L01XJ"})}),(0,s.jsx)(_.h,{children:(0,s.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(E.s,{icon:(0,s.jsx)(D.G,{icon:I.Mw$,fixedWidth:!0}),onClick:i,children:(0,s.jsx)(h.cC,{id:"XZd6AM"})}),l&&(0,s.jsx)(E.s,{color:"orange.500",icon:(0,s.jsx)(d.xu,{boxSize:"4",children:(0,s.jsx)(z.Y,{})}),onClick:t,children:"Edit theme"}),(0,s.jsx)(A.R,{}),(0,s.jsx)(d.xu,{px:4,py:0,maxW:56,children:(0,s.jsx)(r.x,{fontSize:"sm",color:"gray.600",children:(0,s.jsx)(h.cC,{id:"FV8ABd"})})})]})})]})});var G=t(29705),H=t(92850),K=t(26468),V=t(22226),W=t(54326),Y=t(97217),q=t(11082),X=t(67109),Z=t(50250),Q=t(75768),J=t(62614),$=t(2338),ee=t(5632),ei=t(94199),et=t(91994),es=t(47968);let en=e=>{let{theme:i,isOpen:t,onClose:n}=e,{asPath:l}=(0,ee.useRouter)(),[o,a]=(0,p.useState)(),[d,c]=(0,p.useState)(),u=(0,et.CG)(es.yx),x=(0,N.EW)({theme:i,showLinkToDashboard:!!u}),{data:m,loading:j}=(0,g.gec)({variables:{id:null==i?void 0:i.id},skip:!i||"new"===i.id});(0,p.useEffect)(()=>{var e,i;!j&&m&&((null===(e=m.theme)||void 0===e?void 0:e.docCount)&&a(m.theme.docCount),(null===(i=m.theme)||void 0===i?void 0:i.siteCount)&&c(m.theme.siteCount))},[j,m,a,c]);let C=(0,p.useMemo)(()=>{let e=0;return o&&o>0&&(e+=o),d&&d>0&&(e+=d),e},[o,d]);return(0,s.jsxs)(H.u_,{closeOnOverlayClick:!1,isOpen:t,onClose:n,size:"lg",children:[(0,s.jsx)(K.Z,{}),(0,s.jsxs)(V.h,{children:[(0,s.jsx)(W.x,{children:(0,s.jsx)(h.cC,{id:"oh7Knm",values:{0:i.name}})}),(0,s.jsx)(Y.f,{children:C>0?(0,s.jsxs)(r.x,{mb:2,children:[(0,s.jsx)(h.cC,{id:"uSopl9",values:{totalCount:C,GAMMA_ARTIFACT_PROPER_NOUN:ei.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ei.aq}})," ",(0,s.jsx)(h.cC,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ei.aq}})," ","/#themes"!==l&&(0,s.jsx)(h.cC,{id:"kLomb7",components:{0:(0,s.jsx)(q.r,{color:"trueblue.500",colorScheme:"trueblue",href:b.oH,textDecoration:"underline",isExternal:!0}),1:(0,s.jsx)(G.h,{mx:"2px"})}})]}):j?(0,s.jsx)(X.O,{h:"1em",mb:2}):(0,s.jsx)(r.x,{mb:2,children:(0,s.jsx)(h.cC,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ei.aq}})})}),(0,s.jsx)(Z.m,{children:(0,s.jsxs)(Q.h,{children:[(0,s.jsx)(J.z,{variant:"ghost",onClick:n,children:(0,s.jsx)(h.cC,{id:"dEgA5A"})}),(0,s.jsx)(J.z,{variant:"ghost",colorScheme:"red",onClick:()=>{x(),n()},children:(0,s.jsx)(h.cC,{id:"zck3yw"})})]})}),(0,s.jsx)($.o,{})]})]})},el=(0,p.memo)(e=>{let{theme:i,openThemeEditorWithThisTheme:t,onDuplicate:n,onArchiveThemeModalOpen:l,isArchiveThemeModalOpen:o,onArchiveThemeModalClose:a}=e,{canMakeStandard:c,convertToStandard:u}=(0,N.Xm)(i);return(0,s.jsxs)(f.v,{isLazy:!0,children:[(0,s.jsx)(v.j,{as:y.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,s.jsx)(D.G,{icon:I.S6C}),onClick:e=>e.stopPropagation(),children:(0,s.jsx)(h.cC,{id:"7L01XJ"})}),(0,s.jsx)(_.h,{children:(0,s.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)(d.xu,{px:4,py:0,maxWidth:"300px",children:[(0,s.jsx)(r.x,{noOfLines:3,children:i.name}),i.createdTime&&(0,s.jsx)(r.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,T.Z)((0,P.Z)(i.createdTime),"PPP")}})}),i.createdBy&&(0,s.jsx)(w.kH,{label:i.createdBy.email,children:(0,s.jsx)(r.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.cC,{id:"t490IT",values:{0:i.createdBy.displayName}})})})]}),(0,s.jsx)(A.R,{}),(0,s.jsx)(E.s,{icon:(0,s.jsx)(D.G,{icon:I.q2v,fixedWidth:!0}),onClick:t,children:(0,s.jsx)(h.cC,{id:"ePK91l"})}),(0,s.jsx)(E.s,{icon:(0,s.jsx)(D.G,{icon:I.WM4,fixedWidth:!0}),onClick:n,children:(0,s.jsx)(h.cC,{id:"euc6Ns"})}),(0,s.jsx)(A.R,{}),c&&(0,s.jsx)(E.s,{color:"orange.500",icon:(0,s.jsx)(d.xu,{boxSize:"4",children:(0,s.jsx)(z.Y,{})}),onClick:u,children:(0,s.jsx)(h.cC,{id:"thLYdn"})}),(0,s.jsx)(E.s,{color:"red.500",icon:(0,s.jsx)(D.G,{icon:I.N2j,fixedWidth:!0}),onClick:l,children:(0,s.jsx)(h.cC,{id:"B495Gs"})})]})}),o&&(0,s.jsx)(_.h,{children:(0,s.jsx)(en,{theme:i,isOpen:!0,onClose:a})})]})}),er=e=>{let{isChecked:i,name:t}=e;return(0,s.jsxs)(l.U,{spacing:1,alignItems:"flex-start",children:[i&&(0,s.jsx)(n.n,{w:3,h:"auto",mr:1,mt:1,color:"trueblue.700"}),(0,s.jsx)(r.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:i?"trueblue.700":void 0,children:t})]})},eo=(0,p.memo)(e=>{var i,t,n,r;let{theme:f,onThemeClicked:v,isChecked:y=!1,onEditClick:_,variant:S="outline"}=e,A=(0,C.z$)(),E=(0,o.p)(),I="ghost"===S,k=(0,p.useRef)(null),D=(0,p.useCallback)(e=>()=>{_&&(e?_((0,b.mg)(f,!0)):_(f))},[_,f]),{isOpen:w,onOpen:T,onClose:P}=(0,a.q)({id:"ArchiveThemeModalDisclosure"}),{user:O,currentWorkspace:N}=(0,M.SE)(),[F]=(0,g.gFs)(),z=f.name.replace(b.Qk,""),U=(0,p.useCallback)(()=>{if(!O||!N)return;let{id:e,...i}=f;F({variables:{id:e},update:(e,i)=>{let{data:t}=i;(null==t?void 0:t.duplicateTheme)&&e.writeQuery({query:g.$LR,variables:{workspaceId:f.workspaceId,archived:!1},data:{themes:[t.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...i,name:"".concat(z," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(i=>{let{data:t}=i;t&&(null==A||A.track(C.AA.THEME_DUPLICATED,{theme_id:t.duplicateTheme.id,source_theme_id:e,name:z}),null==A||A.track(C.AA.THEME_CREATED,{theme_id:t.duplicateTheme.id,name:t.duplicateTheme.name,type:"duplicate"}),E({title:x.ag._({id:"DvRoa4",values:{0:t.duplicateTheme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}))}).catch(e=>{console.error("Couldn't duplicate theme ".concat(f.name," error: ").concat(e)),E({title:x.ag._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[O,N,f,F,z,A,E]),G=f.workspaceId&&!!(null===(i=f.createdBy)||void 0===i?void 0:i.displayName),H=!!v,K=!_;return(0,s.jsxs)(d.xu,{ref:k,bgColor:y?"trueblue.100":I?void 0:"linen.50",textAlign:"left",tabIndex:H?0:void 0,borderRadius:"md",transitionProperty:I?"common":"none",transitionDuration:"normal",outline:"none",onClick:()=>null==v?void 0:v(f),onKeyPress:e=>{H&&"Enter"===e.key&&(null==v||v(f))},_hover:H?{shadow:I||y?void 0:"lg",bgColor:y?"trueblue.100":I?"trueblue.50":"gray.100"}:void 0,_focus:{boxShadow:y||!H?void 0:"outline"},shadow:I?void 0:"md",p:I?2:0,"data-theme-id":f.id,"data-testid":y?"current-theme-preview":void 0,cursor:H?"pointer":void 0,children:[(0,s.jsx)(R.n,{theme:f,minH:"9em",maxH:"9em"}),(0,s.jsxs)(c.k,{align:"baseline",mt:1,direction:"column",p:I?0:2,children:[G&&(0,s.jsx)(c.k,{my:2,children:(0,s.jsx)(er,{name:z,isChecked:y})}),(0,s.jsxs)(l.U,{alignItems:"flex-start",w:"100%",children:[G?(0,s.jsx)(m.l,{createdByYou:(null===(t=f.createdBy)||void 0===t?void 0:t.id)===(null==O?void 0:O.id),createdByName:null===(n=f.createdBy)||void 0===n?void 0:n.displayName,createdByProfileImageUrl:null===(r=f.createdBy)||void 0===r?void 0:r.profileImageUrl,timestampDescription:f.updatedTime&&(0,s.jsx)(h.cC,{id:"E1dtM3",values:{0:(0,j.Dw)(f.updatedTime)}})}):(0,s.jsx)(er,{name:z,isChecked:y}),(0,s.jsx)(u.L,{}),K?null:f.workspaceId&&!f.archived?(0,s.jsx)(el,{theme:f,openThemeEditorWithThisTheme:D(!1),onDuplicate:U,onArchiveThemeModalOpen:T,isArchiveThemeModalOpen:w,onArchiveThemeModalClose:P}):f.workspaceId&&!0===f.archived?(0,s.jsx)(L,{theme:f}):(0,s.jsx)(B,{onCustomizeThemeClick:D(!0),onEditThemeClick:D(!1)})]})]})]})});eo.displayName="ThemePreview"},53596:function(e,i,t){"use strict";t.d(i,{n:function(){return f}});var s=t(52322),n=t(28535),l=t(82554),r=t(38035),o=t(77533),a=t(73200),d=t(5879),c=t(2784),u=t(50260),h=t(5200),x=t(35873),p=t(22569),m=t(87205),g=t(15151),j=t(27333),C=t(5995),b=t(89098);let f=(0,c.memo)(e=>{var i;let{theme:t,variant:c="outline",...f}=e,{contentStyles:y}=t.config,_=(0,p.R5)(t),S=(0,u.wj)(t),A=(0,C.l)(t),E=(0,g.J)(t,!1),I=(0,b.c)(t),k=(0,p.wh)(_,S,m.Iv),D=null===(i=t.config.accentBackgrounds)||void 0===i?void 0:i[0],w=D?(0,p.wh)(D,S,m.Iv):{},T=D?{display:"grid",gridTemplateRows:"minmax(2.5em, auto) auto",gridTemplateAreas:'"accent" "body"',gridTemplateColumns:"1fr",overflow:"hidden"}:{},P=v(t);return(0,s.jsxs)(n.xu,{css:A,sx:E,w:"100%",pos:"relative",children:[P&&null===t.workspaceId&&(0,s.jsx)(l.C,{pos:"absolute",right:-1,top:-1,zIndex:1,colorScheme:"green",children:(0,s.jsx)(d.cC,{id:"isRobC"})}),(0,s.jsxs)(r.k,{borderTopRadius:"ghost"===c?"none":"md",boxShadow:"sm",_focus:{boxShadow:"outline"},p:"1em",transitionProperty:"common",transitionDuration:"normal",...k,backgroundAttachment:"initial",direction:"row",align:"center",...f,children:[(0,s.jsx)(h.P,{theme:t}),(0,s.jsxs)(n.xu,{sx:{...I.cardSx,...y},...T,borderRadius:"base",className:"".concat(x.pL," ").concat(S?"is-dark":""),color:S?"white":"gray.900",flex:1,pointerEvents:"none",children:[D&&(0,s.jsx)(n.xu,{gridArea:'"accent"',...w}),(0,s.jsxs)(n.xu,{gridArea:D?'"body"':void 0,py:D?2:4,px:4,children:[(0,s.jsx)(o.x,{className:"block-title",mt:"0 !important",mb:"".concat(D?"0":"var(--chakra-space-1)"," !important"),children:(0,s.jsx)(o.x,{as:"span",className:(0,a.cx)("title",j.A8),fontSize:"1.6em !important",paddingBottom:"0 !important",children:(0,s.jsx)(d.cC,{id:"MHrjPM"})})}),(0,s.jsx)(o.x,{fontSize:"0.9em !important",noOfLines:3,className:"block block-paragraph",my:"0 !important",children:(0,s.jsx)(d.cC,{id:"U41VTK",components:{0:(0,s.jsx)(o.x,{as:"a",className:"link"})}})})]})]})]})]})});f.displayName="ThemePreviewThumbnail";let v=e=>{if(!e.createdTime)return!1;let i=new Date(e.createdTime),t=new Date;return t.setDate(t.getDate()-30),i>t}},86963:function(e,i,t){"use strict";t.d(i,{g:function(){return d}});var s=t(9850),n=t.n(s),l=t(2784),r=t(47749);let o={theme:r.mU,themeValidationError:null,status:"new",themeBackgroundImgStatus:"idle",themeLogoImgStatus:"idle",customizationStep:null,originalTheme:null};function a(e,i){switch(i.type){case"NEW_BLANK_THEME":return{...n()(o),customizationStep:"customization"};case"THEME_RESET":return n()(o);case"SET_THEME_EDITING":{let{theme:t}=i.data,s=n()(t);return{...e,status:"editing",theme:t,originalTheme:s,customizationStep:"customization"}}case"SET_NEW_THEME_FOR_SELECTING":{let{theme:t}=i.data;return{...e,status:"new",theme:t,customizationStep:"selection"}}case"SET_NEW_THEME_FOR_CUSTOMIZING":{let{theme:t}=i.data,s=n()(t);return{...e,theme:t,originalTheme:s,customizationStep:"customization"}}case"THEME_UPDATE_THEME_PROPS":{let{theme:t}=e,{themeProps:s}=i.data;return{...e,theme:{...t,...s}}}case"THEME_UPDATE_THEME_CONFIG":{let{theme:t}=e,{themeConfig:s}=i.data;return{...e,theme:{...t,config:{...t.config,...s}}}}case"THEME_UPDATE_THEME_KEYWORDS":{let{theme:t}=e,{keywords:s}=i.data;return{...e,theme:{...t,config:{...t.config,keywords:{color:[],tone:[],...t.config.keywords,...s}}}}}case"THEME_BACKGROUND_IMAGE_UPLOAD_STARTED":{let{theme:t}=e,{background:s}=i.data;return{...e,themeBackgroundImgStatus:"loading",theme:{...t,config:{...t.config,background:s}}}}case"THEME_BACKGROUND_UPDATE_SUCCESS":{let{theme:t}=e,{background:s}=i.data;return{...e,themeBackgroundImgStatus:"idle",theme:{...t,config:{...t.config,background:s}}}}case"THEME_BACKGROUND_IMAGE_UPLOAD_FAIL":return{...e,themeBackgroundImgStatus:"idle"};case"THEME_LOGO_UPLOAD_STARTED":return{...e,themeLogoImgStatus:"loading"};case"THEME_LOGO_UPLOAD_SUCCESS":{let{theme:t}=e,{logoUrl:s}=i.data;return{...e,themeLogoImgStatus:"idle",theme:{...t,logoUrl:s}}}case"THEME_LOGO_UPLOAD_FAIL":return{...e,themeLogoImgStatus:"idle"};case"THEME_UPDATE_THEME_NAME":{let{theme:t}=e,{name:s}=i.data;return{...e,theme:{...t,name:s},themeValidationError:null}}case"THEME_VALIDATION_ERROR":{let{errorMessage:t}=i.data;return{...e,themeValidationError:t}}case"THEME_VALIDATION_ERROR_RESET":return{...e,themeValidationError:null}}}function d(){return l.useReducer(a,o)}},46409:function(e,i,t){"use strict";t.d(i,{Y:function(){return F}});var s=t(52322),n=t(84586),l=t(28165),r=t(2784),o=t(35873),a=t(71997),d=t(4878);let c={fontSize:"var(--chakra-fontSizes-sm) !important",fontFamily:'"Inter", sans-serif !important',fontWeight:"500 !important",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"left !important",margin:"0 !important",color:"var(--chakra-colors-gray-900) !important",background:"none !important",blockquote:{borderLeftWidth:"0px !important",borderLeftStyle:"solid !important",borderLeftColor:"transparent !important",padding:"0 !important",color:"var(--chakra-colors-gray-900) !important",fontStyle:"normal !important"},border:"0 none !important",padding:"0 !important",content:'""'},u={...c,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},h={"p,h1,h2,h3,h4,h5,h6, .title, .section-title":{...c,margin:0},a:u,"ul, ol":{marginLeft:"1.2em"},blockquote:{borderLeft:"3px solid var(--chakra-colors-gray-200)",paddingLeft:"0.5em"},color:"var(--chakra-colors-gray-900) !important",wordBreak:"break-word",lineHeight:"1.5 !important",letterSpacing:"normal !important",".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"}},x={fontFamily:'"Inter", sans-serif !important',fontWeight:"500","@media screen and (max-width: 30rem)":{".controls-wrapper":{}},"@media screen and (min-width: 30rem)":{".controls-wrapper":{paddingLeft:"var(--comment-padding)"},".controls-wrapper__gridLayout, .controls-wrapper__gallery":{paddingLeft:"calc(-1 * var(--grid-padding) + var(--comment-padding))"}},".comments-list":{".comments-sign-up":{a:{...c,...u,fontSize:"xs",color:"gray.500",fontWeight:"bold","&:hover":{color:"gray.500",textDecoration:"underline"}}},".comment":{".reactions-row ul":{marginLeft:"auto"},".comment-date":{fontSize:"var(--chakra-fontSizes-xs) !important",color:"var(--chakra-colors-gray-500) !important"},...h},".block-image":{"&.is-focused":{"img, .image, .placeholder":{boxShadow:"var(--chakra-shadows-outline)"}}},".block-target-html":{"p,h1,h2,h3,h4,h5,h6,blockquote,ol,ul,li, .title, .section-title":{...c,"::after":c},a:{...u},li:{margin:"0 !important",padding:"0 !important",listStyle:"none !important",p:{margin:0}},img:{maxWidth:"200px",maxHeight:"80px"}}},".comment-editor .ProseMirror":{...h,"\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2),\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3),\n      @media only screen and (max-device-width: 640px) and (-webkit-min-device-pixel-ratio: 4)\n    ":{fontSize:"16px  !important"},padding:"12px",borderRadius:"5px","&.focus-visible":{boxShadow:"0 0 0 2px rgb(49, 130, 206)"},"a.image-link":{pointerEvents:"none"}}};var p=t(73235),m=t(56974),g=t.n(m),j=t(24992),C=t(93814),b=t(65301);function f(){let e=(0,p._)(["\n  0% {\n    box-shadow: ",";\n  }\n  7%,\n  60% {\n    box-shadow: var(--link-box-shadow);\n  }\n  100% {\n    box-shadow: ",";\n  }\n"]);return f=function(){return e},e}function v(){let e=(0,p._)(["\n  0% \n  100% {\n    box-shadow: ",";\n  }\n"]);return v=function(){return e},e}let y="0 0 0 0 rgba(0, 0, 0, 0.0)",_=(0,l.F4)(f(),y,y),S=(0,l.F4)(v(),y);var A=t(12304);let E={"math-display":{fontSize:"1.125em",".katex":{whiteSpace:"normal"}},"math-inline":{"&.ProseMirror-selectednode":{marginY:"-0.25em"}},"math-display, math-inline":{"&.ProseMirror-selectednode":{boxShadow:"outline",borderRadius:"var(--box-border-radius)",backgroundColor:"gray.100",padding:".25em",marginX:"3px",".math-src":{color:"gray.700"}}}};var I=t(49354),k=t(58879),D=t(87254);let w=e=>({".block-smartLayout":{'[data-node-view-content-outer="smartLayout"]':{display:"contents"},'[data-node-view-content-inner="smartLayout"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},'[data-selection-ring="padded"]':{outlineOffset:"0.25em",".add-button":{m:"-0.25em"}},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":k.BI}},["&.is-focused, &:hover, &[".concat(b.r,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"},".add-button":{opacity:1}}}},".node-smartLayoutCell":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":(0,k.iI)(D.ag._({id:"HX5SVx"})),'[data-node-view-content-inner="smartLayoutCell"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="smartLayoutCell"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,I.iL)(e).tight},".block-paragraph":{...(0,I.YW)(e).tight}}});var T=t(97676),P=t(89),O=t(46741);function N(){let e=(0,p._)(["\n  0% {\n    align-items: flex-start;\n    grid-template-rows: 0.2fr;\n    overflow: hidden;\n  }\n  99% {\n    align-items: flex-start;\n    overflow: hidden;\n  }\n  100% {\n    align-items: initial;\n    grid-template-rows: 1fr;\n    overflow: visible;\n  }\n"]);return N=function(){return e},e}let L=(0,l.F4)(N()),R=e=>({height:"100%",outlineWidth:"0px",lineHeight:e?"1.6 !important":A.I0,"&.is-focused":{".is-empty":{"[data-placeholder]":{_after:k.BI},"[data-multiline-placeholder]":{position:"relative",_after:k.cY,"> [data-node-view-content-inner]":{position:"absolute",width:"100%",minH:"1em"}}}},"--block-margin":(0,I.l1)(e),"--box-border-color":"var(--chakra-colors-blackAlpha-200)","--grid-border":"1px","--grid-padding":"1.22em","&.is-dark":{"--box-border-color":"var(--chakra-colors-whiteAlpha-400)",".block-blockquote":{blockquote:{borderLeftColor:"var(--accent-color)"}},...T.KX.dark,...P.E_.dark},".block-card":{"&.expandable-node":{"&-selected .expandable-selected":{animation:"".concat(_," 3000ms ease-in-out forwards")},"&-reset .expandable-selected":{animation:"".concat(S)}}},".block":{my:"var(--block-margin)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",color:"var(--body-color)"},"&.is-nested":{display:"grid",animation:"".concat(L," ").concat(C.nY,"ms ease-out forwards")},"&.is-full-width":{".block.is-full-width":{width:"var(--full-width)",position:"relative",left:"50%",transform:"translateX(-50%)"}},"&.is-borderless":e?{}:{'> [data-node-view-content-inner="card"] > .node-cardAccentLayoutItem':{"> [data-node-view-wrapper]":{display:"flex"},'.card-layout-cell-bg:not([data-card-layout="behind"], [data-card-layout="top"])':{margin:"1em",borderRadius:"var(--box-border-radius)",height:"auto"},'.card-layout-cell-bg:is([data-card-layout="behind"], [data-card-layout="top"])':{width:"var(--editor-width)",position:"absolute",transform:"translateX(-50%)",left:"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)"}}},'[data-node-view-content-inner="cardLayoutItem"], [data-node-view-content-inner="card"]':{"> .first-block":{mt:"0em"},"> .last-block":{mb:"0em"}},"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline",'&[href=""]':{textDecorationStyle:"dashed"},"&:hover":{color:"var(--link-color-hover)"},"&:active":{color:"var(--link-color-hover)"}},".block-toggle":{"&.expandable-node":{"&-selected .toggle":{animation:"".concat(_," 3000ms ease-in-out forwards")},"&-reset .toggle":{animation:"".concat(S)}},'[data-open="false"]':{'[data-node-view-content-inner="toggle"]':{"> :not(:first-child)":{display:"none"}}}},...A.g6,...T.KX.default,...P.E_.default,...O.dE,...E,".block-codeBlock":{pre:{fontFamily:"mono",fontSize:I.um.codeBlock,"@media print":{fontSize:g()(I.um.codeBlock)},color:"var(--body-color)",background:"var(--accent-color-background-muted)",borderRadius:"var(--box-border-radius)",overflow:"hidden",code:{display:"block",padding:".75em 1em"}}},code:{backgroundColor:"var(--accent-color-background-muted)",color:"var(--body-color)",...T.FC},".block-blockquote":{blockquote:{pl:"1.5em"}},".block-embed, .block-video":{"&.expandable-node":{"&-selected":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(_," 3000ms ease-in-out forwards")}},"&-reset":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(S)}}}},".block-image":{"&.expandable-node":{"&-selected":{"[data-selection-ring]":{animation:"".concat(_," 3000ms ease-in-out forwards")}},"&-reset ":{"[data-selection-ring]":{animation:"".concat(S)}}}},".block-contributors":{".contributors-list":{fontSize:"1.25em",fontWeight:"bold"}},".mention":{bgColor:"var(--accent-color-100)"},".block-gallery":{mx:"calc(-1 * var(--grid-padding))",my:"calc(-0.25 * var(--grid-padding))",".gallery":{px:"var(--grid-padding)",py:"calc(0.75 * var(--grid-padding))",border:"1px solid",borderColor:"transparent",borderRadius:"var(--box-border-radius)",".add-image":{mb:"calc(0.75 * var(--grid-padding))"},["&.".concat(j.A)]:{border:"1px dashed var(--chakra-colors-trueblue-300) !important",backgroundColor:"var(--chakra-colors-trueblue-50) !important",".gallery-placeholder":{pointerEvents:"none"}}},"&.is-focused, &.is-empty":{".gallery":{backgroundColor:"blackAlpha.50"}},["&.is-focused, &:hover, &[".concat(b.r,"]")]:{".gallery":{borderColor:"var(--grid-outline-color)"},".add-image":{opacity:1}},"&.expandable-node":{"&-selected .gallery":{animation:"".concat(_," 3000ms ease-in-out forwards")},"&-reset .gallery":{animation:"".concat(S)}}},...w(e),".block-gridLayout":{mx:"calc(-1 * var(--grid-padding))",".layout-content":{display:"contents","> div":{display:"contents"}},".grid-cell":{position:"relative",height:"100%",paddingX:"var(--grid-padding)",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",".block-gallery":{my:"0"}},["&.is-focused, &:hover, &[".concat(b.r,"]")]:{".is-editable":{".grid-cell":{outlineStyle:"solid"}},".add-column":{opacity:1}}},".node-cardLayoutItem, .node-cardAccentLayoutItem":{position:"relative",display:"flex",flexDirection:"column",justifyContent:"stretch",minWidth:0,minHeight:0,"> [data-node-view-wrapper]":{position:"relative",height:"100%",width:"100%"}},".node-cardNotes":{display:"none"},".block-table":{table:{'[data-node-view-content-inner="table"]':{display:"contents",'[data-node-view-content-inner="tableRow"]':{display:"contents"},td:{verticalAlign:"top",".block-heading [data-placeholder]::before":{display:"none"}}}},td:{minWidth:"3em",paddingX:"1em",position:"relative",".block":{maxWidth:e?"75vw":void 0},"&:not(:first-of-type)":{borderLeft:"1px solid transparent"}},".selectedCell:after":{zIndex:2,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,backgroundColor:"trueblue.100",pointerEvents:"none",opacity:.4},"&.is-focused, &:hover":{"td:not(:first-of-type)":{borderLeft:"1px solid var(--grid-outline-color)"}}},".tippy-arrow":{borderLeftColor:"red"},".footnote-label":{textDecoration:"underline",textDecorationColor:"var(--link-color)",_hover:{bgColor:"var(--accent-color-100)",color:"gray.800",borderRadius:"sm"}},".footnote":{color:"var(--link-color)",_hover:{_after:{bgColor:"var(--accent-color-100)",color:"gray.800"}}},".node-emoji":{color:"initial"},".block-paragraph":{...(0,A.v0)("default")},".block-heading":{...(0,I.iL)(e).default,".heading":{position:"relative"},'.heading[level="1"]':{...(0,A.v0)("h1")},'.heading[level="2"]':{...(0,A.v0)("h2")},'.heading[level="3"]':{...(0,A.v0)("h3")},'.heading[level="4"]':{...(0,A.v0)("h4")}},".block-title":{...(0,I.iL)(e).default,".title":{position:"relative",...(0,A.v0)("title")}},".node-gridLayout, .node-calloutBox":{".block-heading, .block-title":{...(0,I.iL)(e).compact},".block-paragraph":{...(0,I.YW)(e).compact}},".block-table td":{".block":{...(0,I.YW)(e).tight},".block-heading, .block-title":{...(0,I.iL)(e).tight}},'[data-node-view-content-inner="card"]:not(:has(> .node-cardAccentLayoutItem)) [data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-heading, &.block-title":{"&:not(:has(+ .block-heading, + .block-title, + .node-gridLayout))":{mb:(0,I.iL)(e).relaxed.mb}}},'[data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-paragraph":{...(0,I.YW)(e).compact,"+ .block-heading, + .block-title":{mt:(0,I.iL)(e).compact.mt}},'&.block-heading:has([level="2"], [level="3"], [level="4"])':{mb:(0,I.iL)(e).compact.mb,"+ .block-heading, + .block-title":{mt:(0,I.iL)(e).compact.mt}}}});var M=t(3561);let F=(0,r.memo)(()=>{let e=(0,d.TZ)();return(0,s.jsx)(l.xB,{styles:i=>{let t={[".".concat(o.pL)]:R(e),[".".concat(M.G)]:x,[".".concat(a.d)]:a.l};if(!t)return;let s=(0,n.iv)(t)(i);return s}})});F.displayName="GlobalCardStyles"},6085:function(e,i,t){"use strict";t.d(i,{m:function(){return d}});var s=t(72338),n=t(27191),l=t(37160),r=t(86581),o=t(18455),a=t(87008);let d=s.hj.create({name:"clipboardLight",addCommands:()=>({insertMarkdownAt:(e,i)=>t=>{let{state:s,tr:n}=t;try{let t=(0,r.aT)(i,s.schema);return n.replaceRange(e.from,e.to,t),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}}}),addProseMirrorPlugins(){let e=this.editor;return[new n.Sy({key:new n.H$("clipboardLight"),props:{clipboardSerializer:{serializeFragment:i=>(0,a.Xb)(i,e.schema)},handlePaste:(i,t,s)=>(0,r.iO)(e,t)||(0,l.g)(i,t,s),transformPastedHTML:e=>(0,o.B)(e,!0)}})]}})},58879:function(e,i,t){"use strict";t.d(i,{BI:function(){return s},cY:function(){return n},iI:function(){return l}});let s={content:"attr(data-placeholder)",position:"absolute",top:0,opacity:.25,pointerEvents:"none",left:0,width:"100%",color:"var(--heading-color)",lineClamp:1,textOverflow:"ellipsis",overflow:"hidden",boxOrient:"vertical",wordBreak:"break-all",height:"100%",whiteSpace:"nowrap"},n={...s,content:"attr(data-multiline-placeholder)",color:"inherit",position:"relative",lineClamp:0,whiteSpace:"normal",wordBreak:"normal"},l=e=>'"'.concat(e,'"')},12136:function(e,i,t){"use strict";t.d(i,{e:function(){return m}});var s=t(52322),n=t(70065),l=t(5879),r=t(5632),o=t(2784),a=t(93202),d=t(49165),c=t(11050),u=t(84405),h=t(36651),x=t(41425),p=t(23147);let m=()=>{let[e]=(0,a.So6)({refetchQueries:["GetDocs"]}),{push:i}=(0,r.useRouter)(),t=(0,n.p)(),{user:m,currentWorkspace:g}=(0,h.SE)(),j=(0,c.z$)(),C=(0,o.useCallback)(n=>{var r;let{docId:o,docTitle:a,initialContent:h,channelId:C,source:b,openThemeEditor:f,onSuccess:v,newWindow:y}=n,_=null==m?void 0:null===(r=m.settings)||void 0===r?void 0:r.needsEditorOnboarding;if(!o)return Promise.reject(Error("Cannot duplicate without a docId"));let S=t({id:"duplicate-toast-".concat(o),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,s.jsx)(l.cC,{id:"OvEjsP"})});return m&&(null==g?void 0:g.id)?e({variables:{duplicateDocInput:{orgId:null==g?void 0:g.id,sourceDocId:o,source:d.R[b],initialContent:h?{ydoc:(0,p.qI)(h),schemaVersion:x.bI,editors:[null==m?void 0:m.id]}:void 0,...C?{channels:[{channelId:C}]}:{}}}}).then(e=>{var n,r;if(!(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.duplicateDoc))throw Error("No data received");null==j||j.track(c.AA.EXAMPLE_DUPLICATED,{doc_id:o,title:a,source:b});let{id:d}=null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.duplicateDoc;(0,u.Q)({doc_id:d,source:b,source_doc_id:o}),console.debug("[Duplicate.".concat(b,"] Doc duplicated New doc id (").concat(d,"). Navigating to Editor")),t.update(S,{status:"success",description:(0,s.jsx)(l.cC,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});let h=f?"/docs/".concat(d).concat(f?"?openThemeEditor=true":""):_?"/docs/".concat(d,"?tour=true"):"/docs/".concat(d);y?window.open(h,"_blank"):i(h),v&&d&&v(d)},e=>{console.error("[Duplicate.".concat(b,"] Error duplicating doc:"),e.message),t.update(S,{title:(0,s.jsx)(l.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(e=>{console.error("[Duplicate.".concat(b,"] Error duplicating doc:"),e.message),t.update(S,{title:(0,s.jsx)(l.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(b,"] Cannot duplicate without a user or workspace"),{user:m}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==g?void 0:g.id,m,t,e,j,i]);return C}},17324:function(e,i,t){"use strict";t.d(i,{a:function(){return I}});var s=t(52322),n=t(28535),l=t(43297),r=t(35183),o=t(97166),a=t(7344),d=t(59905),c=t(73481),u=t(17993),h=t(85573),x=t(62614),p=t(94523),m=t(5879),g=t(87254),j=t(2784),C=t(93202),b=t(94199),f=t(36651);let v=[{id:"consulting",label:()=>g.ag._({id:"m5xed+"})},{id:"creator",label:()=>g.ag._({id:"UE2beD"})},{id:"customer_service",label:()=>g.ag._({id:"FfYIy2"})},{id:"data",label:()=>g.ag._({id:"HKH+W+"})},{id:"design",label:()=>g.ag._({id:"f8fH8W"})},{id:"education",label:()=>g.ag._({id:"aqxYLv"})},{id:"engineering",label:()=>g.ag._({id:"SUXBxp"})},{id:"finance",label:()=>g.ag._({id:"8V6XO3"})},{id:"human_resources",label:()=>g.ag._({id:"aDLrMs"})},{id:"leadership",label:()=>g.ag._({id:"HyFz7F"})},{id:"legal",label:()=>g.ag._({id:"vifyyw"})},{id:"marketing",label:()=>g.ag._({id:"vo2a+a"})},{id:"operations",label:()=>g.ag._({id:"B1MDds"})},{id:"product",label:()=>g.ag._({id:"K47k8R"})},{id:"recruiting",label:()=>g.ag._({id:"bn0SqF"})},{id:"sales",label:()=>g.ag._({id:"mUv9U4"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],y={"get-started":{saveButtonText:()=>g.ag._({id:"ZDIydz"}),formControlMaxW:["100%","80%","50%"],categoryQuestion:()=>g.ag._({id:"kJizcc"})},modal:{saveButtonText:()=>g.ag._({id:"hQRttt"}),formControlMaxW:["100%","60%"],categoryQuestion:()=>g.ag._({id:"06/kLN"})},setup:{saveButtonText:()=>g.ag._({id:"xGVfLh"}),formControlMaxW:["100%"],categoryQuestion:()=>g.ag._({id:"kJizcc"})}},_=[{id:"work",label:()=>g.ag._({id:"rgBHdd"})},{id:"education",label:()=>g.ag._({id:"RKJfzm"})},{id:"personal",label:()=>g.ag._({id:"jo0oU2"})}],S=[{id:"primary",label:()=>g.ag._({id:"LldObG"})},{id:"secondary",label:()=>g.ag._({id:"AtXGMV"})},{id:"university",label:()=>g.ag._({id:"DEb9mB"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],A=[{id:"student",label:()=>g.ag._({id:"a0qEkS"})},{id:"teacher",label:()=>g.ag._({id:"lypRAW"})},{id:"administrator",label:()=>g.ag._({id:"Faptqt"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],E=[{id:"friend",label:()=>g.ag._({id:"Gw0M4G"})},{id:"internet",label:()=>g.ag._({id:"mRh0Qq"})},{id:"search",label:()=>g.ag._({id:"z4/LHW"})},{id:"tiktok",label:()=>g.ag._({id:"zyUxcw"})},{id:"instagram",label:()=>g.ag._({id:"zzlbbf"})},{id:"youtube",label:()=>g.ag._({id:"9Q6UKX"})},{id:"linkedin",label:()=>g.ag._({id:"gggTBm"})},{id:"other",label:()=>g.ag._({id:"/IX/7x"})}],I=e=>{let{onSuccess:i,onError:t,context:I="get-started"}=e,{user:k,refetch:D}=(0,f.SE)(),[w,T]=(0,j.useState)(!1),[P,O]=(0,j.useState)(void 0),[N,L]=(0,j.useState)(void 0),[R,M]=(0,j.useState)(!1),[F,z]=(0,j.useState)(void 0),[U,{loading:B,error:G}]=(0,C.kDo)(),[H,K]=(0,j.useState)(void 0),[V,W]=(0,j.useState)("student"),Y="education"===F||"education"===P?H&&V:F,q=P&&!F,X=(0,j.useCallback)(()=>{let e="education"===F||"education"===P?"".concat(F,"_").concat(V,"_").concat(H):F;U({variables:{input:{id:null==k?void 0:k.id,referrer:N,jobFunction:e}}}).then(()=>(T(!0),null==D?void 0:D())).then(()=>{i&&i()}).catch(e=>{console.error('[GetStarted.UserInfo] Error updating user info "'.concat(null==k?void 0:k.id,'"'),e.message),T(!1),t&&t()})},[F,H,V,t,i,N,D,U,null==k?void 0:k.id,P]),{formControlMaxW:Z,saveButtonText:Q,categoryQuestion:J}=y[I];return(0,s.jsx)(n.xu,{w:"100%",children:(0,s.jsxs)(l.K,{pt:6,alignItems:"center",spacing:6,alignSelf:"center",mb:10,children:[(0,s.jsxs)(r.NI,{maxW:Z,as:"fieldset",isRequired:!0,children:[(0,s.jsx)(o.l,{children:J()}),(0,s.jsx)(a.E,{onChange:e=>{O(e),"education"===e?z("education"):z(void 0)},value:P,children:(0,s.jsx)(l.K,{direction:"column",spacing:2,children:_.map(e=>{let{id:i,label:t}=e;return(0,s.jsx)(d.Y,{value:i,children:t()},i)})})})]}),P&&(0,s.jsxs)(s.Fragment,{children:["education"!==P&&(0,s.jsxs)(r.NI,{maxW:Z,isRequired:!0,children:[(0,s.jsx)(o.l,{children:(0,s.jsx)(m.cC,{id:"SYYw/x"})}),(0,s.jsx)(c.P,{placeholder:g.ag._({id:"rjLlrw"}),isRequired:!0,onChange:e=>{let i=e.target.value;"work"===P&&"education"===i&&W("teacher"),z(i)},children:v.map((e,i)=>{let{label:t,id:n}=e;return(0,s.jsx)("option",{value:n,children:t()},"".concat(n,"-").concat(i))})})]}),("education"===P||"education"===F)&&(0,s.jsxs)(r.NI,{maxW:Z,isRequired:!0,children:[(0,s.jsx)(o.l,{children:(0,s.jsx)(m.cC,{id:"B+ClFT"})}),(0,s.jsxs)(u.g,{spacing:2,children:[(0,s.jsx)(c.P,{placeholder:g.ag._({id:"rjLlrw"}),isRequired:!0,value:V,onChange:e=>{W(()=>e.target.value)},children:A.map((e,i)=>{let{label:t,id:n}=e;return(0,s.jsx)("option",{value:n,children:t()},"".concat(n,"-").concat(i))})}),(0,s.jsx)(c.P,{placeholder:g.ag._({id:"rNbKca"}),isRequired:!0,onChange:e=>{K(()=>e.target.value)},children:S.map((e,i)=>{let{label:t,id:n}=e;return(0,s.jsx)("option",{value:n,children:t()},"".concat(n,"-").concat(i))})})]}),(0,s.jsx)(r.Q6,{fontSize:"xs",children:(0,s.jsx)(m.cC,{id:"9sEdx4"})})]}),(0,s.jsxs)(r.NI,{maxW:Z,children:[(0,s.jsx)(o.l,{children:(0,s.jsx)(m.cC,{id:"bxuHg8"})}),(0,s.jsxs)(u.g,{spacing:2,children:[(0,s.jsx)(c.P,{placeholder:g.ag._({id:"rjLlrw"}),value:R?"other":N,onChange:e=>{"other"===e.target.value?(M(!0),L("")):(M(!1),L(e.target.value))},children:E.map((e,i)=>{let{label:t,id:n}=e;return(0,s.jsx)("option",{value:n,children:t()},"".concat(n,"-").concat(i))})}),R&&(0,s.jsx)(h.I,{type:"text",value:N,onChange:e=>{L(e.target.value)}})]}),(0,s.jsx)(r.Q6,{fontSize:"xs",children:N&&(null==N?void 0:N.length)>4?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.cC,{id:"RNrV8M",values:{GRANT_PROPER_NOUN:b.XI}})," ",(0,s.jsx)("span",{role:"img","aria-label":g.ag._({id:"8K1shM"}),children:"\uD83D\uDE4F"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.cC,{id:"Bhgibl",values:{GRANT_PROPER_NOUN:b.XI}})," ",(0,s.jsx)("span",{role:"img","aria-label":g.ag._({id:"bh5RqM"}),children:"\uD83D\uDE0A"})]})})]})]}),(0,s.jsx)(l.K,{alignItems:"center",spacing:4,pt:4,children:(0,s.jsx)(p.kH,{label:(0,s.jsx)(m.cC,{id:"5G+MQW"}),isDisabled:!q,placement:"top",children:(0,s.jsx)(n.xu,{children:(0,s.jsx)(x.z,{variant:"solid",size:"lg",isDisabled:w||!!G||!Y,isLoading:B||w,onClick:X,children:Q()})})})})]})})}},7603:function(e,i,t){"use strict";t.d(i,{o:function(){return r}});var s=t(89220),n=t(2784),l=t(36651);let r=()=>{let{push:e}=(0,s.useRouter)(),{userStatus:i}=(0,l.SE)();(0,n.useEffect)(()=>{"loggedOut"===i&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[i,e])}},52610:function(e,i,t){"use strict";t.d(i,{My:function(){return o},rK:function(){return c},r_:function(){return a},up:function(){return d}});var s=t(52322),n=t(5879),l=t(87254),r=t(93202);let o=1,a=()=>l.ag._({id:"cyLJM2"}),d=()=>l.ag._({id:"6h5uMS"}),c={[r.r3E.Admin]:{title:(0,s.jsx)(n.cC,{id:"U3pytU"}),description:(0,s.jsx)(n.cC,{id:"U4MLdj"})},[r.r3E.Member]:{title:(0,s.jsx)(n.cC,{id:"OvoEq7"}),description:(0,s.jsx)(n.cC,{id:"nslZjr"})}}},10464:function(e,i,t){"use strict";let s;t.r(i),t.d(i,{HomePage:function(){return lC},default:function(){return lb}});var n=t(52322),l=t(89220),r=t(71537),o=t(409),a=t(18896),d=t(36651),c=t(7603),u=t(38035),h=t(17190),x=t(97729),p=t.n(x),m=t(5632),g=t.n(m),j=t(2784),C=t(28846),b=t(52797),f=t(16690),v=t(94199),y=t(67964),_=t(31341),S=t(11050),A=t(55478),E=t(29117),I=t(43297),k=t(82554),D=t(74409),w=t(75009),T=t(77533),P=t(75768),O=t(62614),N=t(11082),L=t(28535),R=t(69251),M=t(30523),F=t(67109),z=t(42946),U=t(49929),B=t(5879),G=t(34498),H=t.n(G),K=t(93202),V=t(42111),W=t(46759),Y=t(40651),q=t(97763),X=t(57124),Z=t(82642),Q=t(32899),J=t(74008),$=t(81540),ee=t(36474),ei=t(17993),et=t(94523),es=t(87254),en=t(71113),el=t(17749),er=t(1196),eo=t(44663),ea=t(2953),ed=t(62131);let ec=e=>{let{onOpenCallback:i,onCloseCallback:t}=e,s=(0,V.ye)("upsellUXEnabled_Pro"),{openUpsellModal:l}=(0,ea.z)();return s?(0,n.jsxs)(I.K,{borderTopWidth:"1px",bottom:0,bg:"white",pt:6,pb:2,borderTopColor:"blackAlpha.200",px:2,children:[(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ed.ER,{variant:"solid"}),(0,n.jsx)(T.x,{fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"mpbrVv",values:{GAMMA_PRO_PROPER_NOUN:v.x8}})})]}),(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"gGlaFH",values:{GAMMA_PROPER_NOUN:v.N6}})}),(0,n.jsx)(T.x,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,n.jsx)(N.r,{color:"trueblue.600",href:"#",onClick:()=>{l({onOpenCallback:i,onCloseCallback:t,segmentEvent:S.AA.GAMMA_PRO_UPSELL_CALLOUT_SIDEBAR})},children:(0,n.jsxs)(E.U,{flex:1,children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"Xaz7bJ"})}),(0,n.jsx)(ee.L,{})]})})})]}):null};var eu=t(91994),eh=t(30579),ex=({size:e="2rem",...i})=>(0,n.jsx)(F.O,{borderRadius:"full",boxSize:e,...i});ex.displayName="SkeletonCircle";var ep=t(109),em=t(10625),eg=t(67046),ej=t(99058),eC=t(25481),eb=t(27599),ef=t(44035),ev=t(39237),ey=t(54933),e_=t(1842),eS=t.n(e_),eA=t(14274),eE=t(96933),eI=(0,t(67012).I)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),ek=t(47443),eD=t(70065),ew=t(92850),eT=t(26468),eP=t(22226),eO=t(54326),eN=t(2338),eL=t(97217),eR=t(82713),eM=t(50250);let eF=()=>(0,n.jsxs)(E.U,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,n.jsx)(eI,{w:4,h:4,color:"red.500"}),(0,n.jsx)(T.x,{fontSize:"sm",color:"red.500",children:(0,n.jsx)(B.cC,{id:"Ofm9ns"})})]}),ez=e=>{let{user:i,workspace:t,canDeleteAccount:s}=e;return(0,n.jsxs)(ek.b,{status:i||(null==t?void 0:t.memberCount)&&t.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,n.jsxs)(u.k,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,n.jsxs)(u.k,{flex:1,children:[(0,n.jsx)(ep.q,{src:null==i?void 0:i.profileImageUrl,size:"sm",name:(null==i?void 0:i.displayName)||(null==t?void 0:t.name)}),(0,n.jsxs)(I.K,{spacing:0,ml:2,flex:"1",children:[(0,n.jsx)(T.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==i?void 0:i.displayName)||(null==t?void 0:t.name)}),i&&(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:i.email}),t&&(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.600",children:(0,n.jsx)(B.cC,{id:"LaQ44M",values:{0:t.memberCount||0}})})]})]}),(0,n.jsx)(u.k,{flexShrink:1,children:(i||t&&(null==t?void 0:t.memberCount)===1)&&(0,n.jsx)(eF,{})})]}),(0,n.jsx)(J.i,{borderColor:"blackAlpha.200"}),(0,n.jsxs)(T.x,{pt:2,fontSize:"sm",color:i||(null==t?void 0:t.memberCount)&&t.memberCount<=1?"red.500":"yellow.700",children:[s&&i&&(0,n.jsxs)(n.Fragment,{children:["⚠️"," ",(0,n.jsx)(B.cC,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})]}),s&&(null==t?void 0:t.memberCount)&&(t.memberCount>1?(0,n.jsxs)(n.Fragment,{children:["⚠️ ",(0,n.jsx)(B.cC,{id:"QnF/9z"})]}):(0,n.jsxs)(n.Fragment,{children:["⚠️"," ",(0,n.jsx)(B.cC,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})]})),!s&&(0,n.jsxs)(n.Fragment,{children:["⚠️"," ",(0,n.jsx)(B.cC,{id:"eFx5qm"})]})]})]})},eU=e=>{var i,t;let{isOpen:s,onClose:l,user:r}=e,[o,a]=(0,j.useState)(!1),[d,c]=(0,j.useState)(!1),{data:u}=(0,K.NUx)(),h=(0,eD.p)(),[x]=(0,K.I1z)(),p=(null==u?void 0:null===(t=u.user)||void 0===t?void 0:null===(i=t.workspaceMemberships)||void 0===i?void 0:i.filter(e=>!1===e.disabled))||[],m=p.filter(e=>{var i,t;return"admin"===e.role&&(null===(i=e.workspace)||void 0===i?void 0:i.adminCount)===1&&(null===(t=e.workspace)||void 0===t?void 0:t.memberCount)&&e.workspace.memberCount>1}),g=p.map(e=>e.workspace),C=0===m.length,b=(0,j.useCallback)(()=>{c(!0),x().then(e=>{let{data:i}=e;i&&(window.location.href="".concat(eA.v.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(()=>{c(!1),h({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[h,x]);return(0,n.jsxs)(ew.u_,{isOpen:s,onClose:l,size:"lg",closeOnOverlayClick:!1,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{p:2,children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:v.N6}})}),(0,n.jsx)(eN.o,{}),(0,n.jsxs)(eL.f,{children:[C&&(0,n.jsxs)(I.K,{spacing:3,children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"gICMDu"})}),(0,n.jsxs)(L.xu,{children:[(0,n.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"sG4820"})}),(0,n.jsx)(ez,{user:r,canDeleteAccount:C})]}),g&&g.length>0&&(0,n.jsxs)(L.xu,{children:[(0,n.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"dFEw4P"})}),null==g?void 0:g.map(e=>(0,n.jsx)(ez,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id))]}),(0,n.jsxs)(L.xu,{children:[(0,n.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"R3XcoA"})}),(0,n.jsxs)(E.U,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,n.jsx)(eR.X,{size:"lg",spacing:"1rem",p:3,defaultChecked:o,onChange:e=>a(e.target.checked)}),(0,n.jsx)(T.x,{fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"4YT8Pd"})})]})]})]}),!C&&(0,n.jsx)(I.K,{children:(0,n.jsxs)(L.xu,{children:[(0,n.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"nhUDfL"})}),null==g?void 0:g.map(e=>(0,n.jsx)(ez,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id))]})})]}),C&&(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"gray",onClick:l,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{isDisabled:!o,variant:"ghost",colorScheme:"red",onClick:b,isLoading:d,loadingText:es.ag._({id:"O71YIC"}),children:(0,n.jsx)(B.cC,{id:"dfBVKc"})})]})})]})]})};var eB=t(87651),eG=t(99793),eH=t(35183),eK=t(97166),eV=t(85573),eW=t(89606),eY=t(10649),eq=t(49152),eX=t(43102),eZ=t(99787);let eQ={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},eJ=e=>{let{uppy:i,multiple:t=!1,accept:s=eZ.pK.join(",")}=e,l=(0,j.useRef)(null),r=(0,j.useMemo)(()=>(0,n.jsx)("input",{ref:l,className:"gamma-uppy-FileInput-input",style:eQ,type:"file",name:"gamma-file-input",multiple:t,accept:s,onChange:e=>{let t=e.target;if(!t||!t.files)return;let s=Array.from(t.files);s.forEach(e=>{try{i.addFile({source:"file input",name:e.name,type:e.type,data:e})}catch(e){e.isRestriction?console.warn("[useFileInput] Restriction error:",e):console.error(e)}}),t.value=null}}),[]),o=(0,j.useCallback)(()=>{var e;null===(e=l.current)||void 0===e||e.click()},[]);return(0,j.useEffect)(()=>{let e=l.current;e&&(i.on("file-removed",()=>{e.value=null}),i.on("complete",()=>{e.value=null}),i.on("transloadit:complete",()=>{e.value=null}))},[]),{inputElement:r,onClick:o}};var e$=t(87205);let e0={cropped:"",original:""},e1=e=>{let{isOpen:i,onClose:t,onAccountDeleteModalOpen:s,user:l,orgId:r,refetchUser:o}=e,a=(0,eD.p)(),[c,{loading:h,error:x}]=(0,K.kDo)(),{setSettings:p}=(0,d.SE)(),m=(0,eq.l)(),g=(0,j.useMemo)(()=>m,[]),[C,b]=(0,j.useState)(g);(0,eX.m)(C);let[f,v]=(0,j.useState)(l.firstName||""),[y,_]=(0,j.useState)(l.lastName||""),[S,A]=(0,j.useState)(l.profileImageUrl||""),[k,D]=(0,j.useState)(e0),[P,N]=(0,j.useState)("original"),R=k.cropped&&"cropped"===P?k.cropped:k.original&&"original"===P?k.original:S,[M,F]=(0,j.useState)("idle"),G=(0,j.useMemo)(()=>eZ.ND.createUppyInstance(r,{onUploadStart:e=>{D(e0),F("uploading"),N("original"),(0,e$.Ns)(e.file.type||"")||A(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[AccountSettingsModal] onOriginalFileUpload",e),A(e.src),D(i=>({...i,original:e.src}))},onUploadComplete:e=>{console.debug("[AccountSettingsModal] onUploadComplete",e),A(i=>i||e.src),D(()=>({original:e.src,cropped:e.croppedFace||""})),F("idle"),G.cancelAll()},onUploadFailed:()=>{F("error"),G.cancelAll()}},"profile"),[]),{onClick:H,inputElement:V}=eJ({uppy:G}),W=(0,j.useCallback)(()=>{s&&(s(),t())},[s,t]),Y=(0,j.useCallback)(()=>{G.cancelAll(),F("idle"),v(l.firstName||""),_(l.lastName||""),A(l.profileImageUrl||""),N("original"),D(e0),b(g)},[l,g,G]),q=C!==g,X=f!==l.firstName||y!==l.lastName||S!==l.profileImageUrl,Z=(0,j.useMemo)(()=>X||q,[q,X]),Q=(0,j.useCallback)(()=>{if(!Z){t();return}let e=[];q&&p&&eY.p_.includes(C)&&e.push(p({set:{locale:C}})),X&&e.push(c({variables:{input:{id:l.id,firstName:f,lastName:y,profileImageUrl:S}}})),Promise.all(e).then(()=>{null==o||o(),t(),a({title:(0,n.jsx)(B.cC,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==l?void 0:l.id,'"'),e.message)})},[f,Z,q,X,y,C,t,S,o,p,a,c,null==l?void 0:l.id]),ee=f.length<1&&y.length<1||!!(null==x?void 0:x.message)||"error"===M;return(0,n.jsxs)(ew.u_,{isOpen:i,onClose:t,size:"lg",closeOnOverlayClick:!1,children:[V,(0,n.jsxs)(L.xu,{w:0,h:0,children:[(0,n.jsx)(w.E,{src:k.original}),(0,n.jsx)(w.E,{src:k.cropped})]}),(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"T3FM0r"})}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(J.i,{mb:4}),(0,n.jsxs)(eL.f,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsxs)(I.K,{direction:"column",alignItems:"center",children:[(0,n.jsxs)(em.v,{placement:"bottom-start",offset:[100,0],children:[(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,n.jsx)(eg.j,{position:"relative",disabled:"uploading"===M,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,n.jsxs)(ep.q,{src:R,name:"".concat(f," ").concat(y).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===M&&(0,n.jsx)(L.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,n.jsx)($.$,{size:"xl",thickness:"2px"})}),(0,n.jsx)(L.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,n.jsx)(U.G,{icon:S?z._jT:z.TzT,width:16,height:16,size:"xs"})})]})})}),(0,n.jsxs)(ej.q,{fontSize:"sm",children:[(0,n.jsx)(eC.s,{onClick:()=>{"uploading"!==M&&H()},children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(U.G,{icon:ey.A$k}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"wPTug2"})})]})}),S&&(0,n.jsx)(eb.R,{}),S&&(0,n.jsx)(eC.s,{onClick:()=>{A(""),D(e0)},children:(0,n.jsxs)(E.U,{color:"var(--chakra-colors-red-500)",children:[(0,n.jsx)(U.G,{icon:z.Vui,color:"var(--chakra-colors-red-500)"}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"k8od7T"})})]})})]})]}),(0,n.jsx)(eB.U,{in:!!S&&!!k.cropped&&S!==l.profileImageUrl&&"idle"===M,animateOpacity:!0,children:(0,n.jsx)(eR.X,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===P,onChange:e=>{N(e.target.checked?"cropped":"original"),A(e.target.checked?k.cropped:k.original)},mb:3,children:(0,n.jsx)(B.cC,{id:"+J8/VC"})})}),(0,n.jsx)(eG.J1,{children:"error"===M&&"Error uploading profile image."}),(0,n.jsxs)(I.K,{spacing:0,alignItems:"center",children:[(0,n.jsx)(T.x,{fontSize:"xl",fontWeight:"bold",children:l.displayName}),(0,n.jsx)(T.x,{color:"gray.500",children:l.email})]})]}),(0,n.jsxs)(I.K,{direction:"column",width:"100%",my:6,px:4,spacing:6,children:[(0,n.jsxs)(eH.NI,{isInvalid:ee,children:[(0,n.jsx)(eK.l,{children:(0,n.jsx)(B.cC,{id:"V1EGGU"})}),(0,n.jsx)(eV.I,{w:"100%",value:f,onChange:e=>v(e.target.value.slice(0,60))})]}),(0,n.jsxs)(eH.NI,{isInvalid:ee,children:[(0,n.jsx)(eK.l,{children:(0,n.jsx)(B.cC,{id:"1ZaQUH"})}),(0,n.jsx)(eV.I,{w:"100%",value:y,onChange:e=>_(e.target.value.slice(0,60))}),(0,n.jsx)(eG.J1,{children:(null==x?void 0:x.message)?null==x?void 0:x.message:(0,n.jsx)(B.cC,{id:"yQeiGC"})})]}),(0,n.jsxs)(eH.NI,{children:[(0,n.jsx)(eK.l,{children:(0,n.jsx)(B.cC,{id:"vXIe7J"})}),(0,n.jsx)(eW.p,{selectedLocale:eY.w$[C],onLocaleSelect:b})]})]})]}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(u.k,{justifyContent:"space-between",flex:1,alignItems:"flex-end",children:[(0,n.jsx)(u.k,{children:(0,n.jsx)(O.z,{variant:"ghost",color:"gray.400",colorScheme:"gray",size:"sm",onClick:W,children:(0,n.jsx)(B.cC,{id:"ktknoE"})})}),(0,n.jsxs)(u.k,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[Z&&(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"gray",onClick:Y,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:Z?"solid":"plain",onClick:Q,isDisabled:ee||"uploading"===M,isLoading:h,children:Z?(0,n.jsx)(B.cC,{id:"y3aU20"}):(0,n.jsx)(B.cC,{id:"DPfwMq"})})]})]})})]})]})},e2=()=>(0,n.jsxs)(E.U,{w:"100%",px:2,pb:1,children:[(0,n.jsx)(ex,{size:"32px"}),(0,n.jsx)(F.O,{width:"60%",height:"20px"})]}),e5=e=>{var i;let{workspace:t,memberCount:s,isMultiline:l=!0}=e;return(0,n.jsxs)(E.U,{mr:4,children:[(0,n.jsx)(ep.q,{name:null===(i=t.name)||void 0===i?void 0:i.replace(/\s/g,""),size:"sm",bgColor:"orchid.300",color:"white"}),(0,n.jsxs)(I.K,{textAlign:"left",align:"flex-start",justify:"flex-start",spacing:0,...l?{}:{noOfLines:1},children:[(0,n.jsx)(T.x,{fontSize:"sm",fontWeight:"600",wordBreak:"break-word",m:0,p:0,...l?{}:{overflow:"hidden",textOverflow:"ellipsis"},minWidth:"0px",children:t.name}),(0,n.jsx)(ed.Y7,{workspace:t}),!eS()(s)&&(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",textAlign:"left",children:(0,n.jsx)(B.cC,{id:"F6GBat",values:{memberCount:s}})})]})]})},e3=e=>{let{onOpen:i}=e,{user:t,currentWorkspace:s,refetch:l,setCurrentWorkspaceId:r}=(0,d.SE)(),{isConnected:o}=(0,K.$gs)(),{isOpen:a,onOpen:c,onClose:h}=(0,A.q)({id:"user-settings-modal"}),{isOpen:x,onOpen:p,onClose:m}=(0,A.q)({id:"account-delete-modal"}),g=(0,eE.i)({md:"400px"});if(!t)return(0,n.jsx)(n.Fragment,{});let j=null==t?void 0:t.organizations;return j&&s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(em.v,{autoSelect:!1,children:[(0,n.jsx)(et.kH,{label:o?"":"You're offline","aria-label":o?"Workspace options":"You're offline",children:(0,n.jsx)(L.xu,{children:(0,n.jsx)(eg.j,{as:O.z,isDisabled:!o,variant:"ghost",rightIcon:o?(0,n.jsx)(U.G,{icon:z.gc2,"aria-label":"Caret icon"}):(0,n.jsx)(U.G,{icon:z.bKP}),w:"100%",colorScheme:"blackAlpha",color:"gray.800",cursor:"pointer",_hover:{color:"trueblue.600"},p:2,pr:4,children:(0,n.jsx)(L.xu,{width:"100%",children:s&&(0,n.jsx)(e5,{workspace:s,memberCount:null,isMultiline:!1})})})})}),(0,n.jsxs)(ej.q,{minW:g,zIndex:"overlay",shadow:"lg",maxW:"min(500px, 100vw)",children:[(0,n.jsxs)(eC.s,{px:2,cursor:"pointer",onClick:c,children:[(0,n.jsx)(ep.q,{src:t.profileImageUrl,size:"sm",name:t.displayName}),(0,n.jsxs)(I.K,{spacing:0,ml:2,children:[(0,n.jsx)(T.x,{fontSize:"sm",children:t.displayName}),(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:t.email})]}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(U.G,{size:"sm",icon:ey.gr5,color:"var(--chakra-colors-gray-500)"})]}),(0,n.jsx)(eb.R,{}),j&&j.length>0&&(0,n.jsx)(ef._,{title:es.ag._({id:"pmt7u4"}),type:"radio",defaultValue:null==s?void 0:s.id,onChange:e=>{r(e)},children:j.filter(e=>!eS()(e)&&!eS()(e.id)&&!eS()(e.name)).map(e=>(0,n.jsx)(ev.i,{value:e.id,icon:1===j.length?null:void 0,isFocusable:1!==j.length,children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(u.k,{flex:1,w:"100%",children:(0,n.jsx)(e5,{workspace:e,memberCount:null,isMultiline:!0})}),e.id===(null==s?void 0:s.id)&&(0,n.jsx)(u.k,{children:(0,n.jsx)(O.z,{size:"sm",variant:"outline",onClick:i,children:(0,n.jsx)(B.cC,{id:"0dbeO4"})})})]})},e.id))}),(0,n.jsx)(eb.R,{}),(0,n.jsx)(eC.s,{color:"red.500",icon:(0,n.jsx)(U.G,{icon:z.jLD,fixedWidth:!0}),onClick:()=>{window.location.href="".concat(eA.v.API_HOST,"/logout")},children:(0,n.jsx)(B.cC,{id:"fcWrnU"})})]})]}),a&&(0,n.jsx)(e1,{orgId:s.id,user:t,refetchUser:l,isOpen:a,onClose:h,onAccountDeleteModalOpen:p}),x&&(0,n.jsx)(eU,{user:t,isOpen:x,onClose:m})]}):(0,n.jsx)(n.Fragment,{})};var e4=t(36371),e6=t(73582),e8=t(2969),e9=t(3181),e7=t(13272),ie=t(87342),ii=t(29705),it=t(82282),is=t(31807),il=t(6912),ir=t(11942),io=t(81640),ia=t(42005),id=t(25566);let ic=e=>{var i,t,s,l;let{memberCount:r}=e,{user:o,currentWorkspace:a}=(0,d.SE)(),{subscription:c,product:u,refetchSubscription:h}=(0,io.z)(),{launchCancelFlow:x,cancelFlowEnabled:p}=(0,il.B_)(c,a),[m,g]=(0,j.useState)(!1),C=(0,j.useCallback)(async()=>{if(x){ia.c.track(id.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),g(!0);try{var e;let i=await x();(null==i?void 0:null===(e=i.sessionResults)||void 0===e?void 0:e.canceled)===!0&&await (null==h?void 0:h())}catch(e){console.warn("Failed to cancel subscription",e)}g(!1)}},[x,h]),b=null==c?void 0:null===(i=c.products)||void 0===i?void 0:i[0];if(!b||!u)return null;let f=!!(null==c?void 0:c.cancellationRequestedTime),v=!!(null==c?void 0:c.expirationTime)&&new Date>new Date(c.expirationTime),y=(null==c?void 0:null===(t=c.createdByUser)||void 0===t?void 0:t.id)===(null==o?void 0:o.id),_=y?(0,ir._8)():null,S=(null==b?void 0:b.units)&&r?r-b.units:void 0,A="".concat(null==c?void 0:null===(s=c.createdByUser)||void 0===s?void 0:s.displayName," (").concat(null==c?void 0:null===(l=c.createdByUser)||void 0===l?void 0:l.email,")");return(0,n.jsxs)(I.K,{direction:"row",spacing:2,alignItems:"baseline",children:[(0,n.jsx)(ed.Y7,{workspace:a}),S&&S>0&&y&&(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"J8+D9M",values:{addedSeats:S}}),placement:"top",children:(0,n.jsx)(L.xu,{color:"yellow.500",children:(0,n.jsx)(U.G,{icon:z.Vm4})})}),(0,n.jsxs)(P.h,{px:2,spacing:4,children:[(0,n.jsx)(et.kH,{placement:"top",shouldWrapChildren:!0,label:y?v?(0,n.jsx)(B.cC,{id:"uxwzHm",values:{0:(0,it.Z)((0,is.Z)(c.expirationTime),"PPP")}}):f?(0,n.jsx)(B.cC,{id:"SoEbnk",values:{0:(0,it.Z)((0,is.Z)(c.expirationTime),"PPP")}}):(0,n.jsx)(B.cC,{id:"HrQ7yf"}):(0,n.jsx)(B.cC,{id:"H49TQ5",values:{creatorNameAndEmail:A}}),children:(0,n.jsx)(O.z,{target:"_blank",href:y&&_?_:void 0,as:N.r,colorScheme:y?"trueblue":"gray",variant:"link",size:"sm",rightIcon:(0,n.jsx)(ii.h,{ml:-1}),isDisabled:!y,children:(0,n.jsx)(B.cC,{id:"J/hVSQ",values:{0:f||v?"Re-activate subscription":"Manage subscription"}})})}),p&&!f&&y&&(0,n.jsx)(et.kH,{placement:"top",shouldWrapChildren:!0,label:(0,n.jsx)(B.cC,{id:"o/WrRZ"}),children:(0,n.jsx)(O.z,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",onClick:C,isLoading:m,isDisabled:m,children:(0,n.jsx)(B.cC,{id:"fHXMPy"})})})]}),v?(0,n.jsx)(L.xu,{fontSize:"sm",color:"gray.400",children:(0,n.jsx)(B.cC,{id:"mrIVJ+",values:{0:(0,it.Z)((0,is.Z)(c.expirationTime),"PPP")}})}):f?(0,n.jsx)(L.xu,{fontSize:"sm",color:"gray.400",children:(0,n.jsx)(B.cC,{id:"uBqaX6",values:{0:(0,it.Z)((0,is.Z)(c.expirationTime),"PPP")}})}):(0,n.jsx)(L.xu,{fontSize:"sm",color:"gray.400",children:(0,n.jsx)(B.cC,{id:"TwZCUl",values:{0:(0,it.Z)((0,is.Z)(c.nextBillingTime),"PPP")}})})]})};var iu=t(46640),ih=t(37733),ix=t(52610);let ip=e=>{let{workspace:i,canManageWorkspace:t}=e,s=(0,eD.p)(),{refetch:l}=(0,d.SE)(),[r,o]=(0,j.useState)((null==i?void 0:i.name)||""),[a,c]=(0,j.useState)(!1),[u,{loading:h,called:x,error:p,reset:m}]=(0,K.Mqp)(),g=(0,j.useCallback)(()=>{c(!1),o((null==i?void 0:i.name)||"")},[null==i?void 0:i.name]),C=(0,j.useCallback)(()=>{u({variables:{input:{name:r,id:null==i?void 0:i.id}},fetchPolicy:"no-cache"}).then(()=>{null==l||l(),s({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3}),setTimeout(()=>{c(!1),m()},1e3)}).catch(e=>{console.error('[WorkspaceSettingsModal] Error updating workspace "'.concat(null==i?void 0:i.id,'"'),e.message)})},[r,null==i?void 0:i.id,l,m,s,u]),b=""===r||r.length<ix.My||r.length>50||!!(null==p?void 0:p.message);(0,j.useEffect)(()=>{r!==i.name&&c(!0)},[r,i.name]);let f=(0,ix.up)();return i?(0,n.jsx)(L.xu,{children:(0,n.jsxs)(eH.NI,{isInvalid:b,children:[(0,n.jsx)(eK.l,{children:(0,n.jsx)(B.cC,{id:"CozWO1"})}),(0,n.jsxs)(I.K,{w:"100%",direction:["column","row"],children:[(0,n.jsx)(et.kH,{placement:"top-start",label:(0,n.jsx)(B.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:f}}),isDisabled:t,children:(0,n.jsx)(L.xu,{flex:1,children:(0,n.jsx)(eV.I,{w:["100%","50%"],placeholder:es.ag._({id:"CozWO1"}),value:r,disabled:!t,onChange:e=>o(e.target.value.slice(0,50))})})}),(0,n.jsx)(ih.R,{in:a,unmountOnExit:!0,children:(0,n.jsx)(L.xu,{children:(0,n.jsxs)(P.h,{w:"100%",children:[(0,n.jsx)(O.z,{variant:"solid",isLoading:h,isDisabled:b||x,onClick:C,children:(0,n.jsx)(B.cC,{id:"EkH9pt"})}),(0,n.jsx)(O.z,{onClick:g,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})})]})})})]}),(0,n.jsx)(eH.Q6,{children:(0,n.jsx)(B.cC,{id:"ODB/Vo"})}),(0,n.jsx)(eG.J1,{children:(null==p?void 0:p.message)?null==p?void 0:p.message:(0,n.jsx)(B.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:ix.My}})})]})}):null};var im=t(46949),ig=t(74105),ij=t(20816),iC=t(46028),ib=t(7985),iv=t(41004),iy=t(84636),i_=t.n(iy),iS=t(23312),iA=t(4758),iE=t(80498),iI=t(16893),ik=t(1163);let iD=()=>{let[e,i]=(0,j.useState)(!1),{product:t}=(0,io.z)(),s=!!t,[n,l]=(0,j.useState)(new iE.B),{isOpen:r,onOpen:o,onClose:a}=(0,A.q)({id:"confirm-add-paid-user"}),d=(0,j.useCallback)(()=>i(e=>!e),[]),c=(0,j.useCallback)(()=>{n.reject(),i(!1),a()},[a,n]),u=(0,j.useCallback)(()=>{n.resolve(!0),i(!1),a()},[a,n]),h=(0,j.useCallback)(()=>{if(!s)return Promise.resolve();let e=new iE.B;return l(e),o(),e.promise},[s,o]);return{isConfirmAddPaidMemberModalOpen:r,isConfirmAddPaidMemberModalChecked:e,onConfirmAddPaidMemberClose:c,onConfirmAddPaidMemberClick:u,showConfirmPaidUserModal:h,onConfirmAddPaidMemberClickCheckbox:d}},iw=e=>{let{isOpen:i,newMemberCount:t,isChecked:s,onClose:l,onConfirmClick:r,onCancelClick:o,onCheckboxConfirm:a}=e,{subscription:d}=(0,io.z)(),c=(0,j.useCallback)(()=>(0,ik.$F)(d,t),[d,t]),{totalPrice:h,productPrice:x}=(0,iI.A)(c,[t,d]);if(!i||!d)return null;let p=(null==x?void 0:x.frequencyUnit)===K.C_B.Month?(0,n.jsx)(B.cC,{id:"JKIwMd",values:{newMemberCount:t,totalPrice:h},components:{0:(0,n.jsx)("strong",{}),1:(0,n.jsx)("strong",{})}}):(0,n.jsx)(B.cC,{id:"Pltlc3",values:{newMemberCount:t,totalPrice:h},components:{0:(0,n.jsx)("strong",{}),1:(0,n.jsx)("strong",{})}});return(0,n.jsxs)(ew.u_,{isOpen:i,onClose:l,trapFocus:!1,size:"xl",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"B9zUUN",values:{newMemberCount:t}})}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(I.K,{spacing:4,children:[(0,n.jsx)(T.x,{as:"span",children:(0,n.jsx)(B.cC,{id:"c6yFkJ"})}),(0,n.jsxs)(u.k,{gap:3,alignItems:"start",children:[(0,n.jsx)(eR.X,{mt:1,isChecked:s,onChange:a}),(0,n.jsx)(T.x,{children:p})]}),(0,n.jsx)(L.xu,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"mjZQpA"})})})]})}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"gray",onClick:o,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:"solid",onClick:r,isDisabled:!s,children:(0,n.jsx)(B.cC,{id:"WMsmjg",values:{newMemberCount:t}})})]})})]})]})},iT=(0,iv.E)(L.xu),iP=e=>{let{workspace:i,canManageWorkspace:t,setDoneFn:s}=e,l=(0,eD.p)(),r=(0,j.useRef)(),o=(0,j.useRef)(null),[a,d]=(0,j.useState)([]),[c,h]=(0,j.useState)(new iE.B),[x,p]=(0,j.useState)(""),[m,{loading:g}]=(0,K.f4M)(),{isOpen:C,onOpen:b,onClose:f}=(0,A.q)({id:"confirm-unsent-invitations"}),{isConfirmAddPaidMemberModalOpen:v,isConfirmAddPaidMemberModalChecked:y,onConfirmAddPaidMemberClick:_,onConfirmAddPaidMemberClose:S,showConfirmPaidUserModal:E,onConfirmAddPaidMemberClickCheckbox:I}=iD(),k=(0,j.useMemo)(()=>a.concat({email:x.trim()}).filter(e=>!("email"in e)||(0,ib.G)(e.email||"")),[x,a]),D=!!(x.length||a.length),w=!!k.length;(0,j.useEffect)(()=>{s(()=>()=>(w?b():c.resolve(),c.promise))},[w,c,b,s]);let P=g||!t,N=(0,j.useCallback)(async()=>{if(0!==k.length)return m({variables:{workspaceId:i.id,invitees:k},refetchQueries:["GetWorkspace"]}).then(()=>{let e=(0,n.jsx)(B.cC,{id:"Ka86rB",values:{0:k.length}});l({title:e,description:(0,n.jsx)(T.x,{children:k.map(e=>(0,n.jsx)(T.x,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3})})},[k,m,i.id,l]),R=(0,j.useCallback)(async()=>E().then(N).then(()=>{var e;d([]),p(""),null===(e=r.current)||void 0===e||e.resetItems(!0),c.resolve(),h(new iE.B)}).catch(e=>{console.warn(e)}),[E,N,c]),M=(0,j.useCallback)(e=>{d(i=>i.filter(i=>i.email!==e))},[]),F=(0,j.useCallback)(e=>{d(i=>i_()([...i,...e],"email"))},[]),z=(0,ix.up)(),U=(0,ix.r_)();return(0,n.jsxs)(L.xu,{my:4,mb:6,children:[(0,n.jsx)(T.x,{mb:2,fontSize:"sm",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"/Yxzaj"})}),(0,n.jsxs)(u.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,n.jsx)(ig.B,{w:"100%",justifyContent:"center",flex:1,children:(0,n.jsxs)(iC.Qc,{ref:r,values:a,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,i)=>!a.find(e=>e.email===i),onSelectOption:e=>{let{item:i}=e;F([{email:i.value}]),p("")},onTagRemoved:e=>{d(i=>[...i].filter(i=>i.email!==e))},children:[(0,n.jsxs)(ij.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,n.jsx)(u.k,{flex:1}),(0,n.jsx)(u.k,{h:10,py:4,alignItems:"center",children:(0,n.jsx)(im.W,{w:10})})]}),(0,n.jsx)(et.kH,{placement:"top-start",label:(0,n.jsx)(B.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:z,WORKSPACE_ADMIN_DISPLAY_NAME:U}}),isDisabled:t,children:(0,n.jsx)(L.xu,{children:(0,n.jsx)(iC.Vp,{ref:o,"data-testid":"autocomplete-collaborators-input",cursor:P?"not-allowed":void 0,disabled:P,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:es.ag._({id:"+1O5zr"}),transition:"width 1s ease-in-out",value:x,onKeyDown:e=>{let{key:i}=e;if("Enter"===i&&0===x.length){e.preventDefault();return}if("Backspace"===i&&0===x.length&&a.length>0){let e=a.slice(-1).pop();if(e){var t;null===(t=r.current)||void 0===t||t.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let i=e.clipboardData.getData("Text"),t=i.trim().split(/[,|;\s]+/);F([...t.map(e=>({email:e}))]),p("")},onChange:e=>{let{target:i}=e,{value:t}=i;p(t)},children:a.map((e,i)=>(0,n.jsx)(iA.L,{idx:i,selectedCollaborator:e,handleRemoveClick:()=>{M(e.email)}},e.email))})})})]})}),(0,n.jsx)(iT,{overflowX:"hidden",transition:"slow",animate:{maxWidth:D?"240px":"0px"},children:(0,n.jsx)(L.xu,{ml:2,children:(0,n.jsx)(O.z,{variant:"solid",onClick:R,isDisabled:!w,isLoading:!1,"data-testid":"add-selected-items",children:(0,n.jsx)(B.cC,{id:"MFKlMB"})})})})]}),(0,n.jsx)(iS.C,{invitationCount:k.length,isOpen:C,onClose:()=>{f(),c.reject(),h(new iE.B)},onDiscardClick:()=>{f(),c.resolve(),h(new iE.B)},onSendInvitationsClick:()=>{f(),R()}}),(0,n.jsx)(iw,{isOpen:v,newMemberCount:k.length,isChecked:y,onConfirmClick:_,onClose:S,onCancelClick:S,onCheckboxConfirm:I})]})};var iO=t(52929),iN=t(21979);let iL=()=>{let{subscription:e}=(0,io.z)(),i=(0,ik.OJ)(e),t=null==i?void 0:i.frequencyUnit;return(0,n.jsxs)(T.x,{children:[(0,n.jsx)(T.x,{as:"span",fontWeight:"600",children:t===K.C_B.Month?(0,n.jsx)(B.cC,{id:"cs6BKJ",values:{0:(0,ik.Hk)(i)},components:{0:(0,n.jsx)(T.x,{as:"span",textDecoration:"underline"})}}):t===K.C_B.Year?(0,n.jsx)(B.cC,{id:"xArlW8",values:{0:(0,ik.Hk)(i)},components:{0:(0,n.jsx)(T.x,{as:"span",textDecoration:"underline"})}}):"---"}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"gfz9Jx"})})]})};var iR=t(78462);let iM=e=>{let{workspace:i}=e,t=(0,iR.Dg)(i),{product:s}=(0,io.z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(T.x,{my:2,fontSize:"sm",color:"gray.500",children:[(0,n.jsx)(B.cC,{id:"eR6rch"})," ",(0,n.jsx)(B.cC,{id:"X4Z7y1"})]}),(0,n.jsx)(u.k,{mb:4,children:(0,n.jsx)(iN.I,{url:t})}),(0,n.jsxs)(ek.b,{mt:2,status:"warning",fontSize:"sm",borderRadius:4,children:[(0,n.jsx)(iO.z,{}),(0,n.jsxs)(I.K,{children:[(0,n.jsxs)(T.x,{children:[(0,n.jsx)("strong",{children:(0,n.jsx)(B.cC,{id:"XeiZmu"})})," ",(0,n.jsx)(B.cC,{id:"PF+S+V",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})]}),s&&(0,n.jsx)(iL,{})]})]})]})};var iF=t(14093),iz=t(70189),iU=t(78534),iB=t(80774),iG=t(5832),iH=t(66983),iK=t(79443);let iV=(e,i)=>"".concat(null!=e?e:""," ").concat(i?"(".concat(i,")"):"");var iW=t(97010);let iY=(e,i,t)=>{let s=iV(i.displayName,i.email),l=(0,ix.r_)();return"remove"===e?{title:(0,n.jsx)(B.cC,{id:"HlXuQk",values:{0:i.displayName||""}}),description:(0,n.jsx)(B.cC,{id:"MYcnTw",values:{nameWithEmail:s}}),confirmButtonLabel:(0,n.jsx)(B.cC,{id:"gNjH/6"})}:"leave"===e?{title:(0,n.jsx)(B.cC,{id:"6iUevl"}),description:(0,n.jsx)(B.cC,{id:"nM44Cu",values:{0:t.name}}),confirmButtonLabel:(0,n.jsx)(B.cC,{id:"hGWoeF"})}:{title:(0,n.jsx)(B.cC,{id:"kxbLa+",values:{WORKSPACE_ADMIN_DISPLAY_NAME:l}}),description:(0,n.jsx)(B.cC,{id:"gJfQ74",values:{WORKSPACE_ADMIN_DISPLAY_NAME:l}}),confirmButtonLabel:(0,n.jsx)(B.cC,{id:"m4YerB"})}},iq=e=>{let{isOpen:i,onClose:t,onConfirmClick:s,onCancelClick:l,userToConfirm:r,workspace:o,action:a}=e;if(!i)return null;let{title:d,description:c,confirmButtonLabel:u}=iY(a,r,o);return(0,n.jsxs)(ew.u_,{returnFocusOnClose:!1,onClose:t,isOpen:!0,isCentered:!0,size:"lg",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:d}),(0,n.jsx)(eN.o,{}),(0,n.jsxs)(eL.f,{children:[(0,n.jsx)(T.x,{children:c}),"remove"===a&&(0,n.jsx)(iX,{user:r,mt:3})]}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{variant:"ghost",children:[(0,n.jsx)(O.z,{onClick:l,colorScheme:"gray",children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{colorScheme:"red",onClick:s,children:u})]})})]})]})},iX=e=>{let{user:i,...t}=e;return(0,n.jsxs)(ei.g,{spacing:3,...t,children:[(0,n.jsx)(ek.b,{status:"warning",children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ep.q,{src:null==i?void 0:i.profileImageUrl,size:"sm",name:null==i?void 0:i.displayName}),(0,n.jsxs)(I.K,{spacing:0,ml:2,flex:"1",children:[(0,n.jsx)(T.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:null==i?void 0:i.displayName}),i.email&&(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:i.email})]})]})}),(0,n.jsxs)(ek.b,{children:[(0,n.jsx)(iO.z,{}),(0,n.jsxs)(iW.GS,{spacing:3,children:[(0,n.jsx)(iW.HC,{children:(0,n.jsx)(B.cC,{id:"J1E9I7",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq,0:i.displayName||""}})}),(0,n.jsx)(iW.HC,{children:(0,n.jsx)(B.cC,{id:"1i/P7t",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq,0:i.displayName||""}})})]})]})]})};var iZ=t(19783);let iQ=e=>{let{selected:i,options:t,onSelect:s,isMenuDisabled:l,disabledOptions:r=[],deleteLabel:o=(0,n.jsx)(B.cC,{id:"HBvein"}),onDeleteClick:a,disabledDeleteReason:d}=e,c=i===K.r3E.Admin?(0,n.jsx)(B.cC,{id:"U3pytU"}):(0,n.jsx)(B.cC,{id:"OvoEq7"});return(0,n.jsxs)(em.v,{closeOnSelect:!0,children:[(0,n.jsx)(eg.j,{as:O.z,isDisabled:l,variant:"ghost",size:"sm",rightIcon:(0,n.jsx)(U.G,{icon:z.ptq}),children:c}),(0,n.jsx)(ej.q,{maxW:"320px",zIndex:"dropdown",children:(0,n.jsxs)(ef._,{defaultValue:i,value:i,type:"radio",onChange:e=>{Array.isArray(e)||s(e)},children:[t.map(e=>{let i=r.find(i=>i.disabledOption===e);return(0,n.jsx)(ev.i,{value:e,isDisabled:!!i,pt:3,children:(0,n.jsx)(iZ.u,{"aria-label":null==i?void 0:i.reason,label:null==i?void 0:i.reason,isDisabled:!i,placement:"right",shouldWrapChildren:!0,children:(0,n.jsxs)(L.xu,{lineHeight:"base",children:[(0,n.jsx)(T.x,{fontSize:"md",children:ix.rK[e].title}),(0,n.jsx)(T.x,{fontSize:"sm",color:"gray.500",children:ix.rK[e].description})]})})},e)}),(0,n.jsx)(eb.R,{}),(0,n.jsx)(iZ.u,{"aria-label":d,label:d,isDisabled:!d,placement:"right",shouldWrapChildren:!0,children:(0,n.jsx)(eC.s,{onClick:a,color:"red.500",fontSize:"md",lineHeight:"base",isDisabled:!!d,children:o})})]})})]})},iJ=(e,i)=>(i||[]).find(i=>{var t;return(null===(t=i.workspace)||void 0===t?void 0:t.id)===e}),i$=e=>{var i;let{workspace:t,dateFormatterFn:s,canManageWorkspace:l,workspaceAdminCount:r}=e,[o,a]=(0,j.useState)(K.tvj.DisplayName),[c,h]=(0,j.useState)(K.SrV.Asc),[x,p]=(0,j.useState)(!1),m={id:null==t?void 0:t.id,first:50,sortBy:{field:o,direction:c}},{data:g,loading:C,fetchMore:b}=(0,K.iR3)({variables:m,skip:!(null==t?void 0:t.id)}),[f,{loading:v}]=(0,K.Eiz)(),[y,{loading:_}]=(0,K.ert)(),[S,E]=(0,j.useState)(null),k=null==g?void 0:null===(i=g.workspaceMembers)||void 0===i?void 0:i.pageInfo,D=!C&&(null==k?void 0:k.hasNextPage)&&(null==k?void 0:k.endCursor),w=null==g?void 0:g.workspaceMembers.edges.map(e=>e.node),{user:T,refetch:P}=(0,d.SE)(),N=t.id,R=(0,eD.p)(),[M,z]=(0,j.useState)(null),[G,H]=(0,j.useState)(null),[V,W]=(0,j.useState)(new iE.B),{isOpen:Y,onOpen:q,onClose:X}=(0,A.q)(),Z=(0,j.useMemo)(()=>null!=r?r:(null==w?void 0:w.reduce((e,i)=>{let t=iJ(N,i.workspaceMemberships);return t&&t.role===K.r3E.Admin&&e++,e},0))||0,[w,N,r]),Q=(0,j.useCallback)(async()=>(q(),V.promise),[V,q]),J=(0,j.useCallback)(()=>{z(null),H(null)},[]),ee=(0,j.useCallback)((e,i)=>{E(e.id),f({variables:{workspaceId:t.id,userId:e.id,role:i},refetchQueries:["GetWorkspace"]}).then(()=>{null==P||P();let t=i===K.r3E.Admin?(0,n.jsx)(B.cC,{id:"IFCQlQ",values:{0:e.displayName,1:e.email}}):(0,n.jsx)(B.cC,{id:"gWgob7",values:{0:e.displayName,1:e.email}});R({description:t,status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{R({description:(0,n.jsx)(B.cC,{id:"CF7q4i",values:{0:e.displayName,1:e.email}}),status:"error",position:"top",duration:5e3,isClosable:!0})}).finally(()=>{E(null)})},[P,R,f,t.id]),ei=(0,j.useCallback)(e=>async i=>{e&&l&&((null==T?void 0:T.id)===e.id&&i===K.r3E.Member?!(Z<=1)&&(z(e),H("giveUpAdminAccess"),Q().then(()=>{ee(e,i)}).catch(()=>{console.debug("[handleMemberRoleChange] User cancelled action")}).finally(()=>J())):ee(e,i))},[Z,l,ee,Q,J,null==T?void 0:T.id]),et=(0,j.useCallback)(e=>()=>{if(e.id===(null==T?void 0:T.id))return;let i=iV(e.displayName,e.email);z(e),H("remove"),Q().then(()=>{E(e.id),y({variables:{workspaceId:N,userId:e.id},refetchQueries:["GetWorkspace","GetWorkspaceMembers"]}).then(()=>{null==P||P(),R({description:(0,n.jsx)(B.cC,{id:"jkCRxy",values:{emailWithName:i}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{R({description:(0,n.jsx)(B.cC,{id:"eETcUn",values:{emailWithName:i}}),status:"error",position:"top",duration:5e3,isClosable:!0})})}).finally(()=>{E(null),J()})},[y,Q,N,null==T?void 0:T.id,P,J,R]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iF.x,{children:(0,n.jsxs)(iz.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,n.jsx)(iU.h,{children:(0,n.jsxs)(iB.Tr,{children:[(0,n.jsx)(iG.Th,{children:(0,n.jsx)(O.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{a(K.tvj.DisplayName),h(e=>e===K.SrV.Asc?K.SrV.Desc:K.SrV.Asc)},rightIcon:(0,n.jsx)(L.xu,{color:o===K.tvj.DisplayName?"gray.700":"gray.300",children:(0,n.jsx)(U.G,{icon:o===K.tvj.DisplayName?"asc"===c?ey.eW2:ey.l1h:ey.CmM})}),children:(0,n.jsx)(B.cC,{id:"6YtxFj"})})}),(0,n.jsx)(iG.Th,{children:(0,n.jsx)(O.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{a(K.tvj.CreatedTime),h(e=>e===K.SrV.Asc?K.SrV.Desc:K.SrV.Asc)},rightIcon:(0,n.jsx)(L.xu,{color:o===K.tvj.CreatedTime?"gray.700":"gray.300",children:(0,n.jsx)(U.G,{icon:o===K.tvj.CreatedTime?"asc"===c?ey.eW2:ey.l1h:ey.CmM})}),children:(0,n.jsx)(B.cC,{id:"SnjWqV"})})}),(0,n.jsx)(iG.Th,{children:(0,n.jsx)(B.cC,{id:"GDvlUT"})})]})}),(0,n.jsxs)(iH.p,{children:[C&&(0,n.jsx)(iB.Tr,{p:0,children:(0,n.jsx)(iK.Td,{colSpan:2,p:0,children:(0,n.jsxs)(I.K,{spacing:2,children:[(0,n.jsx)(F.O,{h:8}),(0,n.jsx)(F.O,{h:8}),(0,n.jsx)(F.O,{h:8})]})})}),w&&w.map((e,i)=>{let r=i===w.length-1,o=iJ(t.id,e.workspaceMemberships),a=null==o?void 0:o.createdTime,d=s(a),c=null==o?void 0:o.role,u=c===K.r3E.Admin,h=c?ix.rK[c].title:"",x=S===e.id,p=e.id===(null==T?void 0:T.id);return(0,n.jsxs)(iB.Tr,{children:[(0,n.jsx)(iK.Td,{borderBottom:r?"0 none":void 0,children:(0,n.jsx)(i0,{user:e,isSelf:p})}),(0,n.jsx)(iK.Td,{borderBottom:r?"0 none":void 0,whiteSpace:"nowrap",children:d}),(0,n.jsx)(iK.Td,{borderBottom:r?"0 none":void 0,w:32,children:x?(0,n.jsx)(L.xu,{textAlign:"center",children:(0,n.jsx)($.$,{size:"xs"})}):l&&c?(0,n.jsx)(iQ,{selected:c,isMenuDisabled:v||_,options:[K.r3E.Admin,K.r3E.Member],onSelect:ei(e),disabledOptions:u&&Z<=1?[{disabledOption:K.r3E.Member,reason:"A workspace must have at least one admin"}]:[],disabledDeleteReason:p?"You cannot remove yourself":void 0,onDeleteClick:et(e)}):h})]},e.id)})]})]})}),D&&(0,n.jsx)(u.k,{w:"100%",justify:"center",align:"center",mt:3,children:(0,n.jsx)(O.z,{isLoading:x,size:"sm",onClick:()=>{p(!0),b({variables:{after:null==k?void 0:k.endCursor}}).finally(()=>{p(!1)})},children:(0,n.jsx)(B.cC,{id:"yQ2kGp"})})}),M&&G&&(0,n.jsx)(iq,{isOpen:Y,onClose:()=>{X(),V.reject(),W(new iE.B)},onCancelClick:()=>{X(),V.reject(),W(new iE.B)},onConfirmClick:async()=>{X(),V.resolve(),W(new iE.B)},userToConfirm:M,action:G,workspace:t})]})},i0=e=>{let{user:i,isSelf:t}=e,{displayName:s,profileImageUrl:l,email:r}=i;return(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ep.q,{size:"sm",name:s,src:l}),(0,n.jsxs)(I.K,{spacing:0,children:[(0,n.jsxs)(T.x,{children:[s,t?(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(B.cC,{id:"4Q6lF1"})]}):""]}),(0,n.jsx)(E.U,{mt:1,children:(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:r})})]})]})};var i1=t(829),i2=t.n(i1);let i5=e=>{let{invitations:i,dateFormatterFn:t,canManageWorkspace:s}=e,[l,r]=(0,j.useState)("email"),[o,a]=(0,j.useState)("asc"),[d]=(0,K.PZh)(),c=(0,eD.p)(),u=(0,ix.up)(),h=(0,j.useCallback)(e=>{d({variables:{id:e}}).then(()=>{c({title:es.ag._({id:"DGxAzK"}),status:"success",duration:3e3,isClosable:!0,position:"bottom"})}).catch(e=>{console.error(e),c({title:es.ag._({id:"s51CLN",values:{0:e.message}}),status:"error",isClosable:!0,position:"bottom"})})},[d,c]),x="asc"===o?i2()(i,l):i2()(i,l).reverse();return 0===x.length?(0,n.jsx)(L.xu,{p:4,background:"gray.50",children:(0,n.jsx)(T.x,{my:8,textAlign:"center",children:(0,n.jsx)(B.cC,{id:"blyObO"})})}):(0,n.jsx)(iF.x,{children:(0,n.jsxs)(iz.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,n.jsx)(iU.h,{children:(0,n.jsxs)(iB.Tr,{children:[(0,n.jsx)(iG.Th,{children:(0,n.jsx)(O.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{r("email"),a(e=>"asc"===e?"desc":"asc")},rightIcon:(0,n.jsx)(L.xu,{color:"email"===l?"gray.700":"gray.300",children:(0,n.jsx)(U.G,{icon:"email"===l?"asc"===o?ey.eW2:ey.l1h:ey.CmM})}),children:(0,n.jsx)(B.cC,{id:"O3oNi5"})})}),(0,n.jsxs)(iG.Th,{children:[" ",(0,n.jsx)(O.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{r("createdTime"),a(e=>"asc"===e?"desc":"asc")},rightIcon:(0,n.jsx)(L.xu,{color:"email"===l?"gray.700":"gray.300",children:(0,n.jsx)(U.G,{icon:"createdTime"===l?"asc"===o?ey.eW2:ey.l1h:ey.CmM})}),children:(0,n.jsx)(B.cC,{id:"B82OLR"})})]}),(0,n.jsx)(iG.Th,{children:(0,n.jsx)(B.cC,{id:"GXsAby"})})]})}),(0,n.jsx)(iH.p,{children:x&&(null==x?void 0:x.length)>0&&x.map((e,i)=>(0,n.jsxs)(iB.Tr,{children:[(0,n.jsx)(iK.Td,{children:e.email}),(0,n.jsx)(iK.Td,{children:t(e.createdTime)}),(0,n.jsx)(iK.Td,{children:(0,n.jsx)(et.kH,{placement:"top",label:(0,n.jsx)(B.cC,{id:"wcx9n8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:u}}),shouldWrapChildren:!0,isDisabled:s,children:(0,n.jsx)(O.z,{w:20,variant:"plain",color:"plain",size:"sm",isDisabled:!s,onClick:()=>{h(e.id)},children:(0,n.jsx)(B.cC,{id:"GXsAby"})})})})]},e.id))})]})})},i3=e=>{var i,t,s;let{isOpen:l,onClose:r}=e,{currentWorkspace:o}=(0,d.SE)(),a=(0,d.d3)(),{data:c}=(0,K.WaV)({variables:{id:null==o?void 0:o.id},skip:!(null==o?void 0:o.id)}),[u,h]=(0,j.useState)(()=>()=>Promise.resolve()),x=(null==c?void 0:null===(i=c.workspace)||void 0===i?void 0:i.invitations)||[],p=(0,j.useCallback)(()=>{u().then(r).catch(()=>{console.warn("[workspaceSettingsModal] InviteByEmail rejected to close modal")})},[u,r]);if(!o)return null;let m=null==c?void 0:null===(t=c.workspace)||void 0===t?void 0:t.memberCount;return(0,n.jsxs)(ew.u_,{isOpen:l,onClose:p,size:"3xl",trapFocus:!1,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"Knd6gz"})}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(J.i,{mb:4}),(0,n.jsxs)(eL.f,{children:[(0,n.jsx)(ie.m,{segmentEvent:S.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS,onOpenCallback:p}),(0,n.jsx)(ip,{workspace:o,canManageWorkspace:a}),(0,n.jsx)(L.xu,{mt:12,children:(0,n.jsxs)(I.K,{spacing:8,children:[(0,n.jsxs)(L.xu,{children:[(0,n.jsx)(D.X,{size:"md",fontWeight:"600",mb:4,children:(0,n.jsx)(B.cC,{id:"KKJitJ"})}),(0,n.jsx)(iP,{workspace:o,canManageWorkspace:a,setDoneFn:h}),a&&(0,n.jsx)(iM,{workspace:o})]}),(0,n.jsx)(L.xu,{children:(0,n.jsxs)(e4.m,{variant:"soft-rounded",size:"sm",children:[(0,n.jsxs)(e6.t,{mb:4,children:[(0,n.jsxs)(e8.O,{children:[(0,n.jsx)(L.xu,{mr:2,children:(0,n.jsx)(U.G,{icon:ey.iOm})}),(0,n.jsx)(B.cC,{id:"VJ7g+s",values:{memberCount:m}})]}),(0,n.jsxs)(e8.O,{children:[(0,n.jsx)(L.xu,{mr:2,children:(0,n.jsx)(U.G,{icon:z.FU$})}),(0,n.jsx)(B.cC,{id:"KxTWx3",values:{0:x.length}})]})]}),(0,n.jsxs)(e9.n,{children:[(0,n.jsx)(e7.x,{p:0,mt:0,children:(0,n.jsx)(i$,{workspace:o,dateFormatterFn:iu.P9,canManageWorkspace:a,workspaceAdminCount:null==c?void 0:null===(s=c.workspace)||void 0===s?void 0:s.adminCount})}),(0,n.jsx)(e7.x,{p:0,mt:0,children:(0,n.jsx)(i5,{invitations:x,dateFormatterFn:iu.P9,canManageWorkspace:a})})]})]})})]})})]}),(0,n.jsx)(J.i,{mt:6}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(I.K,{w:"100%",direction:"row",align:"center",justifyContent:"space-between",children:[(0,n.jsx)(ic,{memberCount:m}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(P.h,{children:(0,n.jsx)(O.z,{variant:"solid",onClick:p,children:(0,n.jsx)(B.cC,{id:"DPfwMq"})})})]})})]})]})};var i4=t(82089);let i6=e=>{let{openModal:i}=e,{currentWorkspace:t}=(0,d.SE)(),s=(0,eD.p)();(0,j.useEffect)(()=>{let e=(0,iR.SJ)()[d.f2],l=null==t?void 0:t.id;e&&l&&(e===l?i():s({title:(0,n.jsx)(B.cC,{id:"EhVOPs"}),position:"top",id:"workspace-not-found",status:"error",isClosable:!0,duration:3e3}),(0,i4.lO)({query:{...(0,iR.SJ)(),[d.f2]:void 0},emitChange:!1}))},[s,i,t])};var i8=t(90221);let i9=j.forwardRef((e,i)=>{let{children:t,dataTestId:s,isSelected:l,isDropActive:r,href:o,target:a,...d}=e;return(0,n.jsx)(O.z,{ref:i,textDecoration:"none",variant:"ghost",w:"100%",size:"sm",colorScheme:"gray",as:N.r,borderRadius:"md",justifyContent:"flex-start","data-testid":s,_hover:{bgColor:l?"trueblue.50":"gray.100",textDecoration:"none"},color:l||r?"trueblue.500":"gray.600",bgColor:l||r?"trueblue.50":void 0,_active:{color:"trueblue.500",bgColor:"trueblue.200",textDecoration:"none"},py:1.5,mb:1,paddingInlineStart:2,fontWeight:l?"bold":"regular",href:o,target:a,...d,children:t})});i9.displayName="SidebarButton";var i7=t(20103),te=t(86513),ti=t(8174),tt=t(16710);let ts=e=>{var i;let{onClose:t,onSubmit:s,doc:l}=e,r=(0,d.py)("manage",l||void 0),{isConnected:o}=(0,K.$gs)(),[a,c]=(0,j.useState)(K.y3$.Manage);return l?(0,n.jsxs)(ew.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{"data-testid":"workspace-permissions-prompt",children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"JzTAyU",values:{0:l.title}})}),(0,n.jsx)(eN.o,{}),(0,n.jsxs)(eL.f,{children:[(0,n.jsx)(T.x,{mb:6,children:(0,n.jsx)(B.cC,{id:"wKPcxh"})}),(0,n.jsx)(te.o$,{testId:"workspace",title:(0,n.jsx)(B.cC,{id:"wtxjAY"}),subtitle:es.ag._({id:"aC87LX",values:{0:null==l?void 0:null===(i=l.organization)||void 0===i?void 0:i.name}}),isDisabled:!r||!o,img:(0,n.jsx)(L.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:"32px",children:(0,n.jsx)(U.G,{size:"1x",icon:z.P88})}),disabledText:te.Nj[a].title(),permissionsControl:(0,n.jsx)(te.t9,{selected:a,options:[K.y3$.Manage,K.y3$.Edit,K.y3$.Comment,K.y3$.View],onClick:e=>{c(e)}})})]}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:t,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{s(a),t()},children:(0,n.jsx)(B.cC,{id:"DPfwMq"})})]})})]})]}):(0,n.jsx)(n.Fragment,{})},tn=()=>{let{onOpen:e,isOpen:i,onClose:t}=(0,A.q)({id:"workspacePermissionPromptDisclosure"}),[s]=(0,K.rIg)(),{currentWorkspace:n}=(0,d.SE)(),l=(0,eD.p)(),{addDocChannel:r}=(0,ti.Z)(),[o,a]=(0,j.useState)(null),[c,u]=(0,j.useState)(null),h=(0,d.we)(),x=(0,j.useCallback)((e,i)=>{let t=(e.channels||[]).find(e=>e.id===i.id),s=(0,tt.Gi)(e,n),r=h.cannot("manage",e)&&eS()(e.orgAccess);return s?(l({description:es.ag._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):r?(l({description:es.ag._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!t||(l({description:es.ag._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[h,l,n]),p=(0,j.useCallback)(e=>{if(!o||!c)return;let{id:i}=o;s({variables:{id:i,orgAccess:e},optimisticResponse:{updateDoc:{id:i,orgAccess:e,__typename:"Doc"}}}).then(()=>{r({doc:o,channel:c,existingChannels:null==o?void 0:o.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",i),l({title:es.ag._({id:"SlfejT"}),description:es.ag._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[r,o,c,l,s]),m=(0,j.useCallback)((i,t)=>{let s=x(i,t);s&&(i.orgAccess?r({doc:i,channel:t,existingChannels:(null==i?void 0:i.channels)||[]}):(a(i),u(t),e()))},[r,e,x]),g=(0,j.useCallback)(()=>{u(null),a(null),t()},[t]);return{isOpen:i,onClose:g,doc:o,handleAddDocToChannel:m,updateWorkspacePermissionThenAddToChannel:p}};var tl=t(99368);let tr="ChannelDocDragItemType";var to=t(42822),ta=t(29094);let td=()=>{let e=(0,eD.p)(),[i]=(0,K.ozD)(),[t]=(0,K.Oau)(),[s,{loading:l,error:r}]=(0,K.dbz)(),o=(0,j.useCallback)(t=>{let{channel:s}=t;return i({variables:{channelId:s.id}}).then(()=>{e({title:(0,n.jsx)(B.cC,{id:"GCUxja",values:{0:null==s?void 0:s.name}}),description:(0,n.jsx)(B.cC,{id:"SQY08b",values:{0:null==s?void 0:s.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[i,e]),a=(0,j.useCallback)(i=>{let{channel:s,workspaceId:l}=i,{name:r}=s;return t({variables:{channelId:s.id},update:(e,i)=>{let{data:t}=i;(null==t?void 0:t.joinChannel)&&e.writeQuery({query:K.kTw,variables:{workspaceId:l},data:{channels:[t.joinChannel]}})},optimisticResponse:{joinChannel:{...s}}}).then(()=>{e({title:(0,n.jsx)(B.cC,{id:"WpOdvg",values:{name:r}}),description:(0,n.jsx)(B.cC,{id:"/IOSvX",values:{name:r}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(i=>{e({title:(0,n.jsx)(B.cC,{id:"bLRa0l",values:{name:r}}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[t,e]),d=(0,j.useCallback)(i=>{let{input:t}=i;return s({variables:{input:t},update:(e,i)=>{let{data:s}=i;(null==s?void 0:s.createChannel)&&e.writeQuery({query:K.kTw,variables:{workspaceId:t.workspaceId},data:{channels:[s.createChannel]}})},optimisticResponse:{createChannel:{id:"temp-id",slug:"temp-slug",...t,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString(),__typename:"Channel"}}}).then(i=>{var t;let s=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.createChannel;(null==s?void 0:s.name)&&e({title:(0,n.jsx)(B.cC,{id:"EbT81q",values:{0:s.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),(null==s?void 0:s.id)&&(null==s?void 0:s.slug)?g().push((0,iR.j)({id:s.id,slug:s.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==s?void 0:s.id,'". Slug: "').concat(null==s?void 0:s.slug,'"'))}).catch(i=>{e({title:(0,n.jsx)(B.cC,{id:"YeikaQ"}),description:i.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[s,e]);return{joinChannel:a,leaveChannel:o,createChannel:d,createChannelLoading:l,createChannelError:r}};var tc=t(38421),tu=t.n(tc);let th=e=>{let{channelName:i,onCreateClick:t}=e;return(0,n.jsx)(to.M,{minH:"sm",children:(0,n.jsxs)(u.k,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:[(0,n.jsx)(L.xu,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,n.jsx)(tu(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,n.jsx)(D.X,{size:"md",mb:2,textAlign:"center",children:(0,n.jsx)(B.cC,{id:"NmfOr+"})}),(0,n.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,n.jsx)(B.cC,{id:"cZOpR0",values:{channelName:i},components:{0:(0,n.jsx)(N.r,{onClick:t,color:"trueblue.500"})}})})]})})},tx=e=>{let{channels:i,workspaceId:t}=e,{leaveChannel:s,joinChannel:l}=td(),r=(0,j.useCallback)((e,i)=>{e?l({channel:i,workspaceId:t}):s({channel:i})},[l,s,t]);return(0,n.jsxs)(I.K,{spacing:0,children:[0===i.length&&(0,n.jsxs)(u.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,n.jsx)(L.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,n.jsx)(w.E,{src:ta.Z.src,width:"725px",alt:"Sal, the Gamma mascot, painting in space"})}),(0,n.jsx)(D.X,{size:"md",mb:2,textAlign:"center",children:(0,n.jsx)(B.cC,{id:"PN1FMY"})}),(0,n.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,n.jsx)(B.cC,{id:"gdEwT8",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq},components:{0:(0,n.jsx)("br",{})}})})]}),i.length>0&&i.map(e=>{let{members:i,isMember:t,memberCount:s,name:l}=e;return(0,n.jsxs)(E.U,{spacing:4,px:4,py:2,_hover:{bg:"gray.100"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,n.jsx)(L.xu,{p:2,color:t?"":"gray.400",children:(0,n.jsx)(U.G,{icon:t?z.fV7:eh.Ty})}),(0,n.jsxs)(E.U,{flex:1,children:[(0,n.jsxs)(I.K,{spacing:0,children:[(0,n.jsx)(T.x,{children:l}),(0,n.jsx)(T.x,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,n.jsx)(B.cC,{id:"tWPlLK",values:{0:s||0}}):(0,n.jsx)(B.cC,{id:"pkIIls",values:{0:s||0}})})]}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(et.NL,{size:"xs",overflowTooltipLabel:es.ag._({id:"25VyZX"}),avatars:i||[],max:3})]}),(0,n.jsx)(O.z,{w:20,variant:t?"ghost":"plain",color:t?"gray.600":"plain",size:"sm",onClick:()=>{r(!t,e)},children:t?(0,n.jsx)(B.cC,{id:"Mv8CyJ"}):(0,n.jsx)(B.cC,{id:"0wdd7X"})})]},e.id)})]})},tp=e=>{var i;let{isOpen:t,onClose:s,workspaceId:l}=e,[r,o]=(0,j.useState)(""),[a,d]=(0,j.useState)(!1),[c,u]=(0,j.useState)(!1),h=(0,j.useRef)(null),{createChannel:x,createChannelLoading:p,createChannelError:m}=td(),[g,C]=(0,j.useState)(null),[b,f]=(0,j.useState)(!1),{data:v,loading:y,called:_,fetchMore:S}=(0,K.Un3)({variables:{workspaceId:l,first:20,sortBy:{field:K.Bhs.MemberCount,direction:K.SrV.Desc},query:r},skip:!l,nextFetchPolicy:"cache-only"}),A=(0,j.useCallback)(e=>{let{value:i}=e.target;C(null),i?o(i):o("")},[]),k=!!(r&&(null==v?void 0:v.workspaceChannels.edges.length)===0),D=()=>{l&&x({input:{name:r,workspaceId:l}}).then(()=>{s()}).catch(e=>{C(e.message)})};(0,j.useEffect)(()=>{y||d(k)},[y,k]),(0,j.useEffect)(()=>{!_||y||c||u(!0)},[_,y,c]);let w=a&&k,P=(null==v?void 0:v.workspaceChannels.edges.map(e=>e.node))||[],N=!r,L=null==v?void 0:null===(i=v.workspaceChannels)||void 0===i?void 0:i.pageInfo,R=c&&(null==L?void 0:L.hasNextPage)&&(null==L?void 0:L.endCursor);return(0,n.jsxs)(ew.u_,{isOpen:t,onClose:s,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:h,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{pb:0,children:(0,n.jsx)(B.cC,{id:"Mxy55o"})}),(0,n.jsxs)(T.x,{px:6,color:"gray.500",mb:2,children:[(0,n.jsx)(B.cC,{id:"/eBcp2"}),"."]}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(I.K,{spacing:5,children:[(0,n.jsxs)(E.U,{align:"flex-start",children:[(0,n.jsxs)(eH.NI,{isInvalid:!!m&&r.length>0,children:[(0,n.jsxs)(ig.B,{size:"md",children:[(0,n.jsx)(ij.Z,{pointerEvents:"none",color:"gray.300",children:(0,n.jsx)(im.W,{})}),(0,n.jsx)(eV.I,{value:r,onChange:A,placeholder:es.ag._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:h}),y&&(0,n.jsx)(ij.x,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,n.jsx)($.$,{size:"sm"})})]}),g&&(0,n.jsx)(eG.J1,{children:g})]}),(0,n.jsx)(O.z,{w:"300px",variant:"plain",onClick:D,isDisabled:0===r.length,isLoading:p,children:(0,n.jsx)(B.cC,{id:"Oo7YVo"})})]}),(0,n.jsxs)(et.NZ,{children:[N&&(0,n.jsx)(B.cC,{id:"LOzhoI"}),r&&(0,n.jsx)(B.cC,{id:"mjEyky",values:{0:P.length}})]}),w&&(0,n.jsx)(th,{channelName:r,onCreateClick:D}),!c&&(0,n.jsxs)(I.K,{children:[(0,n.jsx)(F.O,{height:"55px"}),(0,n.jsx)(F.O,{height:"55px"}),(0,n.jsx)(F.O,{height:"55px"}),(0,n.jsx)(F.O,{height:"55px"}),(0,n.jsx)(F.O,{height:"55px"})]}),c&&l&&!w&&(0,n.jsx)(tx,{channels:P,workspaceId:l}),R&&(0,n.jsx)(to.M,{p:6,children:(0,n.jsx)(O.z,{isLoading:b,onClick:()=>{f(!0),S({variables:{...0===r.length?{first:50}:{},after:null==L?void 0:L.endCursor}}).finally(()=>{f(!1)})},size:"sm",children:(0,n.jsx)(B.cC,{id:"yQ2kGp"})})})]})}),(0,n.jsx)(eM.m,{children:(0,n.jsx)(O.z,{variant:"solid",onClick:s,children:(0,n.jsx)(B.cC,{id:"DPfwMq"})})})]})]})};var tm=t(26284);let tg=e=>{let{channel:i,workspaceId:t,onClose:s}=e,[l]=(0,K.HOP)(),r=(0,eD.p)(),o=(0,j.useCallback)(()=>{if(!t||!(null==i?void 0:i.id)){console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(t,'" channelId: "').concat(null==i?void 0:i.id,'"'));return}l({variables:{channelId:i.id,workspaceId:t}}).then(()=>{r({title:(0,n.jsx)(B.cC,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[i,r,l,t]);return(0,n.jsxs)(ew.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:s,size:"lg",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsxs)(eO.x,{children:["Delete ",i.name,"?"]}),(0,n.jsx)(eN.o,{}),(0,n.jsxs)(eL.f,{children:[(0,n.jsx)(T.x,{mb:2,children:(0,n.jsx)(B.cC,{id:"IkJ0gO"})}),(0,n.jsx)(T.x,{mb:2,children:(0,n.jsx)(B.cC,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})}),(0,n.jsx)(T.x,{color:"red.500",children:(0,n.jsx)(B.cC,{id:"2xOCJW"})})]}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:s,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"red",onClick:()=>{o(),s()},children:(0,n.jsx)(B.cC,{id:"NbFtQm"})})]})})]})]})},tj=e=>{let{channel:i,workspaceId:t,onClose:s}=e,l=(0,eD.p)(),[r,o]=(0,j.useState)(()=>null==i?void 0:i.name),[a,{loading:d}]=(0,K.tWW)(),[c,h]=(0,j.useState)(null),x=(0,j.useCallback)(e=>{o(e.target.value)},[]),p=(0,j.useRef)(null),m=!!c,C=(0,j.useCallback)(()=>{if(!t||!(null==i?void 0:i.id)){console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(t,'" channelId: "').concat(null==i?void 0:i.id,'"'));return}a({variables:{input:{id:null==i?void 0:i.id,workspaceId:t,name:r}}}).then(e=>{var t;let{data:r}=e;g().replace((0,iR.j)({id:null==i?void 0:i.id,slug:null==r?void 0:r.updateChannel.slug})),l({title:(0,n.jsx)(B.cC,{id:"QJd4OZ",values:{0:null==r?void 0:null===(t=r.updateChannel)||void 0===t?void 0:t.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),s()}).catch(e=>{h(e.message)})},[t,null==i?void 0:i.id,a,r,l,s]);return(0,n.jsxs)(ew.u_,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:p,onClose:s,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"NZgZhv"})}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(eL.f,{children:(0,n.jsx)(u.k,{mt:4,w:"100%",direction:"column",children:(0,n.jsxs)(eH.NI,{isInvalid:m,children:[(0,n.jsx)(eV.I,{value:r,ref:p,onChange:x,onKeyDown:e=>{"Enter"===e.key&&C()}}),m&&(0,n.jsx)(eG.J1,{children:c})]})})}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:s,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{isLoading:d,variant:"solid",onClick:C,children:(0,n.jsx)(B.cC,{id:"2wxgft"})})]})})]})]})},tC=e=>{let{channel:i,workspaceId:t}=e,{isOpen:s,onOpen:l,onClose:r}=(0,A.q)({id:"deleteChannelModalDisclosure"}),{isOpen:o,onOpen:a,onClose:d}=(0,A.q)({id:"renameChannelModalDisclosure"}),{push:c}=(0,m.useRouter)(),{leaveChannel:u}=td(),h=(0,eD.p)(),{onCopy:x}=(0,tm.V)((0,iR.j)({id:null==i?void 0:i.id,slug:null==i?void 0:i.slug},!1));return(0,n.jsxs)(em.v,{closeOnSelect:!1,isLazy:!0,children:[(0,n.jsx)(eg.j,{as:Q.h,variant:"ghost",fontWeight:"600",color:"gray.700",icon:(0,n.jsx)(U.G,{icon:z.S6C})}),(0,n.jsxs)(ej.q,{zIndex:"popover",children:[(0,n.jsx)(eC.s,{icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.aJJ}),onClick:a,children:(0,n.jsx)(B.cC,{id:"NZgZhv"})}),(0,n.jsx)(eb.R,{}),(0,n.jsx)(eC.s,{onClick:()=>{x(),h({title:(0,n.jsx)(B.cC,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.DrL}),children:(0,n.jsx)(B.cC,{id:"alYpud"})}),(0,n.jsx)(eC.s,{icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.WQc}),onClick:()=>{u({channel:i}).then(()=>{c("/")})},children:(0,n.jsx)(B.cC,{id:"jC8TAY"})}),(0,n.jsx)(eb.R,{}),(0,n.jsx)(eC.s,{color:"red.500",onClick:l,icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.XAH}),children:(0,n.jsx)(B.cC,{id:"NbFtQm"})})]}),o&&(0,n.jsx)(tj,{channel:i,workspaceId:t,onClose:d}),s&&(0,n.jsx)(tg,{channel:i,workspaceId:t,onClose:r})]})};var tb=t(39097),tf=t.n(tb);let tv=j.forwardRef((e,i)=>{let{tabKey:t,isSelected:s,isDropActive:l=!1,href:r,target:o,children:a,...d}=e;return(0,n.jsx)(tf(),{href:r,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(i9,{ref:i,isSelected:s,isDropActive:l,dataTestId:"sidebar-".concat(t,"-tab").concat(s?"--selected":""),target:o,...d,children:a})})});tv.displayName="SidebarItem";let ty=e=>{let{icon:i,title:t,faClassName:s,w:l,badge:r}=e;return(0,n.jsxs)(E.U,{justify:"flex-start",w:"100%",pr:r?3:void 0,children:[i&&(0,n.jsx)(U.G,{icon:i,fixedWidth:!0,className:s||void 0,size:"1x"}),(0,n.jsx)(T.x,{textOverflow:"ellipsis",overflowX:"hidden",ml:2,w:l,children:t}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee.L,{}),r]})]})},t_=e=>{let{isSelected:i,hasActivity:t}=e;return t&&z.V1P,i?eh.l7:eh.Ty},tS=e=>{let{activity:i,user:t}=e;if(!(null==i?void 0:i.activeUsers))return(0,n.jsx)(n.Fragment,{});let s=i_()(i.activeUsers,"id"),l=(0,tl.Yc)(s,null==t?void 0:t.id);return(0,n.jsx)(et.NL,{overflowTooltipLabel:es.ag._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:l.map(e=>{let{displayName:i,profileImageUrl:t,id:s}=e;return{name:i||"",id:s,profileImageUrl:t,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:e=>{e.preventDefault(),e.stopPropagation()}})},tA=e=>{var i,t;let{isPreview:s,channel:l,activeTab:r,currentChannelId:o,addDocToChannel:a,user:d}=e,c=(0,V.ye)("channelActivity"),[{canDrop:u,isOver:h},x]=(0,i7.L)(()=>({accept:tr,drop:e=>{a(e,l)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})})),p=r===tk.CHANNEL&&l.id===o,m=c&&!!((null==l?void 0:null===(i=l.activity)||void 0===i?void 0:i.activeUsers)&&(null==l?void 0:null===(t=l.activity)||void 0===t?void 0:t.activeUsers.length)>0),g=t_({isSelected:p,hasActivity:m});return(0,n.jsxs)(tv,{ref:x,"data-testid":"sidebar-item",tabKey:"".concat(tk.CHANNEL,"-").concat(l.id),isDropActive:h&&u,isSelected:p,href:(0,iR.j)({id:l.id,slug:l.slug}),opacity:s?"0.5":void 0,justifyContent:"space-between",w:"100%",children:[(0,n.jsx)(ty,{icon:g,title:l.name,faClassName:p&&m?"fa-beat-fade":void 0,w:"18ch"}),m&&(0,n.jsx)(tS,{activity:null==l?void 0:l.activity,user:d})]},l.id)},tE=e=>{let{channelPreview:i,channels:t,activeTab:s,currentChannelId:l,isChannelsLoading:r}=e,{user:o,currentWorkspace:a}=(0,d.SE)(),{isOpen:c,onClose:u,doc:h,handleAddDocToChannel:x,updateWorkspacePermissionThenAddToChannel:p}=tn(),{isOpen:m,onOpen:g,onClose:j}=(0,A.q)({id:"manageChannelsModalDisclosure"});return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.O,{h:"30px",w:"100%"}),(0,n.jsx)(F.O,{h:"30px",w:"100%"}),(0,n.jsx)(F.O,{h:"30px",w:"100%"})]}):(0,n.jsxs)(L.xu,{"data-testid":"sidebar-channels",w:"100%",children:[(0,n.jsxs)(E.U,{justify:"space-between",children:[(0,n.jsx)(et.NZ,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,n.jsx)(B.cC,{id:"HSh8u/"})}),(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"Mxy55o"}),children:(0,n.jsx)(Q.h,{"aria-label":es.ag._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,n.jsx)(U.G,{icon:z.r8p}),onClick:g})})]}),i&&(0,n.jsx)(tA,{isPreview:!0,channel:i,activeTab:s,currentChannelId:l,addDocToChannel:x,user:o},i.id),t.map(e=>(0,n.jsx)(tA,{channel:e,activeTab:s,currentChannelId:l,addDocToChannel:x,user:o},e.id)),0===t.length&&(0,n.jsxs)(L.xu,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,children:[(0,n.jsx)(T.x,{fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})}),(0,n.jsx)(T.x,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,n.jsx)(N.r,{color:"trueblue.600",href:"#",onClick:g,children:(0,n.jsx)(B.cC,{id:"Mxy55o"})})})]}),(0,n.jsx)(tp,{isOpen:m,onClose:j,workspaceId:null==a?void 0:a.id}),c&&(0,n.jsx)(ts,{doc:h,onSubmit:p,onClose:u})]})},tI=e=>{let{setIsSidebarVisible:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.K,{pt:2,children:[(0,n.jsx)(e2,{}),(0,n.jsx)(L.xu,{display:{sm:"lg",md:"none"},children:(0,n.jsx)(Q.h,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,n.jsx)(U.G,{icon:z.NBC}),onClick:()=>i(!1)})}),(0,n.jsx)(F.O,{w:"100%",height:"36px"})]}),(0,n.jsx)(F.O,{w:"100%",height:"30px",mt:4}),(0,n.jsx)(F.O,{w:"100%",height:"20px",mt:8}),(0,n.jsx)(F.O,{w:"100%",height:"30px",mt:4}),(0,n.jsx)(F.O,{w:"100%",height:"30px",mt:2}),(0,n.jsx)(F.O,{w:"100%",height:"30px",mt:2}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(u.k,{justify:"center",align:"flex-end",children:(0,n.jsx)(L.xu,{w:"30px",children:en.TR})})]})},tk={SHARED_WITH_ME:"shared-with-me",ALL:"all",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites",SETTINGS:"settings"},tD={...tk},tw={[tk.SHARED_WITH_ME]:{displayName:(0,n.jsx)(B.cC,{id:"lIbchQ"}),ariaLabel:es.ag._({id:"rt/fuz"}),icon:z.XCy,showCreateButton:!1},[tk.ALL]:{displayName:(0,n.jsx)(B.cC,{id:"W10xDz",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}}),ariaLabel:es.ag._({id:"W10xDz",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}}),icon:z.s2,showCreateButton:!0},[tk.SITES]:{displayName:(0,n.jsx)(B.cC,{id:"QHZRmq"}),ariaLabel:es.ag._({id:"QHZRmq"}),icon:z.g4A,showCreateButton:!0},[tk.CHANNEL]:{displayName:(0,n.jsx)(B.cC,{id:"HSh8u/"}),ariaLabel:es.ag._({id:"HSh8u/"}),icon:eh.Ty,showCreateButton:!0},[tk.TRASH]:{displayName:(0,n.jsx)(B.cC,{id:"GQ3O42"}),ariaLabel:es.ag._({id:"GQ3O42"}),icon:z.XAH,showCreateButton:!1},[tk.TEMPLATES]:{displayName:(0,n.jsx)(B.cC,{id:"iTylMl"}),ariaLabel:es.ag._({id:"iTylMl"}),icon:z.BDt,showCreateButton:!1},[tk.INSPIRATION]:{displayName:(0,n.jsx)(B.cC,{id:"K2fjhl"}),ariaLabel:es.ag._({id:"K2fjhl"}),icon:z.cnt,showCreateButton:!1},[tk.THEMES]:{displayName:(0,n.jsx)(B.cC,{id:"fJ3EbT"}),ariaLabel:es.ag._({id:"fJ3EbT"}),icon:z.q2v,showCreateButton:!1,description:(0,n.jsx)(B.cC,{id:"1kjnn4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq},components:{0:(0,n.jsx)("b",{}),1:(0,n.jsx)("b",{})}})},[tk.FONTS]:{displayName:(0,n.jsx)(B.cC,{id:"E3KfxC"}),ariaLabel:es.ag._({id:"E3KfxC"}),icon:z.gu6,showCreateButton:!1,description:(0,n.jsx)(B.cC,{id:"sWZ6Li",components:{0:(0,n.jsx)("b",{})}})},[tk.SETTINGS]:{displayName:(0,n.jsx)(B.cC,{id:"0dbeO4"}),ariaLabel:es.ag._({id:"0dbeO4"}),icon:z.b7W,showCreateButton:!1}},tT=e=>{let{channelPreview:i,isSidebarVisible:t,setIsSidebarVisible:s,isReady:l,activeTab:r,currentChannelId:o,channels:a,isChannelsLoading:c}=e,h=(0,V.ye)("intercom"),x=(0,X.fg)(),{product:p}=(0,ea.z)(),m=(0,eu.CG)(el.Lj),g=(0,eo.G)(),j=(0,d.d3)(),{isOpen:C,onOpen:b,onClose:f}=(0,A.q)({id:"workspace-settings-modal"}),{isOpen:v,onOpen:y,onClose:S}=(0,A.q)({id:"ai-credits-modal"});i6({openModal:b});let E=(0,V.ye)("workspaceSettings");return(0,n.jsxs)(u.k,{direction:"column",zIndex:"overlay",h:"100vh",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:t?"xl":"none",md:"none"},transform:t?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(-100%,0px)",md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,n.jsx)(u.k,{overflowY:"auto",h:"100vh",p:6,py:2,direction:"column",alignContent:"space-between",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.K,{children:[(0,n.jsx)(u.k,{alignItems:"flex-start",justify:"flex-end",children:(0,n.jsx)(L.xu,{display:{base:"block",md:"none"},children:(0,n.jsx)(Q.h,{size:"sm","aria-label":es.ag._({id:"62Ciis"}),variant:"ghost",icon:(0,n.jsx)(Z.T,{w:3}),onClick:()=>s(!1),isRound:!0})})}),(0,n.jsx)(e3,{onOpen:b}),(0,n.jsx)(_.Pu,{})]}),(0,n.jsx)(tP,{channelPreview:i,activeTab:r,currentChannelId:o,channels:a,isChannelsLoading:c}),(0,n.jsx)(L.xu,{w:"100%",pt:1,pb:3,children:(0,n.jsx)(J.i,{})}),j&&(0,n.jsx)(i9,{dataTestId:"invite-to-workspace",onClick:()=>{b()},children:(0,n.jsx)(ty,{icon:z.FKd,title:(0,n.jsx)(B.cC,{id:"qVqqmP"})})}),!1===x&&(0,n.jsx)(i9,{dataTestId:"ai-user-credits",onClick:y,children:(0,n.jsx)(ty,{icon:z.owJ,title:null===m?(0,n.jsx)($.$,{size:"xs"}):(0,n.jsx)(B.cC,{id:"IniQ/K",values:{availableCredits:m}})})}),E&&(0,n.jsx)(tv,{tabKey:tk.SETTINGS,isSelected:r===tk.SETTINGS,href:"/#".concat(tk.SETTINGS),children:(0,n.jsx)(ty,{icon:tw[tk.SETTINGS].icon,title:tw[tk.SETTINGS].displayName})}),h&&(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"+K37Nw"}),children:(0,n.jsx)(i9,{dataTestId:"contact-button",onClick:g,children:(0,n.jsx)(ty,{icon:z.RRR,title:(0,n.jsx)(B.cC,{id:"Bhgd0l"})})})}),!h&&(0,n.jsx)(i9,{dataTestId:"contact-button",href:"mailto:".concat(er.p),children:(0,n.jsx)(ty,{icon:z.FU$,title:(0,n.jsx)(B.cC,{id:"A0C9La"})})}),(0,n.jsx)(ee.L,{}),null===p?(0,n.jsx)(ec,{}):(0,n.jsx)(u.k,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,n.jsx)(L.xu,{fontSize:"12px",width:"30px",children:en.TR})})]}):(0,n.jsx)(tI,{setIsSidebarVisible:s})}),(0,n.jsx)(i3,{isOpen:C,onClose:f}),(0,n.jsx)(Y.H,{isOpen:v,onClose:S,credits:m,onOpen:y})]})},tP=e=>{let{channelPreview:i,activeTab:t,currentChannelId:s,channels:l,isChannelsLoading:r}=e,o=(0,V.ye)("customFonts"),a=(0,X._O)();return(0,n.jsxs)(ei.g,{"data-testid":"sidebar-tablist",mt:4,mb:2,w:"100%",spacing:1,children:[(0,n.jsxs)(I.K,{spacing:0,w:"100%",children:[(0,n.jsx)(tv,{tabKey:tk.ALL,isSelected:t===tk.ALL,href:"/#".concat(tk.ALL),children:(0,n.jsx)(ty,{icon:tw[tk.ALL].icon,title:tw[tk.ALL].displayName})}),a&&(0,n.jsx)(tv,{pr:-1,tabKey:tk.SITES,isSelected:t===tk.SITES,href:"/#".concat(tk.SITES),children:(0,n.jsx)(ty,{icon:tw[tk.SITES].icon,title:tw[tk.SITES].displayName,badge:(0,n.jsx)(k.C,{colorScheme:"green",lineHeight:"normal",fontSize:"xxs",children:(0,n.jsx)(B.cC,{id:"YBt9YP"})})})})]}),(0,n.jsx)(tE,{channelPreview:i,isChannelsLoading:r,channels:l,currentChannelId:s,activeTab:t}),(0,n.jsx)(L.xu,{w:"100%",pt:1,pb:2,children:(0,n.jsx)(J.i,{})}),!(0,i8.s2)()&&(0,n.jsx)(tv,{tabKey:tk.TEMPLATES,isSelected:t===tk.TEMPLATES,href:"/#".concat(tk.TEMPLATES),children:(0,n.jsx)(ty,{icon:tw[tk.TEMPLATES].icon,title:tw[tk.TEMPLATES].displayName})}),(0,n.jsx)(tv,{tabKey:tk.INSPIRATION,isSelected:t===tk.INSPIRATION,href:"/#".concat(tk.INSPIRATION),children:(0,n.jsx)(ty,{icon:tw[tk.INSPIRATION].icon,title:tw[tk.INSPIRATION].displayName})}),!(0,i8.s2)()&&(0,n.jsx)(tv,{tabKey:tk.THEMES,isSelected:t===tk.THEMES,href:"/#".concat(tk.THEMES),children:(0,n.jsx)(ty,{icon:tw[tk.THEMES].icon,title:tw[tk.THEMES].displayName})}),o&&!(0,i8.s2)()&&(0,n.jsx)(tv,{tabKey:tk.FONTS,isSelected:t===tk.FONTS,href:"/#".concat(tk.FONTS),children:(0,n.jsx)(ty,{icon:tw[tk.FONTS].icon,title:tw[tk.FONTS].displayName})}),(0,n.jsx)(tv,{tabKey:tk.TRASH,isSelected:t===tk.TRASH,href:"/#".concat(tk.TRASH),children:(0,n.jsx)(ty,{icon:tw[tk.TRASH].icon,title:tw[tk.TRASH].displayName})})]})},tO=()=>{let{isOpen:e,onOpen:i,onClose:t}=(0,A.q)({id:"ai-credits-modal"}),{isOpen:s,onOpen:l,onClose:r}=(0,A.q)({id:"create-site-modal"}),o=(0,X._O)(),a=(0,V.ye)("createSiteAi");(0,S.z$)();let d=o&&(!(0,i8.s2)()||(0,i8.s2)()),{push:c}=(0,m.useRouter)(),{credits:h,hasEnoughCreditsToGenerateDeck:x}=(0,q.qO)(),[p,g]=(0,j.useState)(!1),C=(0,j.useCallback)(async()=>{g(!0),await c("/create/generate?ref=sites-dashboard"),g(!1)},[c]),{displayName:b,ariaLabel:f,icon:v}=tw[tD.SITES];return(0,n.jsxs)(u.k,{flex:"1",mb:(0,i8.s2)()?0:4,direction:"column",children:[(0,n.jsx)(L.xu,{w:["100%","auto"],children:(0,n.jsx)(E.U,{h:"1.5em",children:(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"sites-view-header",children:[(0,n.jsx)(U.G,{icon:v,"aria-label":f})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:b})]})})}),d&&(0,n.jsxs)(u.k,{flex:"1",mb:(0,i8.s2)()?0:4,direction:"column",children:[(0,n.jsxs)(I.K,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[a&&(0,n.jsx)(O.z,{"data-testid":"create-from-aipartner-button",variant:"solid",onClick:C,isLoading:p,leftIcon:(0,n.jsx)(U.G,{icon:z.r8p}),rightIcon:(0,n.jsx)(k.C,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,n.jsx)(B.cC,{id:"6/5iNu"})}),!(0,i8.s2)()&&(0,n.jsx)(O.z,{w:"auto","data-testid":"create-site-button",isDisabled:!o,variant:a?"plain":"solid",onClick:l,leftIcon:(0,n.jsx)(U.G,{icon:z.r8p}),children:(0,n.jsx)(B.cC,{id:"h3eRam"})})]}),(0,n.jsx)(Y.H,{credits:h,isOpen:e,onClose:t,onOpen:i}),(0,n.jsx)(W.M,{isOpen:s,onClose:r})]})]})};var tN=t(11881),tL=t(82729),tR=t(90763),tM=t(16426),tF=t(15041),tz=t(332),tU=t(48832);let tB=e=>{var i,t,s;let{site:l}=e,{isOpen:r,onOpen:o,onClose:a}=(0,A.q)({id:"site-menu-".concat(null==l?void 0:l.id)}),d=l&&(0,tF.AR)({site:l,path:"/"});return l?(0,n.jsxs)(em.v,{isLazy:!0,closeOnSelect:!1,children:[(0,n.jsx)(eg.j,{"data-dashboard-site-menu":!0,as:Q.h,size:"xs",variant:"ghost",borderRadius:"full",onClick:o,icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.cNd}),color:"gray.400",_hover:{color:"gray.800",bg:"gray.200"},children:(0,n.jsx)(B.cC,{id:"7L01XJ"})}),r&&l&&(0,n.jsx)(tz.h,{children:(0,n.jsxs)(ej.q,{maxW:"sm",zIndex:"overlay",children:[(0,n.jsxs)(L.xu,{px:4,py:0,wordBreak:"break-word",children:[(0,n.jsx)(T.x,{children:null==l?void 0:l.name}),(0,n.jsx)(T.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(B.cC,{id:"MXSt4t",values:{0:(0,tU.p6)(null==l?void 0:l.createdTime,"MMMM do, yyyy")}})}),(null==l?void 0:null===(i=l.createdBy)||void 0===i?void 0:i.email)&&(null==l?void 0:null===(t=l.createdBy)||void 0===t?void 0:t.email)&&(0,n.jsx)(et.kH,{label:null==l?void 0:null===(s=l.createdBy)||void 0===s?void 0:s.email,children:(0,n.jsx)(T.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(B.cC,{id:"t490IT",values:{0:l.createdBy.displayName}})})})]}),d&&(null==l?void 0:l.currentDeployment)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eb.R,{}),(0,n.jsx)(eC.s,{href:d,as:tf(),target:"_blank",icon:(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.ZE5}),children:(0,n.jsx)(B.cC,{id:"OHFiKG"})})]})]})})]}):(0,n.jsx)(n.Fragment,{})},tG=e=>"recent"===e||"favorites"===e,tH=e=>({all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:K.IX5.LastViewed,direction:K.SrV.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:K.IX5.Favorited,direction:K.SrV.Desc}}}}),tK=e=>{let{sortBy:i,filterBy:t,docUser:s,doc:l}=e;if("favorites"===t)return(0,n.jsx)(B.cC,{id:"8a9FIL",values:{0:(0,tU.Dw)(null==s?void 0:s.favorited)}});if("recent"===t)return(0,n.jsx)(B.cC,{id:"yJynx8",values:{0:(0,tU.Dw)(null==s?void 0:s.lastViewed)}});let r={[K.IX5.LastViewed]:(0,n.jsx)(B.cC,{id:"yJynx8",values:{0:(0,tU.Dw)(null==s?void 0:s.lastViewed)}}),[K.IX5.CreatedTime]:(0,n.jsx)(B.cC,{id:"oJFw5Q",values:{0:(0,tU.Dw)(null==l?void 0:l.createdTime)}}),[K.IX5.EditedTime]:(0,n.jsx)(B.cC,{id:"yxz5Og",values:{0:(0,tU.Dw)(null==l?void 0:l.editedTime)}})};return(null==r?void 0:r[i])||(0,n.jsx)(B.cC,{id:"yxz5Og",values:{0:(0,tU.Dw)(null==l?void 0:l.editedTime)}})},tV=e=>{var i;let{site:t,doc:s,sortBy:l,filterBy:r}=e,{user:o}=(0,d.SE)(),a=(null==t?void 0:t.createdBy)||(null==s?void 0:s.createdBy),c=(null==t?void 0:t.previewUrl)||(null==s?void 0:null===(i=s.titleCard)||void 0===i?void 0:i.previewUrl),{docUser:h}=s||{},x=s&&tK({sortBy:l,docUser:h,filterBy:r,doc:s}),p=null==t?void 0:t.id,m=(null==s?void 0:s.id)?s.id:t&&"routes"in t?(0,tF.eQ)(t):void 0,g=(0,tF.Zz)((0,tF.ms)(null==t?void 0:t.domains))[0],C=(0,j.useMemo)(()=>m&&p&&(0,iR.yQ)({docId:m}),[m,p]),b=(null==t?void 0:t.enabled)&&!(null==t?void 0:t.archived)&&!(null==s?void 0:s.archived);return C?(0,n.jsxs)(tN.f,{as:M.P,bg:"linen.50",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.100"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(0,n.jsx)(L.xu,{pos:"absolute",top:-2,left:2,right:2,bottom:"calc(66%)",border:"1px solid var(--chakra-colors-blackAlpha-300)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(0,n.jsx)(L.xu,{pos:"absolute",top:-1,left:1,right:1,bottom:"calc(66%)",bg:"whiteAlpha.900",border:"1px solid var(--chakra-colors-blackAlpha-400)",zIndex:0,borderRadius:"md"}),(0,n.jsxs)(u.k,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",bg:"white",_hover:{bgColor:"gray.100"},borderBottomRadius:"md",children:[(0,n.jsx)(tN.A,{href:C,as:tf(),borderRadius:"md",children:(0,n.jsx)(tL.o,{ratio:40/21,bgColor:"gray.100",children:(0,n.jsxs)(u.k,{borderBottomWidth:"1px",borderBottomColor:"gray.100",pos:"relative",overflow:"hidden",borderTopRadius:"md",children:[(0,n.jsx)(w.E,{src:c,fit:"cover",fallbackSrc:tM.Z.src}),(null==t?void 0:t.enabled)&&(0,n.jsx)(k.C,{pos:"absolute",size:"xs",bottom:2,left:2,colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,n.jsxs)(E.U,{spacing:1,children:[(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.Xj}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"ebQKK7"})})]})})]})})}),(0,n.jsxs)(u.k,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,n.jsx)(tN.A,{href:C,as:tf(),children:(0,n.jsxs)(I.K,{spacing:0,mb:2,children:[(0,n.jsx)(T.x,{noOfLines:2,children:null==t?void 0:t.name}),(0,n.jsxs)(E.U,{children:[(null==t?void 0:t.faviconUrl)&&(0,n.jsx)(w.E,{maxW:"16px",maxH:"16px",src:null==t?void 0:t.faviconUrl}),(0,n.jsx)(T.x,{noOfLines:1,color:"gray.500",fontSize:"xs",wordBreak:"break-all",children:null==g?void 0:g.name})]})]})}),(0,n.jsx)(u.k,{direction:"column",w:"100%",children:(0,n.jsxs)(u.k,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[a&&(0,n.jsx)(tR.l,{createdByYou:a.id===(null==o?void 0:o.id),createdByName:a.displayName||es.ag._({id:"rtir7c"}),createdByProfileImageUrl:a.profileImageUrl,timestampDescription:x}),(0,n.jsx)(ee.L,{}),b&&(0,n.jsx)(tB,{site:t})]})})]})]})]}):(0,n.jsx)(n.Fragment,{})},tW=e=>{let{setIsSidebarVisible:i,isSidebarVisible:t,children:s}=e,{currentWorkspace:l}=(0,d.SE)();return(0,n.jsxs)(L.xu,{w:"100%",mb:6,maxW:"100%",children:[(0,n.jsxs)(L.xu,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,n.jsxs)(u.k,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,n.jsx)(Q.h,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,n.jsx)(U.G,{icon:z.xiG}),size:"sm",mr:2,ml:-2,onClick:()=>i(!t),isRound:!0}),(0,n.jsxs)(u.k,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,n.jsx)(T.x,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==l?void 0:l.name}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(en.DY,{})]})]}),(0,n.jsx)(J.i,{})]}),s]})},tY={base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},tq=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{currentWorkspace:s}=(0,d.SE)(),l=(0,V.ye)("createSiteAi"),{push:r}=(0,m.useRouter)(),{isOpen:o,onOpen:a,onClose:c}=(0,A.q)({id:"create-site-modal"}),[h,x]=(0,j.useState)(!1),{data:p,loading:g,error:C}=(0,K.bBo)({variables:{workspaceId:null==s?void 0:s.id},skip:!(null==s?void 0:s.id),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),b=(0,j.useCallback)(async()=>{l?(x(!0),await r("/create/generate?ref=sites-dashboard"),x(!1)):a()},[l,a,r]),f=(null==p?void 0:p.sites)&&H()(null==p?void 0:p.sites,"updatedTime","desc");return!f||0!==f.length||g||C?(0,n.jsxs)(L.xu,{w:"100%","data-testid":"sites-view-container",children:[(0,n.jsx)(tW,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,n.jsx)(tO,{})}),(0,n.jsxs)(I.K,{children:[g&&(0,n.jsxs)(R.r,{templateColumns:tY,gap:6,children:[(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O}),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O}),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O})]}),!g&&!C&&(0,n.jsx)(R.r,{templateColumns:tY,gap:6,children:null==f?void 0:f.map(e=>(0,n.jsx)(tV,{site:e},e.id))})]}),(0,n.jsx)(W.M,{isOpen:o,onClose:c})]}):(0,n.jsxs)(E.U,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,n.jsxs)(I.K,{align:"flex-start",justify:"center",spacing:6,flex:1,children:[(0,n.jsx)(E.U,{children:(0,n.jsx)(k.C,{colorScheme:"green",children:(0,n.jsx)(B.cC,{id:"YBt9YP"})})}),(0,n.jsx)(D.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",children:(0,n.jsx)(B.cC,{id:"2xMidw"})}),(0,n.jsx)(u.k,{flex:1,display:{base:"flex",lg:"none"},children:(0,n.jsx)(w.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,n.jsx)(T.x,{fontSize:"lg",children:(0,n.jsx)(B.cC,{id:"Vg3hxF"})}),(0,n.jsxs)(P.h,{size:"lg",children:[(0,n.jsx)(O.z,{variant:"solid",onClick:b,isLoading:h,children:(0,n.jsx)(B.cC,{id:"JHMOcq"})}),(0,n.jsx)(O.z,{as:N.r,variant:"plain",isExternal:!0,href:"https://help.gamma.app/en/articles/8429268-how-to-publish-your-page-to-a-custom-domain",rightIcon:(0,n.jsx)(U.G,{icon:z.gJF}),children:(0,n.jsx)(B.cC,{id:"zwWKhA"})})]})]}),(0,n.jsx)(u.k,{flex:1,display:{base:"none",lg:"flex"},children:(0,n.jsx)(w.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,n.jsx)(W.M,{isOpen:o,onClose:c})]})};var tX=t(46402),tZ=t(14223);let tQ=e=>'[data-doc-grid-item-id="'.concat(e,'"]'),tJ=j.memo(e=>{let{user:i,currentWorkspace:t,currentChannelId:s,viewPreference:l}=e,r=(0,V.ye)("screenshotsEnabled"),o=(0,j.useRef)(null),a=(0,j.useRef)(null),[d,c]=(0,j.useState)(null),h=(0,tX.N)(),x=h.getMonitor();(0,j.useEffect)(()=>x.subscribeToOffsetChange(()=>{let e=x.getItem();if(!e||!o.current||!a.current)return;let i=x.getClientOffset();if(!i)return;let{x:t,y:s}=i;o.current.style.transform="translate(".concat(t,"px, ").concat(s,"px)")}),[x]),(0,j.useEffect)(()=>x.subscribeToStateChange(()=>{let e=x.getItemType(),i=x.getItem();if(e!==tr||null===i){c(null),o.current.style.transform="translate(0px, 0px)";return}let t=document.querySelector(tQ(i.id));if(t){let e=t.getBoundingClientRect();a.current.style.width="".concat(e.width,"px"),a.current.style.height="".concat(e.height,"px")}c(i)}),[x]);let p=(0,j.useMemo)(()=>{var e,o,a,c,h;if(!d)return null;let x=(0,tt.nZ)({doc:d,user:i,currentWorkspace:t,channelToExclude:s}),p={src:r?null===(e=d.titleCard)||void 0===e?void 0:e.previewUrl:tM.Z.src,fallbackSrc:tM.Z.src};return"list"===l?(0,n.jsx)(iz.i,{width:"100%",children:(0,n.jsxs)(iB.Tr,{children:[(0,n.jsx)(iK.Td,{}),(0,n.jsx)(iK.Td,{w:"50%",children:d.title||""}),(0,n.jsx)(iK.Td,{children:(0,n.jsx)(et.MY,{tags:x,NextLink:tf()})}),(0,n.jsx)(iK.Td,{color:"gray.600"}),(0,n.jsx)(iK.Td,{children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ep.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==d?void 0:null===(c=d.createdBy)||void 0===c?void 0:c.profileImageUrl}),(0,n.jsx)(T.x,{children:null==d?void 0:null===(h=d.createdBy)||void 0===h?void 0:h.displayName})]})})]})}):(0,n.jsx)(tZ.F7,{id:"temp",title:d.title||"",thumbnailImageUrl:p,NextLink:u.k,createdTime:d.createdTime,href:"",editors:d.editors,tags:x,createdByName:(null===(o=d.createdBy)||void 0===o?void 0:o.displayName)||"",createdByProfileImageUrl:null===(a=d.createdBy)||void 0===a?void 0:a.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[d,i,t,r,s,l]);return(0,n.jsx)(tz.h,{children:(0,n.jsx)(u.k,{ref:o,display:d?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,n.jsx)(u.k,{ref:a,transform:"scale(".concat(d?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:p})})})});tJ.displayName="DocGridItemCustomDragLayer";var t$=t(92843);function t0(){return s||((s=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),s}let t1=(0,j.memo)(e=>{let{user:i,currentWorkspace:t,doc:s,currentChannelId:l,sortBy:r,filterBy:o,canDuplicate:a,canEditDoc:d,canManageDoc:c,createdByYou:u,cardThumbnails:h,fetchThumbnails:x,handleDuplicateDoc:p,handleFavoriteDoc:m,handleTrash:g,handlePermanentDelete:C,handleRestoreDoc:b,handleShareClick:f,handleRenameClick:v,handleRemoveFromChannel:y}=e,{id:_,title:S,createdTime:A,archived:E,titleCard:I,docUser:k,createdBy:D}=s,w=tK({sortBy:r,docUser:k,filterBy:o,doc:s}),T=(0,V.ye)("screenshotsEnabled"),P=(0,tt.nZ)({doc:s,user:i,currentWorkspace:t,channelToExclude:l}),O={src:T?null==I?void 0:I.previewUrl:tM.Z.src,fallbackSrc:tM.Z.src},N=!!l,L=!!s.site,[R,M,F]=(0,t$.c)({type:tr,item:()=>s,options:{dropEffect:"copy",doc:s},collect:e=>({isDragging:e.isDragging()})},[c,s]);(0,j.useEffect)(()=>{F(t0())},[F]);let z=(0,j.useCallback)(()=>{T&&x(s.id)},[s.id,x,T]);return L?(0,n.jsx)(tV,{site:s.site,doc:s,filterBy:o,sortBy:r}):(0,n.jsx)(tZ.F7,{ref:M,id:_,title:S||"",thumbnailImageUrl:O,NextLink:tf(),href:(0,iR.Gn)({docId:_}),createdByYou:u,createdTime:A,timestampDescription:w,createdByName:(null==D?void 0:D.displayName)||"",createdByProfileImageUrl:null==D?void 0:D.profileImageUrl,createdByEmail:(null==D?void 0:D.email)||"",isDuplicateEnabled:a,isShareEnabled:d,isRenameEnabled:d,isTrashAndRestoreEnabled:c,isTrashed:E,isFavorited:!!(null==k?void 0:k.favorited),isRemoveFromChannelEnabled:N,onDuplicate:()=>p(s),onFavorite:m(new Date,s),onUnfavorite:m(null,s),onTrash:()=>g(s.id),onPermanentDelete:C?()=>C(s):void 0,onRestore:()=>b(s.id),onShareClick:()=>f(s.id),onRename:()=>v(s),onRemoveFromChannel:()=>y(s,l),tags:P,menuEnabled:!0,cardThumbnails:T?h:[],onMouseEnter:z},_)});t1.displayName="DocGridItemWrapper";var t2=t(56581);let t5=e=>{var i;let{sortBy:t,sortDirection:s,setSortBy:l,setSortDirection:r,size:o="sm",dateDisplayOption:a,setDateDisplayOption:d,options:c,showSortOrderToggle:u}=e;return(0,n.jsxs)(P.h,{variant:"ghost",colorScheme:"blackAlpha",size:o,ml:-3,children:[(0,n.jsxs)(em.v,{closeOnSelect:!1,children:[(0,n.jsx)(eg.j,{as:O.z,variant:"ghost",size:o,rightIcon:(0,n.jsx)(U.G,{icon:z.ptq,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null===(i=c.find(e=>e.key===a))||void 0===i?void 0:i.label)||"Date"}),(0,n.jsx)(tz.h,{children:(0,n.jsx)(ej.q,{minWidth:"240px",children:(0,n.jsx)(ef._,{fontSize:"sm",defaultValue:"alpha",title:es.ag._({id:"IEY4J0"}),type:"radio",children:c.map(e=>{let i=a===e.key;return(0,n.jsx)(eC.s,{icon:i?(0,n.jsx)(t2.n,{}):(0,n.jsx)(L.xu,{w:3}),value:e.key,onClick:()=>{d(e.key),l(e.key),r(K.SrV.Desc)},children:e.label},e.key)})})})})]}),u&&(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"TZml21"}),children:(0,n.jsx)(Q.h,{color:"title"!==t?"gray.700":"gray.300","aria-label":"sort",onClick:()=>{t!==K.IX5.Title?r(s===K.SrV.Asc?K.SrV.Desc:K.SrV.Asc):r(K.SrV.Desc),l(a)},icon:(0,n.jsx)(U.G,{icon:z.RXu})})})]})},t3=[{key:K.IX5.EditedTime,label:(0,n.jsx)(B.cC,{id:"acZeX2"})},{key:K.IX5.CreatedTime,label:(0,n.jsx)(B.cC,{id:"u46WEi"})}],t4=[{key:K.IX5.LastViewed,label:(0,n.jsx)(B.cC,{id:"UOgIR2"})},{key:K.IX5.LastEdited,label:(0,n.jsx)(B.cC,{id:"acZeX2"})},{key:K.IX5.Favorited,label:(0,n.jsx)(B.cC,{id:"2TANrw"})}],t6=tD.ALL,t8=K.IX5.EditedTime,t9=[K.IX5.LastViewed,K.IX5.LastEdited,K.IX5.Favorited];var t7=t(20678),se=t(89099),si=t(73871);let st=e=>{var i,t;let{doc:s,dateDisplayOption:n}=e,l=null==s?void 0:s.updatedTime;n===K.IX5.LastViewed&&(l=null==s?void 0:null===(i=s.docUser)||void 0===i?void 0:i.lastViewed),n===K.IX5.Favorited&&(l=null==s?void 0:null===(t=s.docUser)||void 0===t?void 0:t.favorited),n===K.IX5.CreatedTime&&(l=null==s?void 0:s.createdTime);try{return"".concat((0,si.Z)(new Date,(0,is.Z)(l))," ago")}catch(e){return"--"}},ss=e=>{var i,t,s;let{doc:l,dateDisplayOption:r}=e,o=(0,iR.Gn)({docId:l.id}),a=st({doc:l,dateDisplayOption:r}),{site:d}=l||{};return(0,n.jsxs)(iB.Tr,{_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":l.id,children:[(0,n.jsx)(iK.Td,{}),(0,n.jsx)(iK.Td,{minW:"280px",children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(tf(),{href:o,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(N.r,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:(null==d?void 0:d.name)||l.title})}),(0,n.jsx)(k.C,{size:"xs",colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,n.jsxs)(E.U,{spacing:1,children:[(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.Xj}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"ebQKK7"})})]})}),(null==d?void 0:d.routes)&&(null==d?void 0:null===(i=d.routes)||void 0===i?void 0:i.length)>1&&(0,n.jsx)(k.C,{colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",children:(0,n.jsxs)(E.U,{spacing:1,children:[(0,n.jsx)(U.G,{fixedWidth:!0,icon:z.s2}),(0,n.jsx)(T.x,{children:null==d?void 0:d.routes.length})]})})]})}),(0,n.jsx)(iK.Td,{zIndex:2,_groupHover:{opacity:1}}),(0,n.jsx)(iK.Td,{color:"gray.600",pr:-2,children:(0,n.jsx)(T.x,{children:a})}),(0,n.jsx)(iK.Td,{alignContent:"center",pr:-2,children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ep.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==l?void 0:null===(t=l.createdBy)||void 0===t?void 0:t.profileImageUrl}),(0,n.jsx)(T.x,{children:null==l?void 0:null===(s=l.createdBy)||void 0===s?void 0:s.displayName})]})}),(0,n.jsx)(iK.Td,{isNumeric:!0,children:(0,n.jsx)(tB,{site:l.site})})]},l.id)},sn=e=>{var i,t;let{doc:s,dateDisplayOption:n}=e,l=null==s?void 0:s.updatedTime;n===K.IX5.LastViewed&&(l=null==s?void 0:null===(i=s.docUser)||void 0===i?void 0:i.lastViewed),n===K.IX5.Favorited&&(l=null==s?void 0:null===(t=s.docUser)||void 0===t?void 0:t.favorited),n===K.IX5.CreatedTime&&(l=null==s?void 0:s.createdTime);try{return"".concat((0,si.Z)(new Date,(0,is.Z)(l))," ago")}catch(e){return"--"}},sl=e=>{var i,t,s;let{doc:l,handleShareClick:r,dateDisplayOption:o,tags:a,handleFavoriteDoc:d,user:c,menu:u,canManageDoc:h}=e,x=(0,iR.Gn)({docId:l.id}),p=sn({doc:l,dateDisplayOption:o}),[m,g,C]=(0,t$.c)({type:tr,item:()=>l,options:{dropEffect:"copy",doc:l},collect:e=>({isDragging:e.isDragging()})},[h,l]);return((0,j.useEffect)(()=>{C(t0())},[C]),l.site)?(0,n.jsx)(ss,{doc:l,dateDisplayOption:o}):(0,n.jsxs)(iB.Tr,{ref:g,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":l.id,children:[(0,n.jsx)(iK.Td,{children:d&&(0,n.jsx)(tZ._6,{isFavorited:!!(null==l?void 0:null===(i=l.docUser)||void 0===i?void 0:i.favorited),onFavorite:d(new Date,l),onUnfavorite:d(null,l)})}),(0,n.jsx)(iK.Td,{minW:"280px",children:(0,n.jsx)(tf(),{href:x,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(N.r,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:l.title||""})})}),(0,n.jsx)(iK.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,n.jsxs)(se.E,{_groupHover:{opacity:1},children:[(0,n.jsx)(et.MY,{tags:a,NextLink:tf(),overflowButtonLabel:es.ag._({id:"K0UBDD"})}),(0,tt.uG)(l,c)?(0,n.jsxs)(O.z,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.800",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:()=>r(l.id),children:[(0,n.jsx)(B.cC,{id:"Z8lGw6"}),"…"]}):null]})}),(0,n.jsx)(iK.Td,{color:"gray.600",pr:-2,children:(0,n.jsx)(T.x,{children:p})}),(0,n.jsx)(iK.Td,{alignContent:"center",pr:-2,children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(ep.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==l?void 0:null===(t=l.createdBy)||void 0===t?void 0:t.profileImageUrl}),(0,n.jsx)(T.x,{children:null==l?void 0:null===(s=l.createdBy)||void 0===s?void 0:s.displayName})]})}),(0,n.jsx)(iK.Td,{isNumeric:!0,children:!!u&&u})]},l.id)},sr=(e,i)=>{let t=tG(e),s=!t||"recent"===e&&i===K.IX5.LastViewed||"favorites"===e&&i===K.IX5.Favorited;return{displayOptions:t?t4:t3,showSortOrderToggle:s,enableTitleSort:!t}},so=e=>{let{user:i,currentWorkspace:t,userHasNoWorkspaces:s,docs:l,currentChannelId:r,dateDisplayOption:o,sortBy:a,sortDirection:c,setDateDisplayOption:u,setSortBy:h,setSortDirection:x,filterBy:p,handleDuplicateDoc:m,handleFavoriteDoc:g,handleTrash:j,handlePermanentDelete:C,handleRestoreDoc:b,handleShareClick:f,handleRenameClick:v,handleRemoveFromChannel:y}=e,_=(0,d.we)(),{displayOptions:S,showSortOrderToggle:A,enableTitleSort:E}=sr(p,o);return(0,n.jsx)(iF.x,{pt:4,maxW:"100%",children:(0,n.jsxs)(iz.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,n.jsx)(iU.h,{children:(0,n.jsxs)(iB.Tr,{color:"gray.800",children:[(0,n.jsx)(iG.Th,{w:4}),(0,n.jsxs)(iG.Th,{justifyContent:"space-between",minW:"280px",children:[E&&(0,n.jsx)(O.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{h(K.IX5.Title),x(c===K.SrV.Asc?K.SrV.Desc:K.SrV.Asc)},rightIcon:(0,n.jsx)(L.xu,{color:a===K.IX5.Title?"gray.700":"gray.300",children:(0,n.jsx)(U.G,{icon:a===K.IX5.Title?c===K.SrV.Asc?ey.eW2:ey.l1h:ey.CmM})}),children:(0,n.jsx)(B.cC,{id:"MHrjPM"})}),!E&&"Title"]}),(0,n.jsx)(iG.Th,{children:(0,n.jsx)(B.cC,{id:"HSh8u/"})}),(0,n.jsx)(iG.Th,{w:32,pr:-2,children:(0,n.jsx)(t5,{size:"sm",sortBy:a,sortDirection:c,setSortBy:h,setSortDirection:x,options:S,showSortOrderToggle:A,exclude:[K.IX5.Title],dateDisplayOption:o,setDateDisplayOption:u})}),(0,n.jsx)(iG.Th,{w:32,children:(0,n.jsx)(B.cC,{id:"UE2beD"})}),(0,n.jsx)(iG.Th,{})]})}),(0,n.jsx)(iH.p,{children:null==l?void 0:l.map(e=>{var l,a,d;let c=_.can("view",e)&&!s,u=_.can("manage",e)&&!s,h=_.can("edit",e)&&!s,x=(0,tt.nZ)({doc:e,user:i,currentWorkspace:t,channelToExclude:r}),p=!!r;return(0,n.jsx)(sl,{canManageDoc:u,user:i,tags:x,doc:e,dateDisplayOption:o,handleFavoriteDoc:g,handleShareClick:f,menu:(0,n.jsx)(tZ.Ot,{href:(0,iR.Gn)({docId:e.id}),title:(0,t7.$)(e.title),createdByName:(null==e?void 0:null===(l=e.createdBy)||void 0===l?void 0:l.displayName)||"",createdByEmail:(null==e?void 0:null===(a=e.createdBy)||void 0===a?void 0:a.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:u,isRenameEnabled:h,isRemoveFromChannelEnabled:p,isShareEnabled:h,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null===(d=e.docUser)||void 0===d?void 0:d.favorited,onDuplicate:()=>m(e),onFavorite:g(new Date,e),onUnfavorite:g(null,e),onTrash:()=>j(e.id),onPermanentDelete:C?()=>C(e):void 0,onRestore:()=>b(e.id),onShareClick:()=>f(e.id),onRename:()=>v(e),onRemoveFromChannel:()=>y(e,r)})},e.id)})})]})})};var sa=t(51456);let sd=e=>{let{refetchQueries:i}=e,{user:t}=(0,d.SE)(),s=(0,eD.p)(),[l]=(0,K.LT4)({refetchQueries:i}),[r,{loading:o}]=(0,K.y2l)({refetchQueries:i}),[a]=(0,K.iX9)({refetchQueries:i}),[c]=(0,K.$4k)({refetchQueries:i}),u=(0,j.useCallback)((e,i)=>()=>{if(!t||!i)return;let s={input:{docId:i.id,userId:null==t?void 0:t.id,favorited:e}};c({variables:s,update:(e,t)=>{let{data:s}=t;e.writeFragment({id:"Doc:".concat(i.id),fragment:K.VRt,data:{docUser:null==s?void 0:s.updateDocUser}})},optimisticResponse:{updateDocUser:{...i.docUser,favorited:s.input.favorited,__typename:"DocUser"}}})},[c,t]),h=(0,j.useCallback)(e=>{let i={id:e};a({variables:i,optimisticResponse:{unarchiveDoc:{...i,archived:!1,__typename:"Doc"}}}).then(()=>{s({title:(0,n.jsx)(B.cC,{id:"nRyNMz"}),status:"success",duration:1e4,position:"top"})})},[a,s]),x=(0,j.useCallback)(e=>{let i={id:e};l({variables:i,optimisticResponse:{archiveDoc:{...i,archived:!0,__typename:"Doc"}}}).then(()=>{s({title:(0,n.jsxs)(T.x,{children:[(0,n.jsx)(B.cC,{id:"i3Wq9L",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc}})," ",(0,n.jsx)(N.r,{textDecoration:"underline",onClick:()=>h(e),children:(0,n.jsx)(B.cC,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top",isClosable:!0})})},[l,h,s]),p=(0,j.useCallback)(e=>r({variables:{id:e},update:i=>{i.evict({id:i.identify({__typename:"Doc",id:e})}),i.gc()},optimisticResponse:{deleteDoc:e}}).then(()=>{s({title:(0,n.jsx)(B.cC,{id:"sOg7tZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc}}),position:"top",status:"success",duration:3e3})}).catch(()=>{s({title:(0,n.jsx)(B.cC,{id:"SlfejT"}),description:(0,n.jsx)(B.cC,{id:"fWsBTs"}),status:"error",duration:3e3,position:"top",isClosable:!0})}),[r,s]);return{favoriteDoc:u,restoreDoc:h,trashDoc:x,permanentlyDeleteDoc:p,isPermanentlyDeletingDoc:o}},sc=e=>{let{onClose:i,doc:t}=e,{permanentlyDeleteDoc:s,isPermanentlyDeletingDoc:l}=sd({refetchQueries:["GetDocs","GetChannelDocActivity"]}),r=(0,j.useCallback)(()=>{s&&s(t.id).then(i)},[t.id,i,s]);return(0,n.jsxs)(ew.u_,{onClose:i,isOpen:!0,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"u85NBF"})}),(0,n.jsx)(eN.o,{isDisabled:l}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(I.K,{spacing:4,children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"dLUUOA",values:{0:t.title}})}),(0,n.jsx)(T.x,{color:"red.500",children:(0,n.jsx)(B.cC,{id:"2xOCJW"})})]})}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"red",onClick:r,isLoading:l,children:(0,n.jsx)(B.cC,{id:"0Lbaux"})})]})})]})]})};var su=t(60740),sh=t(12136),sx=t(64368);let sp=e=>{var i,t;let{activeTab:s,currentChannelId:n,channelPreview:l,filterBy:r,sortBy:o,sortDirection:a,user:d,currentWorkspace:c}=e,u=(0,V.ye)("channelActivity"),h={filter:{},ready:!0};n?h={filter:{channelId:n,...tH(d)[r].filter},ready:!0}:s===tD.ALL||s===tD.SITES?h=tH(d)[r]:s===tD.TRASH&&(h={filter:{archived:!0},ready:!0});let x={workspaceId:null==c?void 0:c.id,first:50,archived:!1,...h.filter,sortBy:{field:s===tD.TRASH?t9.includes(o)?K.IX5.EditedTime:o:"recent"===r?K.IX5.LastViewed:"favorites"===r?K.IX5.Favorited:o,direction:a}},p=!!(null==l?void 0:l.id),m=n||(null==l?void 0:l.id),{data:g,networkStatus:C,fetchMore:b}=(0,K.HHH)({variables:x,skip:!d||!h.ready||p,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),{data:f}=(0,K.sCo)({variables:{first:50,channelId:null==l?void 0:l.id},skip:!p}),v=!u||!m,{data:y,subscribeToMore:_}=(0,K.nJh)({variables:{first:50,channelId:m},skip:v,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});(0,j.useEffect)(()=>{if(_&&!v)return _({document:K.EMb,variables:{channelId:m},updateQuery:(e,i)=>{let{subscriptionData:t}=i;if(!t.data||!t.data.channelDocActivity)return e;let s=t.data.channelDocActivity,n=s.slice(0,50).map(e=>({node:e}));return{channelDocActivity:{edges:n,pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}}})},[m,_,v]);let S=p?null==f?void 0:f.previewChannelDocs:null==g?void 0:g.docs,A=(null==y?void 0:null===(i=y.channelDocActivity)||void 0===i?void 0:i.edges)&&(null==y?void 0:null===(t=y.channelDocActivity)||void 0===t?void 0:t.edges.map(e=>e.node).filter(e=>e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0))||void 0,E=null==S?void 0:S.edges.map(e=>e.node).filter(e=>{var i;return!n||(null==e?void 0:null===(i=e.channels)||void 0===i?void 0:i.find(e=>e.id===n))}),I=null==g?void 0:g.docs.pageInfo,k=null==I?void 0:I.endCursor,D=(0,j.useCallback)(()=>b({variables:{after:k}}),[b,k]),w=[sx.I.loading,sx.I.setVariables].includes(C),T=!w&&(null==I?void 0:I.hasNextPage)&&(null==I?void 0:I.endCursor);return console.debug("%c[useDocsData]","background-color:aqua",{sortBy:o,sortDirection:a,filterInfo:h,variables:x,networkStatus:C,docs:E}),{docs:E,loading:w,pageInfo:I,fetchMore:D,showPaginationControls:T,activeDocs:A}};var sm=t(89458),sg=t(88640);let sj=e=>{let{currentChannelId:i,activeTab:t}=e,[s,n]=(0,sm.I)(sg.H.viewPreferences,"grid"),[l,r]=(0,j.useState)(K.IX5.EditedTime),[o,a]=(0,j.useState)(K.SrV.Desc),[d,c]=(0,j.useState)(()=>i?"all":"recent"),[u,h]=(0,j.useState)(t8);return(0,j.useEffect)(()=>{t===tD.ALL?c("recent"):c("all")},[i,t,c]),(0,j.useEffect)(()=>{"createdByYou"===d?(h(K.IX5.CreatedTime),r(K.IX5.CreatedTime)):"recent"===d?h(K.IX5.LastViewed):"favorites"===d?h(K.IX5.Favorited):(r(K.IX5.EditedTime),h(K.IX5.EditedTime))},[d,r,h]),{viewPreference:s,setViewPreference:n,sortBy:l,setSortBy:r,sortDirection:o,filterBy:d,setFilterBy:c,setSortDirection:a,dateDisplayOption:u,setDateDisplayOption:h}},sC=()=>(0,n.jsx)(to.M,{minH:"sm",children:(0,n.jsxs)(u.k,{direction:"column",justify:"center",align:"center",children:[(0,n.jsx)(L.xu,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,n.jsx)(tu(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,n.jsx)(D.X,{size:"md",mb:2,textAlign:"center",children:(0,n.jsx)(B.cC,{id:"ZxwTXP",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq}})}),(0,n.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,n.jsx)(B.cC,{id:"y1jRzK",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:v.aq},components:{0:(0,n.jsx)(N.r,{as:tf(),color:"trueblue.500",href:"/#".concat(t6)})}})})]})}),sb=[,,].fill(1),sf=[,,,,].fill(1),sv=e=>{let{viewPreference:i="grid"}=e;return"grid"===i?(0,n.jsx)(L.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,n.jsx)(R.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:sb.map((e,i)=>(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:F.O},i))})}):(0,n.jsx)(L.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,n.jsx)(iF.x,{pt:4,maxW:"100%",children:(0,n.jsx)(iz.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,n.jsx)(iH.p,{children:sf.map((e,i)=>(0,n.jsx)(iB.Tr,{children:(0,n.jsx)(iK.Td,{as:F.O,height:"36px",mb:2})},i))})})})})},sy={all:{label:(0,n.jsx)(B.cC,{id:"N40H+G"}),ariaLabel:es.ag._({id:"N40H+G"}),icon:z.s2},recent:{label:(0,n.jsx)(B.cC,{id:"AOvC3b"}),ariaLabel:es.ag._({id:"AOvC3b"}),icon:z.SZw},private:{label:(0,n.jsx)(B.cC,{id:"zwBp5t"}),ariaLabel:es.ag._({id:"zwBp5t"}),icon:z.byT},createdByYou:{label:(0,n.jsx)(B.cC,{id:"WZTg05"}),ariaLabel:es.ag._({id:"WZTg05"}),icon:z.m08},favorites:{label:(0,n.jsx)(B.cC,{id:"X9kySA"}),ariaLabel:es.ag._({id:"X9kySA"}),icon:z.Tab}},s_=["all","recent","createdByYou","favorites"].map(e=>({key:e,...sy[e]})),sS=["all","recent","createdByYou","favorites"].map(e=>({key:e,...sy[e]})),sA=e=>{var i;let{currentChannelId:t,filterBy:s,setFilterBy:l}=e,r=(0,eE.i)({base:!0,xl:!1}),o=t?sS:s_,a=null==sy?void 0:null===(i=sy[s])||void 0===i?void 0:i.label;return(0,n.jsx)(se.E,{id:"filter-by-dropdown",zIndex:"3",width:["100%","auto"],mt:[4,0],children:r?(0,n.jsxs)(em.v,{closeOnSelect:!0,children:[(0,n.jsx)(eg.j,{as:O.z,variant:"ghost",size:"sm",rightIcon:(0,n.jsx)(U.G,{icon:z.ptq}),fontWeight:"600",color:"gray.700",leftIcon:(0,n.jsx)(U.G,{icon:z.G_j}),children:a}),(0,n.jsx)(ej.q,{minWidth:"240px",children:(0,n.jsx)(ef._,{defaultValue:s,title:es.ag._({id:"MwX53Z"}),type:"radio",onChange:l,value:s,children:o.map(e=>(0,n.jsx)(ev.i,{value:e.key,children:e.label},e.key))})})]}):o.map(e=>{let i=e.key===s;return(0,n.jsx)(se.U,{children:(0,n.jsx)(O.z,{fontWeight:"600",color:i?"trueblue.500":"gray.600",bg:i?"trueblue.50":"transparent",size:"sm",leftIcon:(0,n.jsx)(U.G,{icon:e.icon,"aria-label":e.ariaLabel}),variant:"ghost",onClick:()=>l(e.key),children:e.label})},e.key)})})},sE=e=>{var i;let{filterBy:t,sortBy:s,sortDirection:l,setSortBy:r,setSortDirection:o,size:a="sm"}=e,d=tG(t),c=d?t4:t3.concat({key:K.IX5.Title,label:es.ag._({id:"MHrjPM"})});return(0,n.jsxs)(P.h,{variant:"ghost",size:a,zIndex:"2",children:[!(0,i8.s2)()&&!d&&(0,n.jsxs)(em.v,{closeOnSelect:!0,children:[(0,n.jsx)(eg.j,{as:O.z,variant:"ghost",size:a,rightIcon:(0,n.jsx)(U.G,{icon:z.ptq,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.700",children:(null==c?void 0:null===(i=c.find(e=>e.key===s))||void 0===i?void 0:i.label)||(0,n.jsx)(B.cC,{id:"acZeX2"})}),(0,n.jsx)(tz.h,{children:(0,n.jsx)(ej.q,{minWidth:"240px",zIndex:"overlay",children:(0,n.jsx)(ef._,{defaultValue:"alpha",title:es.ag._({id:"/HgF9q"}),type:"radio",children:c.map(e=>{let i=s===e.key;return(0,n.jsx)(eC.s,{icon:i?(0,n.jsx)(t2.n,{}):(0,n.jsx)(L.xu,{w:3}),value:e.key,onClick:()=>r(e.key),children:e.label},e.key)})})})})]}),(d||c.find(e=>e.key===s))&&(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"TZml21"}),children:(0,n.jsx)(Q.h,{color:"gray.700","aria-label":"sort",onClick:()=>o(l===K.SrV.Asc?K.SrV.Desc:K.SrV.Asc),icon:(0,n.jsx)(U.G,{icon:z.RXu})})})]})},sI=e=>{let{currentChannelId:i,filterBy:t,sortBy:s,sortDirection:l,viewPreference:r,setFilterBy:o,setSortBy:a,setSortDirection:d,setViewPreference:c,shouldShowCategoryFilters:u,shouldShowSortOptions:h,shouldShowViewToggle:x}=e;return u||h||x?(0,n.jsxs)(I.K,{direction:"row",alignItems:"center",children:[u&&(0,n.jsx)(sA,{filterBy:t,setFilterBy:o,currentChannelId:i}),(0,n.jsx)(ee.L,{}),(0,n.jsxs)(E.U,{alignItems:"center",children:[h&&(0,n.jsx)(sE,{filterBy:t,sortBy:s,sortDirection:l,setSortBy:a,setSortDirection:d}),x&&(0,n.jsx)(sk,{viewPreference:r,setViewPreference:c})]})]}):(0,n.jsx)(n.Fragment,{})},sk=e=>{let{viewPreference:i,setViewPreference:t}=e,s="list"===i;return(0,n.jsxs)(E.U,{spacing:0,bg:"gray.200",p:.5,borderRadius:"md",children:[(0,n.jsx)(O.z,{size:"sm","data-testid":"view-toggle-grid",variant:s?"ghost":"plain",color:s?"gray.600":"trueblue.500",onClick:()=>t("grid"),children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(U.G,{icon:z.emM}),(0,n.jsx)(T.x,{display:["none","none","none","none","block"],children:(0,n.jsx)(B.cC,{id:"CXDHcv"})})]})}),(0,n.jsx)(O.z,{size:"sm","data-testid":"view-toggle-list",variant:s?"plain":"ghost",color:s?"trueblue.500":"gray.600",onClick:()=>t("list"),children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(U.G,{icon:z.xiG}),(0,n.jsx)(T.x,{display:["none","none","none","none","block"],children:(0,n.jsx)(B.cC,{id:"2BBAbc"})})]})})]})};var sD=t(49165),sw=t(31702),sT=t(69024),sP=t(82863),sO=t(26787);let sN=e=>{let i=(0,V.ye)("docImport"),t=(0,V.ye)("pptImport");return i||t?(0,n.jsx)(sP.rg,{clientId:eA.v.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,n.jsx)(sL,{...e})}):null},sL=e=>{let{handleImport:i,isDisabled:t,buttonProps:s,helpTip:l}=e,{isOpen:r,onOpen:o,onClose:a}=(0,A.q)({id:"import-plain-modal"}),{push:d}=(0,m.useRouter)();return(0,n.jsxs)(em.v,{children:[(0,n.jsx)(eg.j,{as:O.z,onFocus:e=>e.preventDefault(),"data-testid":"import-doc-button",isDisabled:t,leftIcon:(0,n.jsx)(U.G,{icon:z.Vmj}),rightIcon:(0,n.jsx)(U.G,{icon:z.gc2}),sx:{span:{flexGrow:0}},...s,children:(0,n.jsx)(B.cC,{id:"l3s5ri"})}),(0,n.jsx)(tz.h,{children:(0,n.jsx)(ej.q,{maxW:"350px",zIndex:"tooltip",children:(0,n.jsxs)(sT.k,{title:es.ag._({id:"F6aY4g"}),children:[(0,n.jsx)(eC.s,{icon:(0,n.jsx)(U.G,{icon:ey.JyM,fixedWidth:!0}),onClick:()=>{d("/create/import?ref=dashboard")},children:(0,n.jsxs)(E.U,{align:"flex-start",children:[(0,n.jsxs)(I.K,{spacing:0,children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"QIFgHt"})}),(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"Aqrkal"})})]}),(0,n.jsx)(ee.L,{}),(0,n.jsx)(k.C,{h:"fit-content",colorScheme:"trueblue",ml:2,children:(0,n.jsx)(B.cC,{id:"jsQZMk"})})]})}),(0,n.jsx)(eC.s,{icon:(0,n.jsx)(U.G,{icon:z.Vmj,fixedWidth:!0}),onClick:o,children:(0,n.jsxs)(I.K,{spacing:0,children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"yCc/Nz"})}),(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"exXmrP"})})]})})]})})}),(0,n.jsxs)(ew.u_,{isOpen:r,onClose:a,size:"2xl",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{bg:"gray.50",children:[(0,n.jsx)(eO.x,{children:(0,n.jsxs)(E.U,{spacing:3,children:[(0,n.jsx)(U.G,{icon:z.Vmj}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"F6aY4g"})})]})}),(0,n.jsx)(J.i,{}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(eL.f,{py:4,px:{base:4,md:6},children:(0,n.jsxs)(I.K,{spacing:4,justifyContent:"flex-start",children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"bQtlIq"})}),(0,n.jsx)(sO.v,{onImportComplete:i})]})}),(0,n.jsx)(eM.m,{children:(0,n.jsx)(O.z,{variant:"ghost",onClick:a,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})})})]})]})]})};var sR=t(72338),sM=t(70830),sF=t(3402),sz=t(31709);let sU=(e,i)=>{var t;let s;let n=(0,sM.e)(),l=(0,sR.J1)(n),{slice:r}=(0,sF.T)(e,l,i,!1),o=(null===(t=r.toJSON())||void 0===t?void 0:t.content)||[];if(o.every(e=>"card"===e.type))s=(0,sz.vL)(void 0,o);else{let e=o.filter(e=>l.nodes[e.type].isBlock)||[];s=(0,sz.vL)(void 0,[{type:"card",content:e}])}return console.debug("Parsing imported doc",{doc:s,slice:r,splitContent:o,html:e}),s},sB=e=>{let{isDisabled:i}=e,{push:t}=(0,m.useRouter)(),s=(0,j.useCallback)(()=>t("/create"),[t]);return(0,n.jsx)(O.z,{"data-testid":"create-from-ai-button",isDisabled:i,variant:"solid",onClick:s,leftIcon:(0,n.jsx)(U.G,{icon:z.r8p}),rightIcon:(0,n.jsx)(k.C,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,n.jsx)(B.cC,{id:"BOqY23"})})},sG={GoogleDocs:"import_google_doc",GoogleSlides:"import_google_slides",DocxUpload:"import_docx",PptxUpload:"import_pptx"},sH=e=>{let{currentWorkspace:i,description:t,ariaLabel:s,displayName:l,icon:r,showCreateButton:o,channel:a,isChannelPreview:d}=e,{isOpen:c,onOpen:h,onClose:x}=(0,A.q)({id:"template-browser-modal"}),{isOpen:p,onOpen:m,onClose:g}=(0,A.q)({id:"ai-credits-modal"}),C=(0,V.ye)("aiWizard"),b=(0,S.z$)(),{credits:f,hasEnoughCreditsToGenerateDeck:v}=(0,q.qO)(),[y,{data:_,loading:k}]=(0,sD.c)(),w=k||!!((null==_?void 0:_.createDoc)||!i),P=(0,j.useCallback)(e=>{let{html:i,filename:t,source:s,src:n}=e;if(!i)return;let l="GoogleDocs"===s||"DocxUpload"===s,r=sU(i,{splitOnHeadings:l,splitOnDividers:!0,nested:l});null==b||b.track(S.AA.DOC_IMPORTED,{source:s,src:n,with_ai:!1}),y({document:r,channelId:null==a?void 0:a.id,title:t,source:sG[s]})},[null==a?void 0:a.id,y,b]),N=(0,j.useCallback)(()=>{y({channelId:null==a?void 0:a.id,source:"blank"})},[null==a?void 0:a.id,y]);return(0,n.jsxs)(u.k,{flex:"1",mb:(0,i8.s2)()?0:4,direction:"column",children:[(0,n.jsxs)(L.xu,{w:["100%","auto"],children:[(0,n.jsxs)(E.U,{h:"1.5em",children:[(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[r&&(0,n.jsx)(U.G,{icon:r,"aria-label":s})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:l})]}),(0,n.jsx)(ee.L,{}),!d&&a&&(0,n.jsx)(tC,{channel:a,workspaceId:null==i?void 0:i.id})]}),t&&(0,n.jsx)(T.x,{color:"gray.600",fontSize:"sm",children:t}),a&&(0,n.jsxs)(I.K,{direction:"row",alignItems:"center",mt:4,children:[(0,n.jsx)(et.NL,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==a?void 0:a.members)||[],max:6}),(0,n.jsx)(T.x,{fontSize:"sm",color:"gray.400",ml:2,children:(0,n.jsx)(B.cC,{id:"pkIIls",values:{0:a.memberCount||0}})})]})]}),o&&(0,n.jsxs)(I.K,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[C&&(0,n.jsx)(sB,{isDisabled:w}),!(0,i8.s2)()&&(0,n.jsx)(O.z,{"data-testid":"create-doc-button",isDisabled:w,variant:"plain",onClick:N,leftIcon:(0,n.jsx)(U.G,{icon:z.r8p}),children:(0,n.jsx)(B.cC,{id:"exOjhh"})}),o&&!(0,i8.s2)()&&(0,n.jsx)(sN,{handleImport:P,isDisabled:w})]}),(0,n.jsx)(Y.H,{credits:f,isOpen:p,onClose:g,onOpen:m}),(0,n.jsx)(sw.UB,{isOpen:c,onClose:x,forceChannelId:null==a?void 0:a.id})]})},sK=()=>{let[e,i]=(0,j.useState)(null),[t,{data:s}]=(0,K.t1J)({variables:{docId:e,maxDepth:1,archived:!1},returnPartialData:!0,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,j.useEffect)(()=>{!e||(0,i8.s2)()||t({variables:{docId:e,maxDepth:1}})},[e,t]);let n=(0,j.useMemo)(()=>[],[]),l=(0,j.useMemo)(()=>{var i,t;let l=(null==s?void 0:s.docCards)!==void 0&&(null==s?void 0:null===(i=s.docCards[0])||void 0===i?void 0:i.docId)===e?null==s?void 0:null===(t=s.docCards)||void 0===t?void 0:t.filter(e=>!!e.previewUrl):n;return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length<=i)return e;let t=Math.floor(e.length/i),s=[];for(let n=0;n<e.length&&(s.push(e[n]),s.length!==i);n+=t);return s}(l)},[null==s?void 0:s.docCards,e,n]),r=(0,j.useCallback)(e=>{i(e)},[]),o=(0,j.useCallback)(i=>e===i?l:n,[l,e,n]);return{fetchThumbnails:r,getThumbnails:o}},sV=e=>{let{editors:i,user:t}=e,s=(0,tl.Yc)(i,null==t?void 0:t.id);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(et.NL,{size:"xs",overflowTooltipLabel:es.ag._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:s.map(e=>{let{displayName:i,profileImageUrl:t,id:s}=e;return{name:i||"",id:s,profileImageUrl:t,color:"white"}})}),(0,n.jsx)(I.K,{spacing:0,children:(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"27Yldc",values:{0:s.length}})})})]})},sW=e=>{let{presenters:i,user:t}=e,s=(0,tl.Yc)(i,null==t?void 0:t.id);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(et.NL,{overflowTooltipLabel:es.ag._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:s.map(e=>{let{displayName:i,profileImageUrl:t,id:s}=e;return{name:i||"",id:s,profileImageUrl:t,color:"white"}})}),(0,n.jsx)(I.K,{spacing:0,children:(0,n.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,n.jsx)(B.cC,{id:"u2htxq",values:{0:s.length}})})})]})},sY=e=>{let{activeDocs:i,filterBy:t}=e,{fetchThumbnails:s,getThumbnails:l}=sK(),r=(0,V.ye)("screenshotsEnabled"),{user:o}=(0,d.SE)(),{favoriteDoc:a}=sd({refetchQueries:["GetDocs","GetChannelDocActivity"]});return(0,n.jsxs)(L.xu,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,n.jsxs)(T.x,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,n.jsx)(U.G,{icon:z.V1P})," ",(0,n.jsx)(B.cC,{id:"/sL1z7"})]}),(0,n.jsx)(R.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==i?void 0:i.map(e=>{var i;let{doc:t,editors:d,presenters:c}=e,{title:u,id:h,titleCard:x,createdTime:p}=t,m={src:r?null==x?void 0:x.previewUrl:tM.Z,fallbackSrc:tM.Z.src},g=c&&c.length>0,j=!g&&d&&d.length>0,C=(0,iR.Gn)({docId:h}),b=(0,n.jsxs)(E.U,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[j&&(0,n.jsx)(sV,{editors:d,user:o}),g&&(0,n.jsx)(sW,{presenters:c,user:o})]}),f=l(t.id);return(0,n.jsx)(tZ.F7,{createdTime:p,title:u,NextLink:tf(),href:C,id:h,thumbnailImageUrl:m,isFavorited:null===(i=t.docUser)||void 0===i?void 0:i.favorited,onFavorite:a(new Date,t),onUnfavorite:a(null,t),menuEnabled:!1,activity:b,cardThumbnails:r?f:[],onMouseEnter:()=>{r&&s(t.id)}},h)})})]})},sq=(0,j.memo)(e=>{let{activeTab:i,channel:t,isChannelPreview:s,activeDocs:l,sortDirection:r,sortBy:o,filterBy:a,viewPreference:c,setSortBy:u,setSortDirection:h,setViewPreference:x,setFilterBy:p}=e,m=!(0,i8.s2)()&&i!==tk.TEMPLATES,g=!!(i===tk.ALL||t),{currentWorkspace:j}=(0,d.SE)(),{displayName:C,description:b,ariaLabel:f,icon:v,showCreateButton:y}=tw[i],_=(null==t?void 0:t.name)||C;return(0,n.jsxs)(L.xu,{w:"100%",mb:6,children:[(0,n.jsx)(sH,{displayName:_,ariaLabel:f,description:b,icon:v,showCreateButton:y&&!s,currentWorkspace:j,channel:t,isChannelPreview:s}),l&&l.length>0&&(0,n.jsx)(sY,{activeDocs:l,filterBy:a}),(0,n.jsx)(sI,{filterBy:a,sortBy:o,sortDirection:r,setViewPreference:x,setFilterBy:p,setSortBy:u,setSortDirection:h,viewPreference:c,shouldShowCategoryFilters:g,currentChannelId:(null==t?void 0:t.id)||null,shouldShowSortOptions:m&&"grid"===c,shouldShowViewToggle:m})]})});sq.displayName="DocsViewTopbar";var sX=t(43019);let sZ=e=>{let{onClose:i,doc:t}=e,[s,{loading:l}]=(0,K.D1_)(),r=(0,eD.p)(),[o,a]=(0,j.useState)(()=>t.title),[d,c]=(0,j.useState)("Untitled"),[h,x]=(0,j.useState)(null),p=(0,j.useCallback)(e=>{a(e.target.value)},[]),m=(0,j.useRef)(null),{data:g}=(0,K.EDv)({variables:{docId:t.id,snapshotId:t.currentSnapshotId},skip:!(null==t?void 0:t.currentSnapshotId)||!(null==t?void 0:t.id)}),C=!!h;(0,j.useEffect)(()=>{if(!(null==g?void 0:g.snapshot))return;let e=(null==g?void 0:g.snapshot)&&(0,sX.getCardTitle)(g.snapshot.content.default.content[0].content[0])||es.ag._({id:"wja8aL"});c(e)},[null==g?void 0:g.snapshot]);let b=(0,j.useCallback)(()=>{let e=!!(o&&o.length),l={id:t.id,titleEdited:e,title:e?o:d};s({variables:l}).then(()=>{r({title:(0,n.jsx)(B.cC,{id:"ZYAPMn",values:{GAMMA_ARTIFACT_PROPER_NOUN:v.Yc,0:o.length>0?o:d}}),position:"top",status:"success",duration:5e3}),x(null),i()}).catch(e=>{console.error(e),x(e.message)})},[t.id,i,o,r,s,d]);return(0,n.jsxs)(ew.u_,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:m,onClose:i,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"2wxgft"})}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(eL.f,{children:(0,n.jsx)(u.k,{mt:4,w:"100%",direction:"column",children:(0,n.jsxs)(eH.NI,{isInvalid:C,children:[(0,n.jsx)(eV.I,{value:o,placeholder:d,ref:m,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:e=>{"Enter"===e.key&&b()},onChange:p}),C&&(0,n.jsx)(eG.J1,{children:h})]})})}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{isLoading:l,variant:"solid",onClick:b,children:(0,n.jsx)(B.cC,{id:"2wxgft"})})]})})]})]})},sQ=e=>{let{userHasNoWorkspaces:i,isSidebarVisible:t,setIsSidebarVisible:s,currentChannelId:l,activeChannel:r,channelPreview:o,activeTab:a}=e,{user:c,currentWorkspace:u}=(0,d.SE)(),[h,x]=(0,j.useState)(!1),[p,m]=(0,j.useState)(null),[g,C]=(0,j.useState)(null),{isOpen:b,onOpen:f,onClose:v}=(0,A.q)({id:"ConfirmPermanentlyDeleteModal"}),[y,_]=(0,j.useState)(null),[S,{data:E}]=(0,K.WMx)({variables:{id:p},returnPartialData:!0,nextFetchPolicy:"cache-first"}),{favoriteDoc:I,trashDoc:k,restoreDoc:D}=sd({refetchQueries:["GetDocs","GetChannelDocActivity"]}),w=(0,sh.e)(),{removeDocChannel:T}=(0,ti.Z)(),P=(0,d.we)(),{isSharePanelOpen:N,onSharePanelOpen:R,onSharePanelClose:M,view:F,setView:z}=(0,su.y)(),{isOpen:U,onOpen:G,onClose:H}=(0,A.q)({id:"RenameDocModalDisclosure"}),W=(0,V.ye)("permanentlyDeleteDoc"),{viewPreference:Y,setViewPreference:q,sortBy:X,setSortBy:Z,sortDirection:Q,filterBy:J,setFilterBy:$,setSortDirection:ee,dateDisplayOption:ei,setDateDisplayOption:et}=sj({currentChannelId:l,activeTab:a}),{docs:es,loading:en,showPaginationControls:el,fetchMore:er,activeDocs:eo}=sp({filterBy:J,activeTab:a,currentChannelId:l,channelPreview:o,user:c,currentWorkspace:u,sortBy:X,sortDirection:Q});(0,j.useEffect)(()=>{p&&S({variables:{id:p}})},[p,S]);let ea=(0,j.useCallback)(e=>{C(e),f()},[f]),ed=W?ea:void 0,ec=(0,j.useCallback)(e=>{m(e),R()},[R]),eu=(0,j.useCallback)((e,i)=>{T(e,i)},[T]),eh=(0,j.useCallback)(e=>{w({docId:e.id,source:"dashboard_docs_view_duplicate"})},[w]),ex=(0,j.useCallback)(e=>{_(e),G()},[G]),ep=!en&&es&&(null==es?void 0:es.length)>0,{fetchThumbnails:em,getThumbnails:eg}=sK();return(0,n.jsxs)(L.xu,{width:"100%",children:[!i&&(0,n.jsx)(tW,{isSidebarVisible:t,setIsSidebarVisible:s,children:(0,n.jsx)(sq,{activeTab:a,channel:o||r,activeDocs:eo,isChannelPreview:!!o,sortDirection:Q,sortBy:X,filterBy:J,viewPreference:Y,setSortBy:Z,setSortDirection:ee,setViewPreference:q,setFilterBy:$})}),(0,n.jsxs)(L.xu,{width:"100%","data-testid":"docs-view-container",children:[(0,n.jsx)(tJ,{user:c,currentWorkspace:u,currentChannelId:l,viewPreference:Y}),en&&(0,n.jsx)(sv,{viewPreference:Y}),!en&&(null==es?void 0:es.length)===0&&(0,n.jsx)(sC,{}),"list"===Y&&ep&&(0,n.jsx)(so,{dateDisplayOption:ei,setDateDisplayOption:et,user:c,currentWorkspace:u,userHasNoWorkspaces:i,filterBy:J,docs:es,currentChannelId:l,sortBy:X,sortDirection:Q,setSortBy:Z,setSortDirection:ee,handleDuplicateDoc:eh,handleFavoriteDoc:I,handleTrash:k,handlePermanentDelete:ed,handleRestoreDoc:D,handleShareClick:ec,handleRenameClick:ex,handleRemoveFromChannel:eu}),"grid"===Y&&ep&&(0,n.jsx)(sa.G,{"data-testid":"docs-view-doc-grid",children:es.map(e=>{var t;let s=P.can("view",e)&&!i,r=P.can("edit",e)&&!i,o=P.can("manage",e)&&!i,a=eg(e.id);return(0,n.jsx)(t1,{user:c,currentWorkspace:u,doc:e,currentChannelId:l,sortBy:X,filterBy:J,canDuplicate:s,createdByYou:(null==e?void 0:null===(t=e.createdBy)||void 0===t?void 0:t.id)===(null==c?void 0:c.id),handleDuplicateDoc:eh,handleFavoriteDoc:I,handleTrash:k,handlePermanentDelete:ed,handleRenameClick:ex,handleRemoveFromChannel:eu,handleRestoreDoc:D,handleShareClick:ec,fetchThumbnails:em,cardThumbnails:a,canEditDoc:r,canManageDoc:o},e.id)})}),N&&(0,n.jsx)(te.WQ,{doc:null==E?void 0:E.doc,isSharePanelOpen:N,onSharePanelClose:()=>{m(null),M()},onSharePanelOpen:R,view:F,setView:z}),U&&(0,n.jsx)(sZ,{doc:y,onClose:H}),el&&(0,n.jsx)(to.M,{p:6,children:(0,n.jsx)(O.z,{isLoading:h,onClick:()=>{x(!0),er().finally(()=>{x(!1)})},size:"sm",children:(0,n.jsx)(B.cC,{id:"yQ2kGp"})})}),W&&b&&g&&(0,n.jsx)(sc,{doc:g,onClose:v})]})]})};var sJ=t(20437),s$=t(34208);let s0=e=>{let[i]=(0,K.r$k)(),[t]=(0,K.NuY)(),s=(0,j.useCallback)(s=>{let n=s.uploadFontFiles.filter(e=>("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl).map(e=>{let{name:i,weight:t,isItalic:s,fileType:n,sourceUrl:l}=e.fontFile,r={name:i,weight:t,isItalic:s,fileType:n,sourceUrl:l};return"existing"===e.status&&e.fontFile.id&&(r.id=e.fontFile.id),r});if("edit"!==s.mode)return i({variables:{input:{name:s.fontName,fontFiles:n,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});{let i=[{op:K.bPF.Add,path:"/name",value:s.fontName},{op:K.bPF.Replace,path:"/fontFiles",value:n}];return t({variables:{input:{id:s.fontId,workspaceId:e,data:i}},refetchQueries:["GetWorkspaceFonts"]})}},[i,e,t]);return s},s1=e=>{let i=(0,eD.p)(),[t,{loading:s}]=(0,K.xUs)(),l=(0,j.useCallback)(async(s,l)=>t({variables:{id:s,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(e=>(i({title:(0,n.jsx)(B.cC,{id:"w+hpl4",values:{name:l}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e)),[t,e,i]);return{archiveFontFn:l,isArchiving:s}},s2=e=>{let{onClose:i,font:t,orgId:s}=e,{archiveFontFn:l,isArchiving:r}=s1(s),o=(0,j.useCallback)(()=>{l(t.id,t.name).then(i).catch(e=>{console.error("[FontDeleteModal] Error deleting font",e)})},[l,t.id,t.name,i]);return(0,n.jsxs)(ew.u_,{onClose:i,isOpen:!0,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"Tf88pC",values:{0:t.name}})}),(0,n.jsx)(eN.o,{isDisabled:r}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(I.K,{spacing:4,children:[(0,n.jsx)(T.x,{fontWeight:"bold",children:(0,n.jsx)(B.cC,{id:"GG34Oa"})}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"AYXLSv"})}),(0,n.jsx)(T.x,{color:"red.600",children:(0,n.jsx)(B.cC,{id:"U99rVM"})})]})}),(0,n.jsx)(eM.m,{children:(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{variant:"ghost",color:"red.600",onClick:o,isLoading:r,children:(0,n.jsx)(B.cC,{id:"04FTaq"})})]})})]})]})},s5=e=>{let{children:i,...t}=e;return(0,n.jsx)(u.k,{border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},...t,children:i})};var s3=t(62700),s4=t(44438);let s6=()=>(0,n.jsxs)(ek.b,{status:"warning",children:[(0,n.jsx)(iO.z,{}),(0,n.jsxs)(T.x,{children:[(0,n.jsxs)("strong",{children:[(0,n.jsx)(B.cC,{id:"S89SGJ"})," ",(0,n.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,n.jsx)(B.cC,{id:"5FjY+D",components:{0:(0,n.jsx)(s4.E,{colorScheme:"purple"}),1:(0,n.jsx)(s4.E,{colorScheme:"pink"})}})]})]});var s8=t(16556);let s9=e=>{let{fileExtension:i}=e;return(0,n.jsx)(s8.Vp,{size:"sm",justifyContent:"center",background:i===K.sA6.Ttf?"trueblue.100":"shocking.100",children:i.toUpperCase()})},s7=e=>{let{fontFamily:i,fontWeight:t,isItalic:s,headingText:l}=e;return(0,n.jsx)(D.X,{fontFamily:'"'.concat(i,'"'),noOfLines:1,lineHeight:"base",fontWeight:t,fontStyle:s?"italic":"normal",children:l||i})},ne=e=>{let i=e.reduce((e,i)=>{let t=e.findIndex(e=>e.isItalic===i.isItalic&&e.weight===i.weight);if(-1===t)return[...e,i];if(e[t].fileType===i.fileType)return e;let s={...i,fileTypes:[i.fileType,e[t].fileType]};return[...e.slice(0,t),s,...e.slice(t+1)]},[]),t=[...i];return t.sort((e,i)=>e.weight!==i.weight?e.weight-i.weight:e.isItalic!==i.isItalic?!1===e.isItalic?-1:1:0),t},ni=e=>{var i;let{font:t,onClose:s,onEditClick:l,onDeleteClick:r}=e,o=(0,j.useMemo)(()=>ne(t.fontFiles||[]),[t.fontFiles]);return(0,n.jsxs)(ew.u_,{isOpen:!0,onClose:s,size:"3xl",blockScrollOnMount:!1,children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:t.name}),(0,n.jsx)(eN.o,{}),(0,n.jsx)(J.i,{mb:"4"}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(ei.g,{mb:4,spacing:6,align:"stretch",children:[(null===(i=t.fontFiles)||void 0===i?void 0:i.length)===0&&(0,n.jsx)(s6,{}),o.map(e=>{var i,s;let l=!!(e.fileType===K.sA6.Otf||(null===(i=e.fileTypes)||void 0===i?void 0:i.includes(K.sA6.Otf))),r=!!(e.fileType===K.sA6.Ttf||(null===(s=e.fileTypes)||void 0===s?void 0:s.includes(K.sA6.Ttf)));return(0,n.jsx)(nt,{fontName:t.name,weight:e.weight,isItalic:e.isItalic,hasOTF:l,hasTTF:r},e.id)})]})}),(0,n.jsxs)(eM.m,{justifyContent:"space-between",children:[(0,n.jsx)(O.z,{variant:"ghost",colorScheme:"red",onClick:r,children:(0,n.jsx)(B.cC,{id:"cnGeoo"})}),(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"plain",onClick:l,children:(0,n.jsx)(B.cC,{id:"ePK91l"})}),(0,n.jsx)(O.z,{variant:"solid",onClick:s,children:(0,n.jsx)(B.cC,{id:"DPfwMq"})})]})]})]})]})},nt=e=>{let{fontName:i,weight:t,isItalic:s,hasOTF:l,hasTTF:r}=e,o=(0,n.jsxs)(n.Fragment,{children:[(0,s3.d)()[t]," ",s?(0,n.jsx)(B.cC,{id:"pzutoc"}):""]}),a=(0,n.jsxs)(n.Fragment,{children:[i," ",o]}),d=(0,n.jsxs)(n.Fragment,{children:[t," - ",o]});return(0,n.jsxs)(u.k,{justify:"space-between",gap:"10px",children:[(0,n.jsxs)(I.K,{spacing:2,children:[(0,n.jsx)(T.x,{color:"gray.600",children:d}),(0,n.jsx)(s7,{fontFamily:i,fontWeight:t.toString(),isItalic:s,headingText:a})]}),(0,n.jsxs)(E.U,{align:"center",children:[r&&(0,n.jsx)(s9,{fileExtension:K.sA6.Ttf}),l&&(0,n.jsx)(s9,{fileExtension:K.sA6.Otf})]})]})};var ns=t(30423);let nn=e=>{let{font:i,onClick:t,onEditClick:s,onDeleteClick:l}=e,r=(0,ns.x_)((null==i?void 0:i.fontFiles)||[]),o=(0,ns.B_)(i.fontFiles||[]),a=(0,ns.QP)(o,700)||700,d=(0,ns.Sd)(null==i?void 0:i.fontFiles);return(0,n.jsxs)(I.K,{children:[(0,n.jsx)(s5,{bg:"white",justifyContent:"flex-start",p:6,onClick:t,children:(0,n.jsxs)(I.K,{maxW:"100%",children:[(0,n.jsx)(s7,{fontWeight:a.toString(),isItalic:d,fontFamily:i.name,headingText:i.name}),(0,n.jsx)(B.cC,{id:"B2DVf/",values:{styleCount:r},components:{0:(0,n.jsx)(T.x,{color:"orange.600"}),1:(0,n.jsx)(L.xu,{as:"span",mr:1}),2:(0,n.jsx)(U.G,{icon:ey.e7M})}})]})}),(0,n.jsxs)(u.k,{children:[(0,n.jsx)(T.x,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:i.name}),(0,n.jsx)(ee.L,{}),(0,n.jsxs)(em.v,{children:[(0,n.jsx)(eg.j,{as:Q.h,isRound:!0,size:"sm",variant:"ghost",icon:(0,n.jsx)(U.G,{icon:z.cNd}),"aria-label":es.ag._({id:"eqqNgX"})}),(0,n.jsxs)(ej.q,{children:[(0,n.jsx)(eC.s,{icon:(0,n.jsx)(U.G,{icon:z.Xcf,fixedWidth:!0}),onClick:s,children:(0,n.jsx)(B.cC,{id:"ePK91l"})}),(0,n.jsx)(eb.R,{}),(0,n.jsx)(eC.s,{color:"red.500",icon:(0,n.jsx)(U.G,{icon:z.XAH,fixedWidth:!0}),onClick:l,children:(0,n.jsx)(B.cC,{id:"cnGeoo"})})]})]})]})]})};var nl=t(37164),nr=t(2090);let no={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function na(e,i){switch(i.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return no;case"EDIT_EXISTING_FONT":{let{font:e}=i.data;return{existingFont:e,mode:"edit",fontId:e.id,fontName:e.name,hasUploadedFonts:!0,uploadFontFiles:e.fontFiles.map(e=>({fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}))}}case"EDIT_FONT_NAME":{let{fontName:t}=i.data;return{...e,fontName:t}}case"UPLOAD_FONT_FILE_UPLOAD_STARTED":{let{data:t}=i,s={fontFile:{id:t.uploadId,name:t.name,weight:t.weight,isItalic:t.isItalic,fileType:t.fileType},uploadId:t.uploadId,status:"uploading",errorMessage:null},n=e.fontName?e.fontName:t.familyName;return{...e,fontName:n,hasUploadedFonts:!0,uploadFontFiles:[...e.uploadFontFiles,s]}}case"UPLOAD_FONT_FILE_UPLOAD_ERROR":{let{uploadId:t,errorMessage:s}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>t===e.uploadId?{...e,status:"error",errorMessage:s}:e)}}case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":{let{uploadId:t,sourceUrl:s}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>{if(t===e.uploadId){let i={...e.fontFile,sourceUrl:s};return{...e,status:"created",errorMessage:null,fontFile:i}}return e})}}case"EDIT_UPLOAD_FONT_FILE_WEIGHT":{let{uploadId:t,weight:s}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===t?{...e,fontFile:{...e.fontFile,weight:s}}:e)}}case"EDIT_UPLOAD_FONT_FILE_STYLE":{let{uploadId:t,isItalic:s}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===t?{...e,fontFile:{...e.fontFile,isItalic:s}}:e)}}case"DELETE_UPLOAD_FONT_FILE":{let{uploadId:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.filter(e=>e.uploadId!==t)}}default:throw Error("Unhandled action type: ".concat(i))}}var nd=t(78597),nc=t(73481);let nu=e=>{let{fontFiles:i,fontWeight:t,dispatch:s}=e,[l,r]=(0,j.useState)(!1);if(!i)return null;let o=(0,n.jsxs)(n.Fragment,{children:[t," - ",(0,s3.d)()[t]]}),a=(0,ns.cC)(i),d=!!Object.keys(a).length;return(0,n.jsx)(iF.x,{mt:8,children:(0,n.jsxs)(iz.i,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,n.jsx)(iU.h,{children:(0,n.jsx)(et.kH,{placement:"top",isDisabled:!d,label:(0,n.jsx)(B.cC,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,n.jsxs)(et.NZ,{mb:"2",cursor:d?"help":void 0,color:d?"yellow.600":void 0,children:[d&&(0,n.jsx)(U.G,{icon:ey.e7M})," ",o]})})}),(0,n.jsx)(iH.p,{children:i.map(e=>(0,n.jsx)(nh,{uploadFontFile:e,dispatch:s,duplicates:a,isHoveringOnADuplicate:l,setIsHoveringOnADuplicate:r},e.uploadId))})]})})},nh=e=>{let{uploadFontFile:i,duplicates:t,isHoveringOnADuplicate:s,setIsHoveringOnADuplicate:l,dispatch:r}=e,o=(0,eD.p)(),{fontFile:a,errorMessage:d,uploadId:c}=i,u=void 0===a.sourceUrl&&!d,h=t[c],x=(0,ns.ZN)(Object.keys((0,s3.d)())),p=s&&h?"yellow.100":h?"yellow.50":"blackAlpha.50",m=(0,j.useCallback)(()=>{r({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:c}}),o({title:(0,n.jsx)(B.cC,{id:"NHHKzo",values:{0:a.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[r,a.name,o,c]),g=h?a.isItalic?(0,n.jsx)(B.cC,{id:"yvnLC0",values:{0:a.weight}}):(0,n.jsx)(B.cC,{id:"QiSKej",values:{0:a.weight}}):"";return(0,n.jsxs)(iB.Tr,{minH:12,width:"100%",background:p,children:[(0,n.jsx)(iK.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,n.jsxs)(E.U,{ml:4,spacing:3,children:[(0,n.jsx)(s9,{fileExtension:a.fileType||K.sA6.Ttf}),(0,n.jsx)(et.kH,{placement:"right",label:g,children:(0,n.jsxs)(I.K,{width:"100%",pl:1,spacing:0,cursor:h?"help":"auto",onMouseOver:()=>{l(h)},onMouseOut:()=>{l(!1)},children:[(0,n.jsx)(et.kH,{label:(0,n.jsx)(B.cC,{id:"e3mFaa"}),placement:"top",isDisabled:!d,children:(0,n.jsxs)(T.x,{color:d?"red.600":void 0,children:[a.name," ",u?(0,n.jsx)($.$,{ml:1,size:"xs",color:"gray"}):d&&(0,n.jsx)(L.xu,{as:"span",color:"red.600",children:(0,n.jsx)(U.G,{icon:ey.e7M})})]})}),h&&(0,n.jsx)(T.x,{fontSize:"xs",color:"yellow.700",children:(0,n.jsx)(B.cC,{id:"mAsucF"})})]})})]})}),(0,n.jsx)(iK.Td,{py:1,minW:12,children:(0,n.jsx)(et.kH,{"aria-label":es.ag._({id:"+7pOZT"}),label:(0,n.jsx)(B.cC,{id:"+7pOZT"}),placement:"top",children:(0,n.jsx)(L.xu,{children:(0,n.jsx)(eR.X,{size:"sm",isChecked:a.isItalic,onChange:e=>{r({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:c,isItalic:e.target.checked}})},children:(0,n.jsx)(T.x,{fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"pzutoc"})})})})})}),(0,n.jsx)(iK.Td,{minW:"16",py:"1",pr:"2",children:(0,n.jsx)(nc.P,{bg:"revert",value:a.weight,size:"sm",onChange:e=>{r({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:c,weight:parseInt(e.target.value,10)}})},children:(0,n.jsx)("optgroup",{label:es.ag._({id:"rgzUkd"}),children:x.map(e=>(0,n.jsxs)("option",{value:e,children:[e," - ",(0,s3.d)()[e]]},e))})})}),(0,n.jsx)(iK.Td,{py:"1",px:"0",children:(0,n.jsx)(et.kH,{placement:"top",label:(0,n.jsx)(B.cC,{id:"9cmpNe"}),children:(0,n.jsx)(Q.h,{"aria-label":es.ag._({id:"9cmpNe"}),colorScheme:"red",icon:(0,n.jsx)(U.G,{icon:z.XAH}),variant:"ghost",onClick:m})})})]})},nx=e=>{let{fontFiles:i,dispatch:t}=e,s=(0,j.useMemo)(()=>{let e=(0,ns.Av)(i);return Object.fromEntries(Object.entries(e).map(e=>{let[i,t]=e,s=[...t];return s.sort((e,i)=>e.fontFile.fileType!==i.fontFile.fileType?e.fontFile.fileType===K.sA6.Ttf?-1:1:e.fontFile.isItalic!==i.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0),[i,s]}))},[i]);if(!i)return null;let l=(0,ns.ZN)(Object.keys((0,s3.d)()));return(0,n.jsxs)(n.Fragment,{children:[0===i.length&&(0,n.jsx)(s6,{}),l.map(e=>{let i=s[e];return i?(0,n.jsx)(nu,{fontFiles:i,dispatch:t,fontWeight:e},e):null})]})},np=e=>{let{fontName:i,fontFiles:t,dispatch:s,onFontFileUploadClick:l}=e,r=(0,j.useCallback)(e=>{s({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[s]),o=0===i.length;return(0,n.jsx)(eL.f,{children:(0,n.jsxs)(ei.g,{align:"stretch",mb:"4",children:[(0,n.jsxs)(u.k,{justifyContent:"space-between",gap:6,children:[(0,n.jsxs)(eH.NI,{isInvalid:o,flex:2,children:[(0,n.jsx)(eK.l,{children:(0,n.jsx)(B.cC,{id:"5qk/OL"})}),(0,n.jsx)(eV.I,{type:"text",placeholder:es.ag._({id:"NFz66a"}),value:i,onChange:r}),o&&(0,n.jsx)(eG.J1,{alignSelf:"flex-start",children:(0,n.jsx)(B.cC,{id:"YtAPjw"})})]}),(0,n.jsxs)(I.K,{mt:8,flex:1,children:[(0,n.jsx)(O.z,{leftIcon:(0,n.jsx)(U.G,{icon:z.A$k}),onClick:l,children:(0,n.jsx)(B.cC,{id:"BLNAld"})}),(0,n.jsx)(T.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,n.jsx)(B.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:v.N6}})})]})]}),(0,n.jsx)(nx,{fontFiles:t,dispatch:s})]})})};var nm=t(82655);let ng=e=>{let{uploadTip:i,children:t}=e;return(0,n.jsxs)(ei.g,{align:"stretch",children:[(0,n.jsx)(u.k,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,n.jsx)(I.K,{spacing:0,children:t})}),(0,n.jsx)(T.x,{color:"gray.700",fontSize:"sm",children:i})]})},nj=()=>(0,n.jsx)(ek.b,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,n.jsx)(T.x,{fontSize:"xs",color:"yellow.800",children:(0,n.jsx)(B.cC,{id:"ULVfg0",components:{0:(0,n.jsx)("strong",{})}})})}),nC=e=>{let{onFontFileUploadClick:i}=e;return(0,n.jsx)(eL.f,{children:(0,n.jsxs)(ei.g,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,n.jsxs)(D.X,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,n.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,n.jsx)(B.cC,{id:"O70dt2"})]}),(0,n.jsxs)(sJ.M,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,n.jsx)(ng,{uploadTip:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(B.cC,{id:"F/H43B",components:{0:(0,n.jsx)("strong",{})}})}),children:(0,n.jsx)(D.X,{fontSize:"3xl",fontWeight:"bold",children:"Inter"})}),(0,n.jsxs)(ng,{uploadTip:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(B.cC,{id:"b2oYEF",components:{0:(0,n.jsx)("strong",{})}})}),children:[(0,n.jsxs)(T.x,{children:["inter-",(0,n.jsx)("strong",{children:"regular"}),".ttf"," ",(0,n.jsx)(L.xu,{color:"green.400",as:"span",children:(0,n.jsx)(U.G,{icon:nm.LEp})})]}),(0,n.jsxs)(T.x,{children:["inter-",(0,n.jsx)("strong",{children:"italic"}),".ttf"," ",(0,n.jsx)(L.xu,{color:"green.400",as:"span",children:(0,n.jsx)(U.G,{icon:nm.LEp})})]}),(0,n.jsxs)(T.x,{children:["inter-",(0,n.jsx)("strong",{children:"bold"}),".ttf"," ",(0,n.jsx)(L.xu,{color:"green.400",as:"span",children:(0,n.jsx)(U.G,{icon:nm.LEp})})]})]}),(0,n.jsxs)(ng,{uploadTip:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(B.cC,{id:"xjFrIG",components:{0:(0,n.jsx)("strong",{}),1:(0,n.jsx)("strong",{})}})}),children:[(0,n.jsxs)(T.x,{children:[(0,n.jsx)(T.x,{color:"gray.600",as:"span",children:(0,n.jsx)(U.G,{icon:z.nfZ})})," ","...-regular",(0,n.jsx)(s4.E,{colorScheme:"purple",children:".ttf"})]}),(0,n.jsxs)(T.x,{children:[(0,n.jsx)(T.x,{color:"gray.600",as:"span",children:(0,n.jsx)(U.G,{icon:z.nfZ})})," ","...-regular",(0,n.jsx)(s4.E,{colorScheme:"pink",children:".otf"})]})]})]}),(0,n.jsxs)(ei.g,{spacing:4,children:[(0,n.jsx)(O.z,{leftIcon:(0,n.jsx)(U.G,{icon:z.A$k}),variant:"solid",onClick:i,children:(0,n.jsx)(B.cC,{id:"NQrqa1"})}),(0,n.jsx)(T.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,n.jsx)(B.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:v.N6}})}),(0,n.jsx)(nj,{})]})]})})};var nb=t(26495),nf=t(85747);let nv=e=>{let i=e.uploadFontFiles.every(e=>("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl);return e.fontName&&i},ny=e=>{let{onClose:i,orgId:t,font:s}=e,[l,r]=j.useReducer(na,no),o=(0,eD.p)();(0,j.useEffect)(()=>{s?r({type:"EDIT_EXISTING_FONT",data:{font:s}}):r({type:"NEW_FONT_UPLOAD"})},[r,s]);let[a,d]=(0,j.useState)(!1),c=nv(l),h=s0(t),x=(0,ns.UK)(l),p=(0,j.useCallback)(()=>{r({type:"RESET_FONT_UPLOAD"}),i()},[r,i]),m=(0,j.useCallback)(e=>{Promise.all(e.map(async e=>{let i=(0,nl.x0)();try{let t=await (0,ns.zn)(e);r({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:{uploadId:i,fileType:(0,ns.CZ)(e.name),name:e.name,...t}})}catch(i){console.error("[FontUploadModal] There was an error parsing ".concat(e.name),e,i),o({title:(0,n.jsx)(B.cC,{id:"zr0u7y",values:{0:e.name}}),description:(0,n.jsx)(B.cC,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null});return}try{let s=await (0,nd.uO)(()=>(0,nb.m)(t,e),{maxRetries:3,timeout:2e4});r({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:i,sourceUrl:s}})}catch(s){let t=s instanceof Error?s.message:"There was an error uploading ".concat(e.name);r({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:i,errorMessage:t}})}})).catch(e=>{console.error("[FontUploadModal] error while uploading font files",e)})},[r,t,o]),{onClick:g,inputElement:C}=(0,nf.E)({handleFilesCallback:m,multiple:!0,accept:nr.Ge.join(",")}),b=(0,j.useCallback)(()=>{d(!0),h(l).then(()=>{"create"===l.mode?o({title:(0,n.jsx)(B.cC,{id:"MXSt4t",values:{0:l.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===l.mode&&o({title:(0,n.jsx)(B.cC,{id:"P2ieni",values:{0:l.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(e=>{o({title:"edit"===l.mode?(0,n.jsx)(B.cC,{id:"K45zvU"}):(0,n.jsx)(B.cC,{id:"FL7N1y",values:{0:l.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===l.mode?"editing":"creating"," font"),e)}).finally(()=>{d(!1),i()})},[i,h,l,o]),f=(0,ns.x_)(l.uploadFontFiles.map(e=>e.fontFile));return(0,n.jsxs)(ew.u_,{isOpen:!0,closeOnOverlayClick:!1,onClose:p,size:"3xl",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:l.hasUploadedFonts?l.fontName?l.fontName:(0,n.jsx)(B.cC,{id:"yT14LZ"}):(0,n.jsx)(B.cC,{id:"O7HGjV"})}),(0,n.jsx)(eN.o,{isDisabled:a}),(0,n.jsx)(J.i,{mb:"4"}),C,l.hasUploadedFonts?(0,n.jsx)(np,{fontFiles:l.uploadFontFiles,fontName:l.fontName,dispatch:r,onFontFileUploadClick:g}):(0,n.jsx)(nC,{onFontFileUploadClick:g}),(0,n.jsx)(J.i,{mb:1}),(0,n.jsx)(eM.m,{children:l.hasUploadedFonts?(0,n.jsxs)(u.k,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"yDnXlV",values:{numOfStyles:f}})}),(0,n.jsxs)(P.h,{children:[(0,n.jsx)(O.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})}),(0,n.jsx)(O.z,{isDisabled:!c||!x,variant:"solid",onClick:b,isLoading:a,children:"edit"===l.mode?(0,n.jsx)(B.cC,{id:"tfDRzk"}):(0,n.jsx)(B.cC,{id:"N/mjN3"})})]})]}):(0,n.jsx)(O.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(B.cC,{id:"dEgA5A"})})})]})]})};var n_=t(5200);let nS=e=>{let{label:i,icon:t,onClick:s}=e;return(0,n.jsx)(s5,{bg:"gray.50",onClick:s,children:(0,n.jsxs)(I.K,{align:"center",children:[(0,n.jsx)(T.x,{fontSize:"x-large",children:t}),(0,n.jsx)(T.x,{children:i}),(0,n.jsx)(ed.U,{productFeature:"custom_fonts"})]})})},nA=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e;(0,s$.G)("customFonts");let{currentWorkspace:s}=(0,d.SE)(),{openUpsellModal:l}=(0,ea.z)(),r=(0,X.lo)(),[o,a]=(0,j.useState)(null),{data:c,error:u,loading:h}=(0,K.LkU)({variables:{workspaceId:null==s?void 0:s.id,archived:!1},skip:!s}),{isOpen:x,onOpen:p,onClose:m}=(0,A.q)(),{isOpen:g,onOpen:C,onClose:b}=(0,A.q)(),{isOpen:f,onOpen:v,onClose:y}=(0,A.q)(),_=(0,j.useCallback)((e,i)=>()=>{if(!r){l({segmentEvent:S.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}a(e),"edit"===i?p():(C(),m()),y()},[r,l,C,y,p,m]),E=(0,j.useCallback)(()=>{if(!r){l({segmentEvent:S.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}a(null),p()},[r,l,p]),k=(0,j.useCallback)(e=>()=>{a(e),v()},[v]),{displayName:w,description:P,ariaLabel:O,icon:N}=tw[tD.FONTS],R=((null==c?void 0:c.fonts)||[]).filter(e=>!e.archived),M=R.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),F=R.length;return(0,n.jsxs)(L.xu,{w:"100%","data-testid":"fonts-view-container",children:[(0,n.jsx)(n_.J,{fonts:M}),(0,n.jsxs)(tW,{isSidebarVisible:i,setIsSidebarVisible:t,children:[(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"fonts-view-header",children:[N&&(0,n.jsx)(U.G,{icon:N,"aria-label":O})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:w})]}),(0,n.jsx)(T.x,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:P})]}),(0,n.jsxs)(I.K,{children:[(0,n.jsx)(T.x,{color:"gray.600",children:(0,n.jsx)(B.cC,{id:"GOR0mG",values:{numOfFonts:F}})}),(0,n.jsxs)(sJ.M,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,n.jsx)(nS,{label:(0,n.jsx)(B.cC,{id:"O7HGjV"}),icon:(0,n.jsx)(U.G,{icon:z.A$k}),onClick:E}),!h&&!u&&R.map(e=>(0,n.jsx)(nn,{font:e,onEditClick:_(e,"edit"),onDeleteClick:_(e,"delete"),onClick:k(e)},e.id))]})]}),x&&s&&(0,n.jsx)(ny,{onClose:m,orgId:s.id,font:o}),g&&s&&o&&(0,n.jsx)(s2,{onClose:b,orgId:s.id,font:o}),f&&o&&(0,n.jsx)(ni,{onClose:y,onEditClick:_(o,"edit"),onDeleteClick:_(o,"delete"),font:o})]})};var nE=t(39122),nI=t(34881);let nk=e=>{let{title:i,body:t,accentColor:s,href:l,icon:r,isNew:o,onClick:a}=e;return(0,n.jsx)(tf(),{href:l,passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(M.P,{as:N.r,position:"relative",padding:"6",border:"2px solid",borderColor:"gray.100",borderRadius:"8",cursor:"pointer",boxSizing:"border-box",background:"white",shadow:"sm",transitionProperty:"common",transitionDuration:"normal",_hover:{borderColor:"".concat(s,".400"),boxShadow:"xl",textDecoration:"none"},role:"group",onClick:a,children:(0,n.jsxs)(I.K,{children:[(0,n.jsx)(u.k,{height:"40",mb:"2",justify:"center",alignItems:"center",borderRadius:"md",top:0,left:0,bottom:0,right:0,background:"".concat(s,".100"),fontSize:"3rem",color:"".concat(s,".300"),transitionProperty:"all",transitionDuration:"normal",_groupHover:{color:"".concat(s,".400"),fontSize:"3.125rem"},children:(0,n.jsx)(L.xu,{children:(0,n.jsx)(U.G,{icon:r,className:"fa-xl"})})}),(0,n.jsxs)(T.x,{mt:2,fontSize:"xl",fontWeight:"bold",lineHeight:"short",children:[i,o&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(k.C,{fontSize:"0.75em",colorScheme:"green",children:(0,n.jsx)(B.cC,{id:"YBt9YP"})})]})]}),(0,n.jsx)(T.x,{fontSize:"sm",children:t})]})})})},nD={createFromAI:{title:(0,n.jsx)(B.cC,{id:"ks31i0"}),body:(0,n.jsx)(B.cC,{id:"y3x+dr"}),colorScheme:"pink",icon:ey.ddb,action:"createFromAI",isNew:!0},createDeck:{title:(0,n.jsx)(B.cC,{id:"17dkjV"}),body:(0,n.jsx)(B.cC,{id:"EHsEUm"}),colorScheme:"purple",icon:ey.RLl,action:"blankDeck",isNew:!1},viewTemplates:{title:(0,n.jsx)(B.cC,{id:"M4C2N9"}),body:(0,n.jsx)(B.cC,{id:"hO9+rY"}),colorScheme:"salmon",icon:ey.BDt,action:"templates",isNew:!1},tipsAndTricks:{title:(0,n.jsx)(B.cC,{id:"ZOGX27"}),body:(0,n.jsx)(B.cC,{id:"mgn8Bj"}),colorScheme:"teal",icon:ey.s2,action:"welcomeDoc",isNew:!1},inspiration:{title:(0,n.jsx)(B.cC,{id:"IR0bRg"}),body:(0,n.jsx)(B.cC,{id:"QbmT2X"}),colorScheme:"orchid",icon:ey.cnt,action:"inspiration",isNew:!1}},nw="getStarted",nT=()=>{let{push:e,query:i,pathname:t}=(0,m.useRouter)(),[s]=(0,sD.c)(),l=!!i[nw],r=(0,j.useCallback)(i=>{let{searchParams:s}=new URL(window.location.href);s.delete(nw),i?i.startsWith("/#")?g().replace(i):((0,nI.lO)({query:Object.fromEntries(s.entries())}),e(i)):g().replace({pathname:t,query:s.toString()},void 0,{shallow:!0})},[t,e]),o=(0,j.useCallback)(()=>{let{searchParams:e}=new URL(window.location.href);e.delete(nw),(0,nI.lO)({query:Object.fromEntries(e.entries())}),s({source:"get_started_modal"})},[s]);return l?(0,n.jsx)(nN,{onClose:r,onCreateDoc:o}):null},nP=e=>{let{isMobile:i,aiWizardEnabled:t,openAiStatus:s}=e,n="DOWN"==s;return i?[...t&&!n?[nD.createFromAI]:[],nD.tipsAndTricks,nD.inspiration]:[...t&&!n?[nD.createFromAI]:[],nD.createDeck,nD.viewTemplates,nD.tipsAndTricks].slice(0,3)},nO={createFromAI:"create_from_ai",welcomeDoc:"welcome_doc",templates:"templates",inspiration:"inspiration",blankDeck:"create_doc"},nN=e=>{var i,t;let{onClose:s,onCreateDoc:l}=e,r=(0,V.ye)("createGenerateV2"),o=(0,S.z$)(),[a]=(0,sm.I)(sg.H.welcomeDocId,null),c=(0,V.ye)("aiWizard"),u=(0,V.ye)("openAiStatus"),h=(0,eE.i)(["full","full","3xl","4xl"]),{user:x,currentWorkspace:p,setSettings:m}=(0,d.SE)(),g=null==x?void 0:x.id,C=nP({isMobile:(0,i8.s2)(),aiWizardEnabled:c,openAiStatus:u}),b=r?"/create/generate?ref=dashboard":nE.ET;(0,j.useEffect)(()=>{null==m||m({remove:["showGetStarted"]})},[m]);let{data:f,loading:v,called:y}=(0,K.HHH)({variables:{workspaceId:null==p?void 0:p.id,first:1,createdBy:g,sortBy:{field:K.IX5.CreatedTime,direction:K.SrV.Asc}},skip:!!(!g||a)}),_=a||(null==x?void 0:null===(i=x.settings)||void 0===i?void 0:i.welcomeDocId)||(null==f?void 0:null===(t=f.docs.edges[0])||void 0===t?void 0:t.node.id),A=(0,j.useCallback)(e=>{switch(e){case"welcomeDoc":_?s("/docs/".concat(_)):console.warn("[StartingModal] No welcomeDoc");break;case"templates":s("/#templates");break;case"inspiration":s("/#inspiration");break;case"blankDeck":l();break;case"createFromAI":s(b);break;default:console.warn("[StartingModal] Unknown action",e)}},[b,s,l,_]);return(0,n.jsxs)(ew.u_,{isOpen:!0,size:h,trapFocus:!1,onClose:()=>{null==o||o.track(S.AA.GET_STARTED_CLICKED,{target:"dismiss",variation:"new"}),s()},children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"h0sjMM"})}),(0,n.jsx)(eN.o,{}),(0,i8.s2)()?(0,n.jsx)(L.xu,{padding:"4",background:"salmon.100",mb:"4",children:(0,n.jsxs)(E.U,{spacing:"5",paddingLeft:"2",children:[(0,n.jsx)(L.xu,{color:"salmon.600",children:(0,n.jsx)(U.G,{icon:z.tc$,className:"fa-xl"})}),(0,n.jsxs)(ei.g,{align:"flex-start",spacing:"0",children:[(0,n.jsx)(T.x,{fontWeight:"600",fontSize:"lg",children:(0,n.jsx)(B.cC,{id:"2aP3e7"})}),(0,n.jsx)(T.x,{fontSize:"sm",children:(0,n.jsx)(B.cC,{id:"WsGA8K"})})]})]})}):(0,n.jsx)(J.i,{mb:"4"}),(0,n.jsx)(eL.f,{children:(0,n.jsx)(sJ.M,{columns:[1,1,3],spacing:5,children:C.map((e,i)=>{let{icon:t,colorScheme:s,title:l,body:r,action:d,isNew:c}=e;if("welcomeDoc"===d&&!a&&y&&!v&&!f)return console.error("[GetStartedModalContent] Unexpectedly cant find a welcomeDocId"),null;let u="blankDeck"===d?"/new":"templates"===d?"/#templates":"inspiration"===d?"/#inspiration":"welcomeDoc"===d?"/docs/".concat(_):"createFromAI"===d?b:"/";return(0,n.jsx)(nk,{accentColor:s||"trueblue",title:l,body:r,href:u,icon:t,isNew:c,onClick:e=>{null==o||o.track(S.AA.GET_STARTED_CLICKED,{target:nO[d],variation:"new"}),e.metaKey||(e.preventDefault(),A(d))}},i)})})}),(0,n.jsx)(eM.m,{})]})]})};var nL=t(33579),nR=t(71508);let nM=e=>{let{deck:i}=e,t=(0,nL.Lq)(i),s=(0,iR.Gn)({docId:t,path:"example"});return(0,n.jsx)(tZ.F7,{title:i.title||"",menuEnabled:!0,href:s,id:t,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==i?void 0:i.previewImageUrl,fallbackSrc:tM.Z.src},NextLink:tf(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==i?void 0:i.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==i?void 0:i.authorImageUrl)||nR.Z.src,isDuplicateEnabled:!1},t)},nF=e=>{let{category:i}=e;if(!i)return(0,n.jsx)(n.Fragment,{});let t=i.decks;return(0,n.jsxs)(L.xu,{mb:8,children:[(0,n.jsx)(sw.Im,{category:i}),(0,n.jsx)(tZ.Gd,{children:null==t?void 0:t.map(e=>(0,n.jsx)(nM,{deck:e},e.docId))})]},i.id)},nz=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{categories:s,loading:l}=(0,sw.jn)(),{displayName:r,ariaLabel:o,description:a,icon:d}=tw[tD.INSPIRATION];return(0,n.jsxs)(L.xu,{w:"100%","data-testid":"inspiration-view-container",children:[(0,n.jsx)(tW,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[d&&(0,n.jsx)(U.G,{icon:d,"aria-label":o})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:r})]})}),l&&(0,n.jsx)(L.xu,{width:"100%","data-testid":"inspiration-skeleton",children:(0,n.jsxs)(tZ.Gd,{children:[(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:F.O},1),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:F.O},2),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:F.O},3)]})}),!l&&s&&(null==s?void 0:s.length)>0&&(null==s?void 0:s.map(e=>(0,n.jsx)(nF,{category:e},e.id)))]})},nU=()=>(0,n.jsxs)(u.k,{flex:1,w:"100%",direction:"column",children:[(0,n.jsx)(F.O,{w:"50%",h:"48px",mb:4}),(0,n.jsx)(L.xu,{w:"100%",children:(0,n.jsxs)(R.r,{templateColumns:["repeat(2, 1fr)","repeat(3, 1fr)"],gap:6,children:[(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O}),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O}),(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:F.O})]})})]}),nB=e=>{let{category:i}=e;if(!i)return(0,n.jsx)(n.Fragment,{});let t=i.decks;return(0,n.jsxs)(L.xu,{mb:8,children:[(0,n.jsx)(sw.Im,{category:i}),(0,n.jsx)(tZ.Gd,{children:null==t?void 0:t.map(e=>(0,n.jsx)(sw.nL,{deck:e},e.docId))})]},i.id)},nG=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{categories:s,loading:l}=(0,sw.tk)(),{isOpen:r,onOpen:o,onClose:a}=(0,A.q)({id:"template-browser-modal"});if((0,i8.s2)())return g().replace("/"),null;let{displayName:d,ariaLabel:c,icon:u}=tw[tD.TEMPLATES];return(0,n.jsxs)(L.xu,{w:"100%","data-testid":"templates-view-container",children:[(0,n.jsx)(tW,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[u&&(0,n.jsx)(U.G,{icon:u,"aria-label":c})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:d})]})}),l&&(0,n.jsx)(nU,{}),!l&&s&&(null==s?void 0:s.length)>0&&(null==s?void 0:s.map(e=>(0,n.jsx)(nB,{category:e},e.id))),r&&(0,n.jsx)(sw.UB,{isOpen:!0,onClose:a})]})};var nH=t(11550),nK=t(50260),nV=t(56745),nW=t(26838),nY=t(86963),nq=t(46409);let nX=e=>{let{label:i,icon:t,onClick:s}=e;return(0,n.jsx)(u.k,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,minW:"100%",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:s,children:(0,n.jsxs)(I.K,{textAlign:"center",children:[(0,n.jsx)(T.x,{fontSize:"xl",children:t}),(0,n.jsx)(T.x,{children:i})]})})},nZ=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,[s,l]=(0,j.useState)("custom"),[r,o]=(0,nY.g)(),{currentWorkspace:a}=(0,d.SE)(),{isOpen:c,onOpen:u,onClose:h}=(0,nH.M)({id:"themeEditor"}),x=(0,j.useCallback)(function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?i?o({type:"SET_NEW_THEME_FOR_SELECTING",data:{theme:e}}):o({type:"SET_THEME_EDITING",data:{theme:e}}):o({type:"NEW_BLANK_THEME"}),u()},[o,u]),p=(0,j.useCallback)(()=>{o({type:"THEME_RESET"}),h()},[o,h]),{data:m,loading:g,called:C}=(0,K.BCl)({variables:{workspaceId:null==a?void 0:a.id,archived:!1},skip:!a}),{data:b}=(0,K.BCl)({variables:{workspaceId:null,archived:!1}}),[f,{data:v,loading:y}]=(0,K.T_w)({variables:{workspaceId:null==a?void 0:a.id,archived:!0},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,j.useEffect)(()=>{"archived"===s&&a&&f()},[a,s,f]);let _=(null==v?void 0:v.themes)||[],S=(null==m?void 0:m.themes)||[],A=(null==b?void 0:b.themes)||[],I=(0,j.useMemo)(()=>(0,nK.QB)(null==b?void 0:b.themes),[b]),{displayName:k,description:w,ariaLabel:P,icon:N}=tw[tD.THEMES],R=(0,eE.i)({base:!0,xl:!1}),G=null===nK.oN||void 0===nK.oN?void 0:nK.oN[s],H=nK.rd.map(e=>({key:e,...nK.oN[e]})),V="custom"===s?S:"archived"===s?_:A;return(0,n.jsxs)(L.xu,{w:"100%","data-testid":"themes-view-container",children:[(0,n.jsx)(nq.Y,{}),(0,n.jsxs)(tW,{isSidebarVisible:i,setIsSidebarVisible:t,children:[(0,n.jsxs)(D.X,{fontSize:"lg",fontWeight:"600","data-testid":"themes-view-header",children:[N&&(0,n.jsx)(U.G,{icon:N,"aria-label":P})," ",(0,n.jsx)(T.x,{as:"span",ml:2,children:k})]}),(0,n.jsx)(T.x,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:w}),(0,n.jsx)(se.E,{id:"filter-by-dropdown",zIndex:"3",width:["100%","auto"],mt:[4,0],children:R?(0,n.jsxs)(em.v,{closeOnSelect:!0,children:[(0,n.jsx)(eg.j,{as:O.z,variant:"ghost",size:"sm",rightIcon:(0,n.jsx)(U.G,{icon:z.ptq}),fontWeight:"600",color:"gray.700",leftIcon:(0,n.jsx)(U.G,{icon:z.G_j}),children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(L.xu,{boxSize:4,children:G.icon}),(0,n.jsx)(L.xu,{children:G.label})]})}),(0,n.jsx)(ej.q,{minWidth:"240px",children:(0,n.jsx)(ef._,{defaultValue:s,title:es.ag._({id:"MwX53Z"}),type:"radio",onChange:e=>{l(e)},value:s,children:H.map(e=>(0,n.jsx)(ev.i,{value:e.key,children:(0,n.jsxs)(E.U,{children:[(0,n.jsx)(L.xu,{w:5,children:e.icon}),(0,n.jsx)(L.xu,{children:e.label})]})},e.key))})})]}):H.map(e=>{let i=e.key===s;return(0,n.jsx)(se.U,{children:(0,n.jsx)(O.z,{fontWeight:"600",color:i?"trueblue.500":"gray.600",bg:i?"trueblue.50":"transparent",size:"sm",leftIcon:e.icon,variant:"ghost",onClick:()=>l(e.key),children:e.label})},e.key)})})]}),!C||g||y?(0,n.jsx)(L.xu,{width:"100%","data-testid":"themes-skeleton",children:(0,n.jsx)(sJ.M,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(e=>(0,n.jsx)(M.P,{bg:"linen.50",borderRadius:"5px",height:"144px",as:F.O},e))})}):0===V.length&&"custom"!==s?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(B.cC,{id:"h+6hB/"})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(nQ,{themes:V,openThemeEditor:x,type:s,defaultNewTheme:I})}),(0,n.jsx)(nV.z,{isOpen:c,onClose:p,state:r,dispatch:o,disableDrawerTransition:!0})]})},nQ=e=>{let{themes:i,type:t,defaultNewTheme:s,openThemeEditor:l}=e,r="custom"===t,o=(0,j.useCallback)(()=>{l&&s&&l(s,!0)},[l,s]),a=(0,j.useCallback)(e=>{null==l||l(e)},[l]);return(0,n.jsx)(I.K,{children:(0,n.jsxs)(sJ.M,{columns:[1,2,2,3,5],spacing:6,children:[r&&(0,n.jsx)(nX,{label:(0,n.jsx)(B.cC,{id:"FiwgR9"}),icon:(0,n.jsx)(U.G,{icon:z.EQ8}),onClick:o}),[...i].sort(nK.qb).map(e=>(0,n.jsx)(nW.o,{type:t,theme:e,isChecked:!1,onEditClick:l,onThemeClicked:r?a:void 0},e.id))]})})};var nJ=t(17324),n$=t(57474);let n0=()=>{let{onClose:e,onOpen:i,isOpen:t}=(0,A.q)(),{user:s,isUserLoading:l}=(0,d.SE)(),r=!!(s&&!l&&!s.jobFunction);return((0,j.useEffect)(()=>{r&&setTimeout(i,1e3)},[r,i]),t)?(0,n.jsxs)(ew.u_,{isOpen:t,onClose:e,closeOnEsc:!1,closeOnOverlayClick:!1,size:"lg",children:[(0,n.jsx)(eT.Z,{}),(0,n.jsxs)(eP.h,{children:[(0,n.jsx)(eO.x,{children:(0,n.jsx)(B.cC,{id:"H8aFPr"})}),(0,n.jsx)(eL.f,{children:(0,n.jsxs)(I.K,{children:[(0,n.jsx)(u.k,{height:32,justifyContent:"center",background:"radial-gradient(circle at center, var(--chakra-colors-pink-200) 0, var(--chakra-colors-salmon-200) 110%)",borderRadius:"md",pt:4,px:4,children:(0,n.jsx)(w.E,{src:n$.Z.src,alt:"Sal floating on a pink gradient"})}),(0,n.jsx)(T.x,{fontSize:"lg",pb:0,pt:4,children:(0,n.jsx)(B.cC,{id:"arCM97"})}),(0,n.jsxs)(T.x,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["(",(0,n.jsx)(B.cC,{id:"H50C1I"})," ",(0,n.jsx)("span",{role:"img","aria-label":"stopwatch",children:"⏱"}),")"]}),(0,n.jsx)(nJ.a,{context:"modal",onSuccess:e})]})})]})]}):(0,n.jsx)(n.Fragment,{})},n1=e=>{let{currentChannelId:i,channelPreview:t,workspaceId:s,joinChannel:l,toastId:r}=e,o=(0,eD.p)();return r?(0,n.jsxs)(u.k,{bg:"white",p:3,px:6,m:4,justify:"center",align:"center",borderRadius:"md",shadow:"md",children:[(0,n.jsx)(T.x,{fontSize:"sm",mr:4,children:(0,n.jsx)(B.cC,{id:"HPr8I3",values:{0:t.name},components:{0:(0,n.jsx)("strong",{})}})}),(0,n.jsxs)(P.h,{size:"sm",alignItems:"center",children:[(0,n.jsx)(O.z,{maxW:"xs",display:"block",noOfLines:1,onClick:()=>{if(!i||!t){console.error("No active channel id");return}l({channel:{...t},workspaceId:s}).then(()=>{o.close(r)})},variant:"solid",children:(0,n.jsx)(B.cC,{id:"0wdd7X"})}),(0,n.jsx)(Q.h,{isRound:!0,variant:"ghost",size:"xs","aria-label":es.ag._({id:"1QfxQT"}),icon:(0,n.jsx)(Z.T,{}),onClick:()=>{o.close(r),g().replace("/#".concat(t6))}})]})]}):null},n2=e=>{let{currentChannelId:i,activeChannel:t,workspaceId:s}=e,l=(0,j.useRef)(),r=(0,eD.p)(),{joinChannel:o}=td(),{data:a,called:d,error:c,loading:u}=(0,K.aw6)({variables:{id:i,workspaceId:s},skip:t||!i||!s}),h=i&&!t&&(null==a?void 0:a.channel)?a.channel:null;return(0,j.useEffect)(()=>{c&&console.error("[useChannelsData] Error fetching channelPreview",c),(c||d&&h&&h.archived)&&g().replace("/#".concat(t6))},[c,h,d,u]),(0,j.useEffect)(()=>{let e=i&&h;return!e&&l.current&&(r.close(l.current),l.current=void 0),e&&(l.current?l.current&&r.update(l.current,{duration:null,render:()=>(0,n.jsx)(n1,{workspaceId:s,currentChannelId:i,channelPreview:h,joinChannel:o,toastId:l.current})}):l.current=r({duration:null,render:()=>(0,n.jsx)(n1,{workspaceId:s,currentChannelId:i,channelPreview:h,joinChannel:o,toastId:l.current})})),()=>{l.current&&r.close(null==l?void 0:l.current)}},[i,h,o,r,s]),{channelPreview:h}},n5=e=>{let{workspaceId:i,user:t}=e,{query:s}=(0,m.useRouter)(),n=Array.isArray(s.channelSlug)?s.channelSlug[0]:s.channelSlug,l=n?n.slice(-15):null,{data:r,loading:o,subscribeToMore:a}=(0,K.uCJ)({variables:{workspaceId:i},skip:!t||!t.workspaceMemberships||!i,returnPartialData:!0});(0,j.useEffect)(()=>{if(a&&i)return a({document:K.olB,variables:{workspaceId:i}})},[a,i]);let d=((null==r?void 0:r.channels)||[]).filter(e=>e.isMember&&!e.archived).sort((e,i)=>e.slug.localeCompare(i.slug,"en")),c=d.find(e=>e.id===l),{channelPreview:u}=n2({currentChannelId:l,activeChannel:c,workspaceId:i});return{channelPreview:u,currentChannelId:l,channels:d,isChannelsLoading:o,activeChannel:c}},n3=e=>{let{currentChannel:i,currentWorkspaceId:t}=e,{replace:s}=(0,m.useRouter)();(0,j.useEffect)(()=>{t&&i&&i.workspaceId!==t&&s("/")},[i,t,s])},n4={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},n6=()=>(0,n.jsx)(u.k,{bg:"#1A013F",direction:"column",mb:4,children:(0,n.jsxs)(u.k,{py:4,px:8,direction:["column","row"],children:[(0,n.jsxs)(I.K,{mr:[0,4],children:[(0,n.jsx)(T.x,{fontSize:"xl",sx:n4,children:"Meet Gamma, the fast alternative to slides"}),(0,n.jsx)(T.x,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,n.jsx)(ee.L,{}),(0,n.jsxs)(E.U,{mt:[2,0],children:[(0,n.jsx)(O.z,{as:"a",href:"/signup",children:"Make your own"}),(0,n.jsx)(O.z,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:()=>{window.location.href="".concat(eA.v.API_HOST,"/logout")},children:"Sign out"})]})]})});var n8=t(53596),n9=t(14027),n7=t(74153);t(39092);let le=e=>{let{selectedThemeId:i,onSelectTheme:t}=e,[s,l]=(0,n7.Ns)("themeId"),{globalThemes:r,workspaceThemes:o,allThemes:a}=lt(),d=a.find(e=>e.id===s),c=i?a.find(e=>e.id===i)||d||n9.g:d||n9.g,u=e=>{l(e),null==t||t(e)};return(0,n.jsxs)(em.v,{matchWidth:!0,isLazy:!0,children:[(0,n.jsx)(eg.j,{as:O.z,w:"100%",variant:"plain",h:"auto",py:2,rightIcon:(0,n.jsx)(T.x,{fontSize:"xs",children:(0,n.jsx)(U.G,{icon:ey.ptq})}),boxShadow:"sm",bg:"white",border:"none",children:(0,n.jsx)(li,{theme:c||n9.g,fontSize:"0.4em"})}),(0,n.jsx)(tz.h,{children:(0,n.jsxs)(ej.q,{maxH:"50vh",overflow:"auto",children:[o.length>0&&(0,n.jsx)(sT.k,{title:es.ag._({id:"B+0JwP"}),children:o.map(e=>(0,n.jsx)(eC.s,{onClick:()=>u(e.id),children:(0,n.jsx)(li,{theme:e,fontSize:"0.6em"})},e.id))}),(0,n.jsx)(sT.k,{title:es.ag._({id:"VjG5AF"}),children:r.map(e=>(0,n.jsx)(eC.s,{onClick:()=>u(e.id),children:(0,n.jsx)(li,{theme:e,fontSize:"0.6em"})},e.id))})]})})]})},li=e=>{let{theme:i,...t}=e;return(0,n.jsxs)(E.U,{w:"100%",spacing:4,textAlign:"start",children:[(0,n.jsx)(L.xu,{w:"16em",...t,children:(0,n.jsx)(n8.n,{theme:i,borderRadius:"md"})}),(0,n.jsx)(L.xu,{flex:"1",noOfLines:2,maxW:"100%",whiteSpace:"normal",wordBreak:"break-word",children:i.name})]})},lt=()=>{let{currentWorkspace:e}=(0,d.SE)(),{data:i,loading:t}=(0,K.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:s,loading:n}=(0,K.BCl)({variables:{workspaceId:null==e?void 0:e.id,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),l=(null==i?void 0:i.themes)||[],r=(null==s?void 0:s.themes)||[],o=(0,j.useMemo)(()=>[...l||[],...r||[]].sort(nK.qb),[l,r]);return{globalThemes:l,workspaceThemes:r,allThemes:o,loading:t||n}},ls=e=>{let{workspaceId:i,selected:t,fieldName:s,options:l}=e,[r]=(0,K.Mqp)(),o=(0,eD.p)(),a=e=>()=>{let i="updated"===e?es.ag._({id:"Xpw8aE"}):es.ag._({id:"jwO7L7"});o({title:i,status:"success",duration:5e3,isClosable:!0,position:"top"})};return(0,n.jsx)(te.t9,{selected:t,options:l,onClick:e=>{let t=e===te.XG.NoAccess?null:e,n={id:i,[s]:t};r({variables:{input:n},optimisticResponse:{updateWorkspace:{id:n.id,[s]:t}}}).then(a("updated")).catch(()=>{console.warn("Error updating permission")})}})},ln={active:{label:(0,n.jsx)(B.cC,{id:"Ob6KWB"}),component:()=>(0,n.jsx)(T.x,{children:"Active Workspace Members"}),icon:ey.iOm},invitations:{label:(0,n.jsx)(B.cC,{id:"ZR1dJ4"}),component:()=>(0,n.jsx)(T.x,{children:"Outstanding Invitations"}),icon:z.FU$}},ll=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(la,{children:(0,n.jsx)(B.cC,{id:"o+K7xz"})}),(0,n.jsxs)(lu,{children:[(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"Y0Fj4S"}),description:(0,n.jsx)(B.cC,{id:"V4OZDJ"}),children:(0,n.jsx)(T.x,{children:"Placeholder"})}),(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"CozWO1"}),description:(0,n.jsx)(B.cC,{id:"Z2mL5G"}),children:(0,n.jsx)(T.x,{children:"Placeholder"})})]})]}),lr=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(la,{children:(0,n.jsx)(B.cC,{id:"EJlVlP"})}),(0,n.jsxs)(lu,{children:[(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"qX22NW"}),description:(0,n.jsxs)(T.x,{children:["Your workspace is currently subscribed to the"," ",(0,n.jsx)("strong",{children:"Pro Annual"})," plan, set to renew on November 20, 2024"]}),children:(0,n.jsx)(T.x,{children:"Placeholder"})}),(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"3jHA5d"}),description:(0,n.jsx)(B.cC,{id:"Hqloak"}),children:(0,n.jsx)(T.x,{children:"Placeholder"})})]})]}),lo={overview:{component:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ll,{}),(0,n.jsx)(lr,{})]}),label:(0,n.jsx)(B.cC,{id:"6/dCYd"}),icon:ey.Kb6},members:{component:()=>{var e;let[i,t]=(0,j.useState)("active"),s=null===(e=ln[i])||void 0===e?void 0:e.component;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(la,{children:(0,n.jsx)(B.cC,{id:"J+c0BR"})}),(0,n.jsx)(lu,{templateRows:"repeat(1, 1fr)",children:(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"KKJitJ"}),description:(0,n.jsxs)(I.K,{children:[(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"CJWQom"})}),(0,n.jsx)("br",{}),(0,n.jsx)(T.x,{children:(0,n.jsx)(B.cC,{id:"fJM4Z7",components:{0:(0,n.jsx)("strong",{})}})})]}),children:(0,n.jsx)(T.x,{children:"Placeholder"})})}),(0,n.jsx)(ld,{children:(0,n.jsx)(B.cC,{id:"1DWkjK"})}),(0,n.jsx)(lh,{tabs:ln,activeTab:i,setActiveTab:t}),s&&(0,n.jsx)(s,{})]})},label:(0,n.jsx)(B.cC,{id:"wlQNTg"}),icon:ey.iOm},defaults:{component:()=>{let{currentWorkspace:e}=(0,d.SE)(),{data:i}=(0,K.WaV)({variables:{id:null==e?void 0:e.id},skip:!(null==e?void 0:e.id)}),{workspace:t}=i||{},[s]=(0,K.Mqp)(),l=(null==t?void 0:t.workspaceMemberPermission)||te.XG.NoAccess,r=(null==t?void 0:t.accessLinkPermission)||te.XG.NoAccess,o=(0,eD.p)(),a=e=>()=>{let i="updated"===e?es.ag._({id:"Xpw8aE"}):es.ag._({id:"jwO7L7"});o({title:i,status:"success",duration:5e3,isClosable:!0,position:"top"})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(la,{children:(0,n.jsx)(B.cC,{id:"XtZ1cx"})}),(0,n.jsxs)(lu,{children:[(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"wtxjAY"}),description:(0,n.jsx)(B.cC,{id:"7bmyCk"}),children:(0,n.jsx)(ls,{workspaceId:null==t?void 0:t.id,selected:l,fieldName:"workspaceMemberPermission",options:[K.y3$.Manage,K.y3$.Edit,K.y3$.Comment,K.y3$.View,te.XG.NoAccess]})}),(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"aOKIxo"}),description:(0,n.jsx)(B.cC,{id:"HOSok9"}),children:(0,n.jsx)(ls,{workspaceId:null==t?void 0:t.id,selected:r,fieldName:"accessLinkPermission",options:[K.y3$.Edit,K.y3$.Comment,K.y3$.View,te.XG.NoAccess]})})]}),(0,n.jsx)(la,{children:(0,n.jsx)(B.cC,{id:"fvaOtb"})}),(0,n.jsx)(lu,{templateRows:"repeat(1, 1fr)",children:(0,n.jsx)(lc,{title:(0,n.jsx)(B.cC,{id:"x5htAS"}),description:(0,n.jsx)(B.cC,{id:"zspFiO"}),children:(0,n.jsx)(le,{selectedThemeId:null==t?void 0:t.defaultThemeId,onSelectTheme:e=>{let i={id:null==t?void 0:t.id,defaultThemeId:e};s({variables:{input:i},optimisticResponse:{updateWorkspace:{id:i.id,defaultThemeId:e}}}).then(a("updated")).catch(()=>{console.warn("Error updating theme")})}})})})]})},label:(0,n.jsx)(B.cC,{id:"8aiTeQ"}),icon:ey.cRF}},la=e=>{let{children:i,...t}=e;return(0,n.jsx)(D.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",...t,children:i})},ld=e=>{let{children:i}=e;return(0,n.jsx)(D.X,{fontSize:"lg",fontWeight:"600",color:"gray.800",mt:"8",mb:"4",children:(0,n.jsx)(T.x,{children:i})})},lc=e=>{let{title:i,description:t,children:s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(M.P,{children:[(0,n.jsx)(ld,{children:i}),(0,n.jsx)(T.x,{fontSize:"sm",mt:"2",mb:"6",color:"gray.600",children:t})]}),(0,n.jsx)(M.P,{children:(0,n.jsx)(T.x,{children:s})})]})},lu=e=>{let{children:i,templateColumns:t="repeat(2, 1fr)",templateRows:s="repeat(2, 1fr)",alignItems:l="center",gap:r=6,mt:o=4,w:a="100%",...d}=e;return(0,n.jsx)(R.r,{templateColumns:t,templateRows:s,gap:r,mt:o,w:a,alignItems:l,...d,children:i})},lh=e=>{let{tabs:i=lo,activeTab:t,setActiveTab:s}=e,l=Object.keys(i).indexOf(t);return(0,n.jsx)(e4.m,{variant:"soft-rounded",index:l,children:(0,n.jsx)(e6.t,{gap:"4",children:Object.entries(i).map(e=>{let[i,{label:t,icon:l}]=e;return(0,n.jsx)(e8.O,{rounded:"md",onClick:()=>s(i),children:(0,n.jsxs)(E.U,{spacing:"2",gap:"2",children:[(0,n.jsx)(U.G,{icon:l}),t]})},i)})})})},lx=e=>{var i;let{isSidebarVisible:t,setIsSidebarVisible:s}=e,[l,r]=(0,j.useState)("overview"),o=null===(i=lo[l])||void 0===i?void 0:i.component;return(0,n.jsxs)(ei.g,{alignItems:"flex-start",gap:6,children:[(0,n.jsx)(tW,{isSidebarVisible:t,setIsSidebarVisible:s,children:(0,n.jsx)(lh,{activeTab:l,setActiveTab:r})}),o&&(0,n.jsx)(o,{})]})},lp=e=>Object.values(tD).find(i=>i===e),lm=()=>{let[e,i]=(0,j.useState)(!1),{user:t,currentWorkspace:s}=(0,d.SE)(),{isReady:l}=(0,m.useRouter)(),r=(0,y._O)(),o=!!(t&&0===t.workspaceMemberships.length),a=lp((0,iR.AE)()),{channelPreview:c,channels:x,activeChannel:A,currentChannelId:E,isChannelsLoading:I}=n5({workspaceId:null==s?void 0:s.id,user:t});n3({currentChannel:c||A,currentWorkspaceId:null==s?void 0:s.id});let k=E?tD.CHANNEL:a||t6,D=(0,V.ye)("workspaceSettings");return(0,j.useEffect)(()=>{r||"sites"!==k||g().replace("/")},[r]),(0,j.useEffect)(()=>{l&&(o?g().replace("/#".concat(tD.SHARED_WITH_ME)):setTimeout(()=>i(!1),150))},[a,E,o,l]),(0,S.If)(e=>{e.track(S.AA.HOME_TAB_VIEWED,{tab:k})},[k]),(0,n.jsxs)(C.W,{backend:b.PD,children:[(0,n.jsxs)(u.k,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,n.jsx)(p(),{children:(0,n.jsx)("title",{children:a?"".concat(tw[a].ariaLabel," - ").concat(v.N6):"".concat(v.N6)})}),(0,n.jsx)(_.H9,{}),(0,n.jsx)(nT,{}),o?null:(0,n.jsx)(tT,{channelPreview:c,isSidebarVisible:e,setIsSidebarVisible:i,user:t,isReady:!!t,activeTab:k,currentChannelId:E,channels:x,isChannelsLoading:I}),(0,n.jsxs)(u.k,{"data-testid":"doc-root-main",flex:"1",px:o?0:(0,i8.s2)()?2:6,py:o?0:(0,i8.s2)()?2:6,w:"calc(100vw - 300px - var(--chakra-sizes-4))",bg:"gray.100",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease",children:[o&&(0,n.jsx)(n6,{}),(0,n.jsx)(h.W,{maxW:"80em",p:(0,i8.s2)()?2:void 0,h:"100%",children:k===tk.TEMPLATES?(0,n.jsx)(nG,{isSidebarVisible:e,setIsSidebarVisible:i}):k===tk.INSPIRATION?(0,n.jsx)(nz,{isSidebarVisible:e,setIsSidebarVisible:i}):k===tk.THEMES?(0,n.jsx)(nZ,{isSidebarVisible:e,setIsSidebarVisible:i}):k===tk.FONTS?(0,n.jsx)(nA,{isSidebarVisible:e,setIsSidebarVisible:i}):r&&k===tk.SITES?(0,n.jsx)(tq,{isSidebarVisible:e,setIsSidebarVisible:i}):D&&k===tk.SETTINGS?(0,n.jsx)(lx,{isSidebarVisible:e,setIsSidebarVisible:i}):(0,n.jsx)(sQ,{activeTab:k,userHasNoWorkspaces:o,isSidebarVisible:e,setIsSidebarVisible:i,currentChannelId:E,activeChannel:A,channelPreview:c})})]})]}),(0,n.jsx)(f.C,{showShortcuts:!1}),(0,n.jsx)(n0,{})]})},lg=()=>{let[e,i]=(0,j.useState)(!1);return(0,n.jsxs)(u.k,{"data-testid":"home",width:"100%",height:"100%",children:[(0,n.jsx)(p(),{children:(0,n.jsx)("title",{children:"Gamma"})}),(0,n.jsx)(u.k,{direction:"column",zIndex:"overlay",h:"100%",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{sm:"lg",md:"none"},transform:e?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(-100%,0px)",md:"translate(0,0)"},transition:"transform .2s ease",children:(0,n.jsx)(u.k,{overflowY:"auto",h:"100vh",p:6,py:2,direction:"column",alignContent:"space-between",children:(0,n.jsx)(tI,{setIsSidebarVisible:i})})}),(0,n.jsx)(u.k,{"data-testid":"doc-root-main",flex:"1",px:2,py:6,w:"100vw",bg:"gray.100",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:(0,n.jsxs)(h.W,{maxW:"80em",children:[(0,n.jsx)(F.O,{height:"42px",w:"30%",mb:2}),(0,n.jsx)(F.O,{height:"24px",w:"100%",mb:2}),(0,n.jsx)(F.O,{height:"24px",w:"100%",mb:10}),(0,n.jsx)(u.k,{width:"100%",children:(0,n.jsx)(sv,{})})]})})]})};var lj=t(93441);let lC=()=>{let{push:e}=(0,l.useRouter)(),{userStatus:i}=(0,d.SE)(),t=(0,lj.gF)();return((0,a.X)(!0),(0,c.o)(),t)?(0,n.jsx)(lm,{},"home-v2"):(0,n.jsx)(lg,{},"home-skeleton")};var lb=(0,r.z)((0,o.wI)(lC))},18412:function(e,i,t){"use strict";t.d(i,{T:function(){return n}});var s=t(76919);let n=new s.v},55274:function(e,i,t){"use strict";t.d(i,{AA:function(){return u},DN:function(){return d},mb:function(){return c}});var s=t(5632),n=t(2784),l=t(91994),r=t(47968),o=t(78462),a=t(18412);let d=(0,n.createContext)({openPageSetup:(e,i)=>{},openSiteSettings:e=>{},openSharePanel:(e,i)=>{}}),c=(e,i)=>{let{push:t}=(0,s.useRouter)(),d=(0,l.qr)();return(0,n.useMemo)(()=>({openPageSetup:async(s,n)=>{if(!i)return;let l=()=>a.T.emit("openPageSetup",n);if(s!==e){let e=(0,o.yQ)({docId:s});await t(e);let i=d.subscribe(()=>{(0,r.ke)(d.getState())===s&&(l(),i())})}else l()},openSiteSettings:e=>{a.T.emit("openSiteSettings",e)},openSharePanel:async(i,s)=>{let n=()=>a.T.emit("openSharePanel",s);if(i!==e){let e=(0,o.yQ)({docId:i});await t(e);let s=d.subscribe(()=>{(0,r.ke)(d.getState())===i&&(n(),s())})}else n()}}),[e,t,i,d])},u=()=>(0,n.useContext)(d)},90439:function(e,i,t){"use strict";t.d(i,{Oj:function(){return o},Pv:function(){return r},QX:function(){return l},cx:function(){return n}});var s=t(14274);let n=s.v.GAMMA_PUPPETEER_SERVICE,l=n&&"pptx"===window.format,r=n&&"pdf"===window.format,o=n&&"screenshot"===window.format},7e4:function(e,i,t){"use strict";t.d(i,{X:function(){return l}});var s=t(2784),n=t(18733);function l(e,i){let[t,l]=(0,s.useState)(()=>{try{let t=n.Q.getItem(e);if(null===t)return i;return JSON.parse(t)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),i}}),r=(0,s.useCallback)(i=>{try{n.Q.setItem(e,JSON.stringify(i)),l(i)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e]);return[t,r]}},62376:function(){},6991:function(){},76298:function(){},4466:function(){},43839:function(){},2517:function(){},73481:function(e,i,t){"use strict";t.d(i,{P:function(){return h}});var s=t(31053),n=t(68023),l=t(76801),r=t(52322),o=(0,n.G)(function(e,i){let{children:t,placeholder:n,className:o,...a}=e;return(0,r.jsxs)(l.m.select,{...a,ref:i,className:(0,s.cx)("chakra-select",o),children:[n&&(0,r.jsx)("option",{value:"",children:n}),t]})});o.displayName="SelectField";var a=t(76874),d=t(91982),c=t(84586),u=t(2784),h=(0,n.G)((e,i)=>{var t;let n=(0,d.jC)("Select",e),{rootProps:u,placeholder:h,icon:x,color:p,height:g,h:j,minH:C,minHeight:b,iconColor:f,iconSize:v,...y}=(0,c.Lr)(e),[_,S]=function(e,i){let t={},s={};for(let[n,l]of Object.entries(e))i.includes(n)?t[n]=l:s[n]=l;return[t,s]}(y,c.oE),A=(0,a.Y)(S),E={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...null==(t=n.field)?void 0:t._focus}};return(0,r.jsxs)(l.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},..._,...u,children:[(0,r.jsx)(o,{ref:i,height:null!=j?j:g,minH:null!=C?C:b,placeholder:h,...A,__css:E,children:e.children}),(0,r.jsx)(m,{"data-disabled":(0,s.PB)(A.disabled),...(f||p)&&{color:f||p},__css:n.icon,...v&&{fontSize:v},children:x})]})});h.displayName="Select";var x=e=>(0,r.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),p=(0,l.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),m=e=>{let{children:i=(0,r.jsx)(x,{}),...t}=e,s=(0,u.cloneElement)(i,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,r.jsx)(p,{...t,className:"chakra-select__icon-wrapper",children:(0,u.isValidElement)(i)?s:null})};m.displayName="SelectIcon"}},function(e){e.O(0,[9774,7662,8433,2182,2812,8774,6694,4078,3273,9025,5333,4424,8707,146,3661,3016,116,2545,235,5112,3693,931,2808,6618,205,592,2252,1537,6656,2681,8794,9718,9656,887,2888,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);
//# sourceMappingURL=index-c3f628c094eb264c.js.map